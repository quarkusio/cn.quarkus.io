# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-12-14 18:04+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/security-openid-connect-dev-services.adoc:6
#, fuzzy, no-wrap
msgid "Dev Services and UI for OpenID Connect (OIDC)"
msgstr "OpenID Connect（OIDC）的开发服务和用户界面"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:13
#, fuzzy
msgid "This guide covers the Dev Services and UI for OpenID Connect (OIDC) Keycloak provider and explains how to support Dev Services and UI for other OpenID Connect providers.  It also describes Dev UI for all OpenID Connect providers which have already been started before Quarkus is launched in a dev mode."
msgstr "本指南涵盖了OpenID Connect（OIDC）Keycloak提供商的开发服务和用户界面，并解释了如何支持其他OpenID Connect提供商的开发服务和用户界面。它还描述了在Quarkus以开发模式启动之前已经启动的所有OpenID Connect提供商的开发界面。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:14
#, fuzzy, no-wrap
msgid "Introduction"
msgstr "简介"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:18
#, fuzzy
msgid "Quarkus introduces an experimental `Dev Services For Keycloak` feature which is enabled by default when the `quarkus-oidc` extension is started in dev mode and when the integration tests are running in test mode, but only when no `quarkus.oidc.auth-server-url` property is configured.  It starts a Keycloak container for both the dev and/or test modes and initializes them by registering the existing Keycloak realm or creating a new realm with the client and users for you to start developing your Quarkus application secured by Keycloak immediately. It will restart the container when the `application.properties` or the realm file changes have been detected."
msgstr "Quarkus引入了一个实验性的 `Dev Services For Keycloak` 功能，当 `quarkus-oidc` 扩展在开发模式下启动和集成测试在测试模式下运行时，该功能默认启用，但只有在没有配置 `quarkus.oidc.auth-server-url` 属性时才会启用。它为开发和/或测试模式启动一个Keycloak容器，并通过注册现有的Keycloak境界或创建一个新的境界与客户端和用户来初始化它们，以便你立即开始开发由Keycloak保护的Quarkus应用程序。当检测到 `application.properties` 或境界文件变化时，它将重新启动容器。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:20
#, fuzzy
msgid "Additionally, xref:dev-ui.adoc[Dev UI] available at http://localhost:8080/q/dev[/q/dev] complements this feature with a Dev UI page which helps to acquire the tokens from Keycloak and test your Quarkus application."
msgstr "此外，在 link:http://localhost:8080/q/dev[/q/dev] 提供的 link:dev-ui.html[Dev UI] 补充了这一功能，它有助于从Keycloak获取令牌并测试你的Quarkus应用程序。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:22
#, fuzzy
msgid "If `quarkus.oidc.auth-server-url` is already set then a generic OpenID Connect Dev Console which can be used with all OpenID Connect providers will be activated, please see <<dev-ui-all-oidc-providers,Dev UI for all OpenID Connect Providers>> for more information."
msgstr "如果 `quarkus.oidc.auth-server-url` ，那么一个可以用于所有OpenID Connect提供商的通用OpenID Connect Dev Console将被激活，更多信息请参见 link:#dev-ui-all-oidc-providers[所有OpenID Connect提供商的Dev UI] 。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:23
#, fuzzy, no-wrap
msgid "Dev Services for Keycloak"
msgstr "为Keycloak提供的开发服务"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:26
#, fuzzy
msgid "Start your application without configuring `quarkus.oidc` properties in `application.properties` with:"
msgstr "在 `application.properties` ，无需配置 `quarkus.oidc` 属性，就可以启动你的应用程序。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:30
#, fuzzy
msgid "You will see in the console something similar to:"
msgstr "你将在控制台看到类似的内容。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:36
#, no-wrap
msgid ""
"KeyCloak Dev Services Starting:\n"
"2021-11-02 17:14:24,864 INFO  [org.tes.con.wai.str.HttpWaitStrategy] (build-10) /unruffled_agnesi: Waiting for 60 seconds for URL: http://localhost:32781 (where port 32781 maps to container port 8080)\n"
"2021-11-02 17:14:44,170 INFO  [io.qua.oid.dep.dev.key.KeycloakDevServicesProcessor] (build-10) Dev Services for Keycloak started.\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:41
#, fuzzy
msgid "When logging in the Keycloak admin console, the username is `admin` and the password is `admin`."
msgstr "在登录Keycloak管理控制台时，用户名是 `admin` ，密码是 `admin` 。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:44
#, fuzzy
msgid "Note that by default, `Dev Services for Keycloak` will not start a new container if it finds a container with a `quarkus-dev-service-keycloak` label and connect to it if this label's value matches the value of the `quarkus.keycloak.devservices.service-name` property (default value is `quarkus`). In such cases you will see a slightly different output when running:"
msgstr "请注意，在默认情况下，如果 `Dev Services for Keycloak` 找到一个带有 `quarkus-dev-service-keycloak` 标签的容器，并且如果这个标签的值与 `quarkus.keycloak.devservices.service-name` 属性的值相匹配（默认值为 `quarkus` ），则不会启动一个新容器。在这种情况下，你在运行时将会看到一个略有不同的输出。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:52
#, no-wrap
msgid ""
"2021-08-27 18:42:43,530 INFO  [io.qua.dev.com.ContainerLocator] (build-15) Dev Services container found: 48fee151a31ddfe32c39965be8f61108587b25ed2f66cdc18bb926d9e2e570c5 (quay.io/keycloak/keycloak:14.0.0). Connecting to: 0.0.0.0:32797.\n"
"2021-08-27 18:42:43,600 INFO  [io.qua.oid.dep.dev.key.KeycloakDevServicesProcessor] (build-15) Dev Services for Keycloak started.\n"
"...\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:55
#, fuzzy
msgid "Note that you can disable sharing the containers with `quarkus.keycloak.devservices.shared=false`."
msgstr "注意，你可以用 `quarkus.keycloak.devservices.shared=false` ，禁止共享容器。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:57
#, fuzzy
msgid "Now open the main link:http://localhost:8080/q/dev[Dev UI page], and you will see the `OpenID Connect Card` linking to a Keycloak page:"
msgstr "现在打开主要的 link:http://localhost:8080/q/dev[Dev UI页面] ，你会看到 `OpenID Connect Card` ，链接到一个 `Keycloak` 页面。"

#. type: Named 'alt' AttributeList argument for macro 'image'
#: upstream/_guides/security-openid-connect-dev-services.adoc:58
#: upstream/_guides/security-openid-connect-dev-services.adoc:74
#: upstream/_guides/security-openid-connect-dev-services.adoc:87
#: upstream/_guides/security-openid-connect-dev-services.adoc:91
#: upstream/_guides/security-openid-connect-dev-services.adoc:97
#: upstream/_guides/security-openid-connect-dev-services.adoc:109
#: upstream/_guides/security-openid-connect-dev-services.adoc:148
#: upstream/_guides/security-openid-connect-dev-services.adoc:170
#: upstream/_guides/security-openid-connect-dev-services.adoc:181
#: upstream/_guides/security-openid-connect-dev-services.adoc:262
#: upstream/_guides/security-openid-connect-dev-services.adoc:275
#, fuzzy, no-wrap
msgid "Dev"
msgstr "拓展"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:58
#, no-wrap
msgid "dev-ui-oidc-keycloak-card.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:61
#, fuzzy
msgid "Click on the `Provider: Keycloak` link, and you will see a Keycloak page which will be presented slightly differently depending on how `Dev Services for Keycloak` feature has been configured."
msgstr "点击 `Provider: Keycloak` ，你将看到一个Keycloak页面，该页面的呈现方式将略有不同，这取决于 `Dev Services for Keycloak` 功能的配置方式。"

#. type: Title ===
#: upstream/_guides/security-openid-connect-dev-services.adoc:63
#, fuzzy, no-wrap
msgid "Developing Service Applications"
msgstr "开发服务应用"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:66
#, fuzzy
msgid "By default, the Keycloak page can be used to support the development of a xref:security-openid-connect.adoc[Quarkus OIDC service application]."
msgstr "默认情况下，Keycloak页面可用于支持 link:security-openid-connect.html[Quarkus OIDC服务应用程序] 的开发。"

#. type: Title ====
#: upstream/_guides/security-openid-connect-dev-services.adoc:68
#, fuzzy, no-wrap
msgid "Authorization Code Grant"
msgstr "授权代码授予"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:71
#, fuzzy
msgid "If you set `quarkus.oidc.devui.grant.type=code` in `application.properties` (this is a default value) then an `authorization_code` grant will be used to acquire both access and ID tokens. Using this grant is recommended to emulate a typical flow where a `Single Page Application` acquires the tokens and uses them to access Quarkus services."
msgstr "如果你在 `application.properties` （这是一个默认值）中设置了 `quarkus.oidc.devui.grant.type=code` ，那么一个 `authorization_code` 授予将被用来获取访问和ID令牌。建议使用这个授予来模拟一个典型的流程，即 `Single Page Application` 获取令牌并使用它们来访问Quarkus服务。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:73
#, fuzzy
msgid "First you will see an option to `Log into Single Page Application`:"
msgstr "首先你会看到一个选项： `Log into Single Page Application` 。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:74
#, no-wrap
msgid "dev-ui-keycloak-sign-in-to-spa.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:77
#, fuzzy
msgid "Choose Keycloak realm and client id which will be used during the authentication process."
msgstr "选择将在认证过程中使用的Keycloak境界和客户端ID。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:81
#, fuzzy
msgid "This SPA represents a public OpenId Connect client therefore the client IDs you enter should identify public Keycloak clients which have no secrets. This is because SPA is not a web application and can not securely handle secrets which it will need to complete the authorization code flow if the client secret is also expected to complete the authorization code flow."
msgstr "这个SPA代表一个公共的OpenId Connect客户端，因此你输入的客户端ID应该是没有秘密的公共Keycloak客户端。这是因为SPA不是一个网络应用程序，不能安全地处理秘密，如果客户端的秘密也被期望完成授权代码流，那么它将需要完成授权代码流。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:83
#, fuzzy
msgid "The clients requiring secrets can only be supported with this SPA if a default realm has been created or if `quarkus.oidc.credentials.secret` is configued and a single custom realm is used since in these cases the SPA can figure out the client secret it may need to complete the authorization code flow after Keycloak redorected the user back to it."
msgstr "只有在创建了默认境界或配置了 `quarkus.oidc.credentials.secret` ，并使用了单一的自定义境界的情况下，需要秘密的客户端才能得到该SPA的支持，因为在这些情况下，SPA可以找出它可能需要的客户端秘密，以便在Keycloak将用户重新找回后完成授权代码流。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:86
#, fuzzy
msgid "Next, after selecting `Log into Single Page Application`, you will be redirected to Keycloak to authenticate, example, as `alice:alice` and then returned to the page representing the SPA:"
msgstr "接下来，在你选择这个选项后，你将被重定向到Keycloak进行认证，例如，作为 `alice:alice` ，然后返回到代表SPA的页面。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:87
#, no-wrap
msgid "dev-ui-keycloak-test-service-from-spa.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:90
#, fuzzy
msgid "You can view the acquired access and ID tokens, for example:"
msgstr "例如，你可以查看获得的访问和ID令牌。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:91
#, no-wrap
msgid "dev-ui-keycloak-decoded-tokens.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:94
#, fuzzy
msgid "This view shows the encoded JWT token on the left-hand side and highlights the headers (red colour), payload/claims (green colour) and signature (blue colour). It also shows the decoded JWT token on the right-hand side where you can see the header and claim names and their values."
msgstr "该视图在左侧显示了编码后的JWT令牌，并突出显示了报头（红色）、有效载荷/请求（绿色）和签名（蓝色）。它还在右侧显示了解码后的JWT令牌，你可以看到头和要求的名称及其值。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:96
#, fuzzy
msgid "Next test the service by entering a relative service path and sending a token. SPA usually sends access tokens to the application endpoint, so choose `Test with Access Token` option, for example:"
msgstr "接下来通过输入一个相对的服务路径和发送一个令牌来测试服务。SPA通常向应用程序端点发送访问令牌，因此选择 `Test with Access Token` ，例如，选择 选项。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:97
#, no-wrap
msgid "dev-ui-keycloak-test-access-token.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:100
#, fuzzy
msgid "You can use an `eraser` symbol in the right bottom corner to clear the test results area."
msgstr "你可以使用右下角的 `eraser` 符号来清除测试结果区。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:102
#, fuzzy
msgid "Sometimes ID tokens are forwarded to the application frontends as bearer tokens as well for the endpoints be aware about the user who is currently logged into SPA or to perform an out-of-band token verification. Choose `Test with ID Token` option in such cases."
msgstr "有时ID令牌也会作为不记名令牌转发给应用前端，以便端点了解当前登录SPA的用户，或执行带外令牌验证。在这种情况下，选择 `Test with ID Token` 选项。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:104
#, fuzzy
msgid "Manually entering the service paths is not ideal, so please see the <<test-with-swagger-graphql, Test with Swagger UI or GraphQL UI>> section about enabling Swagger or GraphQL UI for testing the service with the access token already acquired by OIDC Dev UI."
msgstr "手动输入服务路径并不理想，所以请看 link:#test-with-swagger-graphql[使用Swagger UI或GraphQL UI测试] 一节，关于启用Swagger或GraphQL UI，用OIDC Dev UI已经获得的访问令牌测试服务。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:106
#, fuzzy
msgid "Finally, you can select a `Log Out` image::dev-ui-keycloak-logout.png option if you'd like to log out and authenticate to Keycloak as a different user."
msgstr "最后你可以选择 `Log Out` image::dev-ui-keycloak-logout.png选项，如果你想退出并以不同的用户身份认证Keycloak。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:108
#, fuzzy
msgid "Note Keycloak may return an error when you try to `Log into Single Page Application`. For example, `quarkus.oidc.client-id` may not match the client id in the realm imported to Keycloak or the client in this realm is not configured correctly to support the authorization code flow, etc. In such cases Keycloak will return an `error_description` query parameter and `Dev UI` will also show this error description, for example:"
msgstr "注意 当你尝试 `Log into Single Page Application` ，Keycloak可能会返回一个错误。例如， `quarkus.oidc.client-id` 可能与导入Keycloak的境界中的客户ID不匹配，或者该境界中的客户没有被正确配置为支持授权代码流，等等。在这种情况下，Keycloak将返回一个 `error_description` 查询参数， `Dev UI` 也将显示这个错误描述，例如。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:109
#, no-wrap
msgid "dev-ui-keycloak-login-error.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:112
#, fuzzy
msgid "If the error occurs then log into Keycloak using the `Keycloak Admin` option and update the realm configuration as necessary and also check the `application.properties`."
msgstr "如果发生错误，那么使用 `Keycloak Admin` 选项登录Keycloak，并根据需要更新境界配置，同时检查 `application.properties` 。"

#. type: Title =====
#: upstream/_guides/security-openid-connect-dev-services.adoc:114
#, fuzzy, no-wrap
msgid "Test with Swagger UI or GraphQL UI"
msgstr "用Swagger UI或GrapghQL UI进行测试"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:117
#, fuzzy
msgid "You can avoid manually entering the service paths and test your service with `Swagger UI` or `GraphQL UI` if `quarkus-smallrye-openapi` and/or `quarkus-smallrye-graphql` are used in your project. For example, if you start Quarkus in dev mode with both `quarkus-smallrye-openapi` and `quarkus-smallrye-graphql` dependencies then you will see the following options after logging in into Keycloak:"
msgstr "如果你的项目中使用了 `quarkus-smallrye-openapi` 和/或 `quarkus-smallrye-graphql` ，你可以避免手动输入服务路径，用 `Swagger UI` 或 `GraphQL UI` 测试你的服务。例如，如果你在开发模式下启动Quarkus，同时依赖 `quarkus-smallrye-openapi` 和 `quarkus-smallrye-graphql` ，那么你在登录到Keycloak后会看到以下选项。"

#. type: Named 'alt' AttributeList argument for macro 'image'
#: upstream/_guides/security-openid-connect-dev-services.adoc:118
#, fuzzy, no-wrap
msgid "Test"
msgstr "测试"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:118
#, no-wrap
msgid "dev-ui-keycloak-test-service-swaggerui-graphql.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:122
#, fuzzy
msgid "For example, clicking on `Swagger UI` will open `Swagger UI` in a new browser tab where you can test the service using the token acquired by Dev UI for Keycloak.  and `Swagger UI` will not try to re-authenticate again. Do not choose a `Swagger UI` `Authorize` option once you are in Swagger UI since OIDC Dev UI has done the authorization and provided the access token for Swagger UI to use for testing."
msgstr "例如，点击 `Swagger UI` ，将在一个新的浏览器标签中打开 `Swagger UI` ，在那里你可以使用Keycloak的Dev UI获得的令牌来测试服务。而 `Swagger UI` ，将不会再尝试重新认证。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:124
#, fuzzy
msgid "Integration with `GraphQL UI` works in a similar way, the access token acquired by Dev UI for Keycloak will be used."
msgstr "与 `GraphQL UI` 集成的方式类似，将使用Dev UI为Keycloak获得的访问令牌。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:128
#, fuzzy
msgid "You may need to register a redirect URI for the authorization code flow initiated by Dev UI for Keycloak to work because Keycloak may enforce that the authenticated users are redirected only to the configured redirect URI. It is recommended to do in production to avoid the users being redirected to the wrong endpoints which might happen if the correct `redirect_uri` parameter in the authentication request URI has been manipulated."
msgstr "你可能需要为由Dev UI发起的授权代码流注册一个重定向URI，以便Keycloak工作，因为Keycloak可能强制要求认证用户只被重定向到配置的重定向URI。建议在生产中这样做，以避免用户被重定向到错误的端点，如果认证请求URI中正确的 `redirect_uri` 参数被篡改，可能会发生这种情况。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:130
#, fuzzy
msgid "If Keycloak does enforce it then you will see an authentication error informing you that the `redirect_uri` value is wrong."
msgstr "如果Keycloak确实执行了它，那么你会看到一个认证错误，通知你 `redirect_uri` 值是错误的。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:132
#, fuzzy
msgid "In this case select the `Keycloak Admin` option in the right top corner, login as `admin:admin`, select the test realm and the client which Dev UI for Keycloak is configured with and add `http://localhost:8080/q/dev/io.quarkus.quarkus-oidc/provider` to `Valid Redirect URIs`. If you used `-Dquarkus.http.port` when starting Quarkus then change `8080` to the value of `quarkus.http.port`."
msgstr "在这种情况下，选择右上角的 `Keycloak Admin` ，以 `admin:admin` ，选择测试境界和Keycloak的Dev UI配置的客户端，然后添加到 。 `<a href=\"http://localhost:8080/q/dev/io.quarkus.quarkus-oidc/provider\" class=\"bare\">http://localhost:8080/q/dev/io.quarkus.quarkus-oidc/provider</a>` 到 `Valid Redirect URIs` 。如果你在启动Quarkus时使用了 `-Dquarkus.http.port` ，那么将 `8080` 改为 `quarkus.http.port` 的值。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:134
#, fuzzy
msgid "If the container is shared between multiple applications running on different ports then you will need to register `redirect_uri` values for each of these applications."
msgstr "如果容器被运行在不同端口的多个应用程序共享，那么你将需要为这些应用程序中的每一个注册 `redirect_uri` 值。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:136
#, fuzzy
msgid "You can set the `redirect_uri` value to `*` only for the test purposes, especially when the containers are shared between multiple applications."
msgstr "你可以将 `redirect_uri` 值设置为 `*` ，仅用于测试目的，特别是当容器在多个应用程序之间共享时。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:138
#, fuzzy
msgid "`*` `redirect_uri` value is set by `Dev Services for Keycloak` when it creates a default realm, if no custom realm is imported."
msgstr " `*` `redirect_uri` 值由 `Dev Services for Keycloak` 在创建默认境界时设置，如果没有导入自定义境界。"

#. type: Title ====
#: upstream/_guides/security-openid-connect-dev-services.adoc:140
#, fuzzy, no-wrap
msgid "Implicit Grant"
msgstr "隐性资助"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:143
#, fuzzy
msgid "If you set `quarkus.oidc.devui.grant.type=implicit` in `application.properties` then an `implicit` grant will be used to acquire both access and ID tokens. Use this grant for emulating a `Single Page Application` only if the authorization code grant does not work (for example, a client is configured in Keycloak to support an implicit grant, etc)."
msgstr "如果你在 `application.properties` 中设置了 `quarkus.oidc.devui.grant.type=implicit` ，那么一个 `implicit` 授予将被用来获取访问和ID令牌。只有在授权码授予不起作用的情况下，才使用这种授予来模拟 `Single Page Application` （例如，客户端在Keycloak中被配置为支持隐式授予，等等）。"

#. type: Title ====
#: upstream/_guides/security-openid-connect-dev-services.adoc:144
#, fuzzy, no-wrap
msgid "Password Grant"
msgstr "密码授予"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:147
#, fuzzy
msgid "If you set `quarkus.oidc.devui.grant.type=password` in `application.properties` then you will see a screen like this one:"
msgstr " `application.properties` 如果你在 `quarkus.oidc.devui.grant.type=password` ，那么你会看到一个像这样的屏幕。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:148
#, no-wrap
msgid "dev-ui-keycloak-password-grant.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:153
#, fuzzy
msgid "Select a realm, enter client id and secret, username amd user password, a relative service endpoint path, click on `Test Service` and you will see a status code such as `200`, `403`, `401` or `404` printed.  If the username is also set in `quarkus.keycloak.devservices.users` map property containing usernames and passwords then you do not have to set a password when testing the service.  But note, you do not have to initialize `quarkus.keycloak.devservices.users` to test the service using the password grant."
msgstr "输入一个注册的用户名，用户密码，一个相对的服务端点路径，点击 `Test Service` ，你会看到一个状态代码，如 `200` , `403` , `401` 或 `404` 打印。如果用户名也设置在 `quarkus.keycloak.devservices.users` 地图属性中，包含用户名和密码，那么你在测试服务时就不必设置密码。但是请注意，你不必初始化 `quarkus.keycloak.devservices.users` 来测试使用密码授予的服务。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:155
#, fuzzy
msgid "You will also see in the Dev UI console something similar to:"
msgstr "你也会在开发用户界面控制台看到类似的东西。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:162
#, no-wrap
msgid ""
"2021-07-19 17:58:11,407 INFO  [io.qua.oid.dep.dev.key.KeycloakDevConsolePostHandler] (security-openid-connect-quickstart-dev.jar) (DEV Console action) Using password grant to get a token from 'http://localhost:32818/realms/quarkus/protocol/openid-connect/token' for user 'alice' in realm 'quarkus' with client id 'quarkus-app'\n"
"2021-07-19 17:58:11,533 INFO  [io.qua.oid.dep.dev.key.KeycloakDevConsolePostHandler] (security-openid-connect-quickstart-dev.jar) (DEV Console action) Test token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ6Z2tDazJQZ1JaYnVlVG5kcTFKSW1sVnNoZ2hhbWhtbnBNcXU0QUt5MnJBIn0.ey...\n"
"2021-07-19 17:58:11,536 INFO  [io.qua.oid.dep.dev.key.KeycloakDevConsolePostHandler] (security-openid-connect-quickstart-dev.jar) (DEV Console action) Sending token to 'http://localhost:8080/api/admin'\n"
"2021-07-19 17:58:11,674 INFO  [io.qua.oid.dep.dev.key.KeycloakDevConsolePostHandler] (security-openid-connect-quickstart-dev.jar) (DEV Console action) Result: 200\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:165
#, fuzzy
msgid "A token is acquired from Keycloak using a `password` grant and is sent to the service endpoint."
msgstr "一个令牌是使用 `password` 授予从Keycloak获得的，并被发送到服务端点。"

#. type: Title ====
#: upstream/_guides/security-openid-connect-dev-services.adoc:166
#, fuzzy, no-wrap
msgid "Client Credentials Grant"
msgstr "客户凭证授予"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:169
#, fuzzy
msgid "If you set `quarkus.oidc.devui.grant.type=client` then a `client_credentials` grant will be used to acquire a token, with the page showing no `User` field in this case:"
msgstr "如果你设置了 `quarkus.oidc.devui.grant.type=client` ，那么将使用 `client_credentials` 授予来获取令牌，在这种情况下，页面没有显示 `User` 字段。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:170
#, no-wrap
msgid "dev-ui-keycloak-client-credentials-grant.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:173
#, fuzzy
msgid "Select a realm, enter the client id and secret, a relative service endpoint path, click on `Test Service` and you will see a status code such as `200`, `403`, `401` or `404` printed."
msgstr "选择一个境界，输入客户id和secret，一个相对的服务端点路径，点击 `Test Service` ，你会看到一个状态代码，如 `200` , `403` , `401` 或 `404` 打印。"

#. type: Title ===
#: upstream/_guides/security-openid-connect-dev-services.adoc:175
#, fuzzy, no-wrap
msgid "Developing OpenID Connect Web App Applications"
msgstr "开发OpenID Connect网络应用程序"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:178
#, fuzzy
msgid "If you develop a xref:security-openid-connect-web-authentication.adoc[Quarkus OIDC web-app application] then you should set `quarkus.oidc.application-type=web-app` in `application.properties` before starting the application."
msgstr "如果你开发一个 link:security-openid-connect-web-authentication.html[Quarkus OIDC网络应用程序] ，那么你应该在启动应用程序之前，在 `application.properties` 中设置 `quarkus.oidc.application-type=web-app` 。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:180
#, fuzzy
msgid "You will see a screen like this one:"
msgstr "你会看到一个像这样的屏幕。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:181
#, no-wrap
msgid "dev-ui-keycloak-sign-in-to-service.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:184
#, fuzzy
msgid "Set a relative service endpoint path, click on `Sign In To Service` and you will be redirected to Keycloak to enter a username and password in a new browser tab and get a response from the Quarkus application."
msgstr "设置一个相对的服务端点路径，点击 `Sign In To Service` ，你将被重定向到Keycloak，在一个新的浏览器标签中输入一个用户名和密码，并从Quarkus应用程序中得到一个响应。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:186
#, fuzzy
msgid "Note that in this case Dev UI does not really enrich a dev experience since it is a Quarkus OIDC `web-app` application which controls the authorization code flow and acquires the tokens."
msgstr "请注意，在这种情况下，Dev UI并没有真正丰富开发体验，因为它是一个Quarkus OIDC `web-app` 应用程序，控制授权代码流并获取令牌。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:188
#, fuzzy
msgid "To make Dev UI more useful for supporting the development of OIDC `web-app` applications you may want to consider setting profile specific values for `quarkus.oidc.application-type`:"
msgstr "为了使Dev UI对支持OIDC `web-app` 应用程序的开发更加有用，你可能要考虑为 `quarkus.oidc.application-type` ，设置配置文件的特定值。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:194
#, no-wrap
msgid ""
"%prod.quarkus.oidc.application-type=web-app\n"
"%test.quarkus.oidc.application-type=web-app\n"
"%dev.quarkus.oidc.application-type=service\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:198
#, fuzzy
msgid "It will ensure that all Dev UI options described in <<develop-service-applications, Developing OpenID Connect Service Applications>> will be available when your `web-app` application is run in dev mode. The limitation of this approach is that both access and ID tokens returned with the code flow and acquired with Dev UI will be sent to the endpoint as HTTP `Bearer` tokens - which will not work well if your endpoint requires the injection of `IdToken`.  However, it will work as expected if your `web-app` application only uses the access token, for example, as a source of roles or to get `UserInfo`, even if it is assumed to be a `service` application in dev mode."
msgstr "它将确保当你的 `web-app` 应用程序在开发模式下运行时，《 link:#develop-service-applications[开发OpenID Connect服务应用程序] 》中描述的所有Dev UI选项都可用。这种方法的局限性在于，通过代码流返回的访问令牌和通过Dev UI获取的ID令牌都将作为HTTP `Bearer` 令牌发送到端点--如果你的端点需要注入 `IdToken` ，这将不能很好地工作。然而，如果你的 `web-app` 应用程序只使用访问令牌，例如，作为角色的来源或获取 `UserInfo` ，即使它被假定为devmode中的 `service` 应用程序，它也能按预期工作。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:200
#, fuzzy
msgid "Even a better option is to use a `hybrid` application type in devmode:"
msgstr "甚至更好的选择是在devmode中使用一个 `hybrid` 应用程序类型。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:206
#, no-wrap
msgid ""
"%prod.quarkus.oidc.application-type=web-app\n"
"%test.quarkus.oidc.application-type=web-app\n"
"%dev.quarkus.oidc.application-type=hybrid\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:209
#, fuzzy
msgid "It will ensure that if you access the application from the browser in dev mode, without using OIDC DevUI, then Quarkus OIDC will also perform the authorization code flow as in the production mode. But OIDC DevUI will also be more useful because `hybrid` applications can accept the bearer access tokens as well."
msgstr "它将确保如果你在开发模式下从浏览器访问应用程序，而不使用OIDC DevUI，那么Quarkus OIDC也会像在生产模式下一样执行授权代码流。但OIDC DevUI也会更有用，因为 `hybrid` 应用程序也可以接受不记名访问令牌。"

#. type: Title ===
#: upstream/_guides/security-openid-connect-dev-services.adoc:210
#, fuzzy, no-wrap
msgid "Running the tests"
msgstr "运行测试"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:213
#, fuzzy
msgid "You can run the tests against a Keycloak container started in a test mode in a xref:continuous-testing.adoc[Continuous Testing] mode."
msgstr "你可以在 link:continuous-testing.html[持续测试] 模式下针对以测试模式启动的Keycloak容器运行测试。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:216
#, fuzzy
msgid "It is also recommended to run the integration tests against Keycloak using `Dev Services for Keycloak`.  Please see xref:security-openid-connect.adoc#integration-testing-keycloak-devservices[Testing OpenID Connect Service Applications with Dev Services] and xref:security-openid-connect-web-authentication.adoc#integration-testing-keycloak-devservices[Testing OpenID Connect WebApp Applications with Dev Services] for more information."
msgstr "也建议使用 `Dev Services for Keycloak` ，针对Keycloak运行集成测试。更多信息请参见 link:security-openid-connect.html#integration-testing-keycloak-devservices[使用开发服务测试OpenID Connect服务应用] 和 link:security-openid-connect-web-authentication.html#integration-testing-keycloak-devservices[使用开发服务测试OpenID Connect WebApp应用] 。"

#. type: Title ===
#: upstream/_guides/security-openid-connect-dev-services.adoc:218
#, fuzzy, no-wrap
msgid "Keycloak Initialization"
msgstr "Keycloak初始化"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:222
#, fuzzy
msgid "The `quay.io/keycloak/keycloak:19.0.2` image which contains a Keycloak distribution powered by Quarkus is used to start a container by default.  `quarkus.keycloak.devservices.image-name` can be used to change the Keycloak image name. For example, set it to `quay.io/keycloak/keycloak:19.0.2-legacy` to use a Keycloak distribution powered by WildFly."
msgstr " `quay.io/keycloak/keycloak:17.0.0` 镜像包含一个由Quarkus支持的Keycloak发行版，默认用于启动一个容器。 `quarkus.keycloak.devservices.image-name` ，可以用来改变Keycloak镜像的名称。例如，将其设置为 `quay.io/keycloak/keycloak:17.0.0-legacy` ，以使用由WildFly提供的Keycloak发行版。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:224
#, fuzzy
msgid "`Dev Services for Keycloak` will initialize a launched Keycloak server next."
msgstr " `Dev Services for Keycloak` 接下来将初始化一个启动的Keycloak服务器。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:226
#, fuzzy
msgid "By default, the `quarkus`, `quarkus-app` client with a `secret` password, `alice` and `bob` users (with the passwords matching the names), and `user` and `admin` roles are created, with `alice` given both `admin` and `user` roles and `bob` - the `user` role."
msgstr "默认情况下， `quarkus` ， `quarkus-app` 客户端有一个 `secret` 的密码， `alice` 和 `bob` 用户（密码与名字一致），以及 `user` 和 `admin` 角色被创建， `alice` 同时被赋予 `admin` 和 `user` 角色， `bob` - `user` 的角色。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:228
#, fuzzy
msgid "Usernames, secrets and their roles can be customized with `quarkus.keycloak.devservices.users` (the map which contains usernames and secrets) and `quarkus.keycloak.devservices.roles` (the map which contains usernames and comma separated role values)."
msgstr "可以通过 `quarkus.keycloak.devservices.users` （包含用户名和秘密的地图）和 `quarkus.keycloak.devservices.roles` （包含用户名和逗号分隔的角色值的地图）来定制用户名、秘密和他们的角色。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:230
#, fuzzy
msgid "For example:"
msgstr "比如说。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:237
#, no-wrap
msgid ""
"%dev.quarkus.keycloak.devservices.users.duke=dukePassword\n"
"%dev.quarkus.keycloak.devservices.roles.duke=reader\n"
"%dev.quarkus.keycloak.devservices.users.john=johnPassword\n"
"%dev.quarkus.keycloak.devservices.roles.john=reader,writer\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:240
#, fuzzy
msgid "This configuration creates two users:"
msgstr "这个配置创建了两个用户。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:241
#, fuzzy
msgid "`duke` with a `dukePassword` password and a `reader` role"
msgstr " `duke` 有一个 的密码和一个 的角色 `dukePassword` `reader` "

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:242
#, fuzzy
msgid "`john` with a `johnPassword` password and `reader` and `writer` roles"
msgstr " `john` 有一个 的密码和 和 的角色。 `johnPassword` `reader` `writer` "

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:244
#, fuzzy
msgid "`quarkus.oidc.client-id` and `quarkus.oidc.credentials.secret` can be used to customize the client id and secret."
msgstr " `quarkus.oidc.client-id` 和 ，可以用来定制客户的ID和秘密。 `quarkus.oidc.credentials.secret` "

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:246
#, fuzzy
msgid "However, it is likely your Keycloak configuration may be more complex and require setting more properties."
msgstr "然而，你的Keycloak配置可能更复杂，需要设置更多的属性。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:248
#, fuzzy
msgid "This is why `quarkus.keycloak.devservices.realm-path` is always checked first before trying to initialize Keycloak with the default or configured realm, client, user and roles properties. If the realm file exists on the file system or classpath then only this realm will be used to initialize Keycloak, for example:"
msgstr "这就是为什么在尝试用默认或配置的境界、客户端、用户和角色属性初始化Keycloak之前，总是先检查 `quarkus.keycloak.devservices.realm-path` 。如果境界文件存在于文件系统或classpath上，那么只有这个境界将被用来初始化Keycloak。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:252
#, no-wrap
msgid "quarkus.keycloak.devservices.realm-path=quarkus-realm.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:255
#, fuzzy
msgid "You can use `quarkus.keycloak.devservices.realm-path` to initialize Keycloak with multiple realm files by providing a comma-separated list of files:"
msgstr "你可以使用 `quarkus.keycloak.devservices.realm-path` ，通过提供一个逗号分隔的文件列表，用多个境界文件来初始化Keycloak。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:258
#, no-wrap
msgid "quarkus.keycloak.devservices.realm-path=quarkus-realm1.json,quarkus-realm2.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:261
#, fuzzy
msgid "Also, the Keycloak page offers an option to `Sign In To Keycloak To Configure Realms` using a `Keycloak Admin` option in the right top corner:"
msgstr " `Sign In To Keycloak To Configure Realms` 另外，Keycloak页面提供了一个选项，即使用右上角的 `Keycloak Admin` 。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:262
#, no-wrap
msgid "dev-ui-keycloak-admin.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:265
#, fuzzy
msgid "Sign in to Keycloak as `admin:admin` in order to further customize the realm properties, create or import a new realm, export the realm."
msgstr "以 `admin:admin` 登录Keycloak，以便进一步定制境界属性，创建或导入一个新的境界，导出境界。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:266
#, fuzzy, no-wrap
msgid "Disable Dev Services for Keycloak"
msgstr "禁用Keycloak的开发服务"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:269
#, fuzzy
msgid "`Dev Services For Keycloak` will not be activated if either `quarkus.oidc.auth-server-url` is already initialized or the default OIDC tenant is disabled with `quarkus.oidc.tenant.enabled=false`, irrespectively of whether you work with Keycloak or not."
msgstr " `Dev Services For Keycloak` 如果 已经被初始化，或者默认的OIDC租户被 禁用，无论你是否使用Keycloak工作，都不会被激活。 `quarkus.oidc.auth-server-url` `quarkus.oidc.tenant.enabled=false` "

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:271
#, fuzzy
msgid "If you prefer not to have a `Dev Services for Keycloak` container started or do not work with Keycloak then you can also disable this feature with `quarkus.keycloak.devservices.enabled=false` - it will only be necessary if you expect to start `quarkus:dev` without `quarkus.oidc.auth-server-url`."
msgstr "如果你不希望启动 `Dev Services for Keycloak` 容器，或者不与Keycloak合作，那么你也可以通过 `quarkus.keycloak.devservices.enabled=false` 禁用这个功能--只有当你期望在没有 `quarkus.oidc.auth-server-url` 的情况下启动 `quarkus:dev` ，才有必要。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:274
#, fuzzy
msgid "The main Dev UI page will include an empty `OpenID Connect Card` when `Dev Services for Keycloak` is disabled and the `quarkus.oidc.auth-server-url` property has not been initialized:"
msgstr "当 `Dev Services for Keycloak` 被禁用且 `quarkus.oidc.auth-server-url` 属性未被初始化时，主开发用户界面页面将包括一个空的 `OpenID Connect Card` 。"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:275
#, no-wrap
msgid "dev-ui-oidc-card.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:278
#, fuzzy
msgid "If `quarkus.oidc.auth-server-url` is already set then a generic OpenID Connect Dev Console which can be used with all OpenID Connect providers may be activated, please see <<dev-ui-all-oidc-providers,Dev UI for all OpenID Connect Providers>> for more information."
msgstr "如果 `quarkus.oidc.auth-server-url` ，那么可以激活一个通用的OpenID Connect Dev Console，它可以用于所有的OpenID Connect提供商，更多信息请参见 link:#dev-ui-all-oidc-providers[所有OpenID Connect提供商的Dev UI] 。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:280
#, fuzzy, no-wrap
msgid "Dev UI for all OpenID Connect Providers"
msgstr "所有OpenID连接供应商的开发用户界面"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:283
#, fuzzy
msgid "If `quarkus.oidc.auth-server-url` points to an already started OpenID Connect provider (which can be Keycloak or other provider), `quarkus.oidc.auth-server-url` is set to `service` (which is a default value) and at least `quarkus.oidc.client-id` is set then `Dev UI for all OpenID Connect Providers` will be activated."
msgstr "如果 `quarkus.oidc.auth-server-url` 指向一个已经启动的OpenID连接提供者（可以是Keycloak或其他提供者）， `quarkus.oidc.auth-server-url` 被设置为 `service` （这是一个默认值），并且至少 `quarkus.oidc.client-id` 被设置，那么 `Dev UI for all OpenID Connect Providers` 将被激活。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:285
#, fuzzy
msgid "Setting `quarkus.oidc.credentials.secret` will mostly likely be required for Keycloak and other providers for the authorization code flow initiated from Dev UI to complete, unless the client identified with `quarkus.oidc.client-id` is configured as a public client in your OpenID Connect provider's administration console."
msgstr "对于Keycloak和其他供应商来说，设置 `quarkus.oidc.credentials.secret` ，以完成从Dev UI发起的授权代码流，除非在你的OpenID Connect供应商的管理控制台中，用 `quarkus.oidc.client-id` 识别的客户端被配置为公共客户端。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:287
#, fuzzy
msgid "Run:"
msgstr "运行。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:291
#, fuzzy
msgid "And you will see the following message:"
msgstr "然后你会看到以下信息。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:297
#, no-wrap
msgid ""
"...\n"
"2021-09-07 15:53:42,697 INFO  [io.qua.oid.dep.dev.OidcDevConsoleProcessor] (build-41) OIDC Dev Console: discovering the provider metadata at http://localhost:8180/realms/quarkus/.well-known/openid-configuration\n"
"...\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:300
#, fuzzy
msgid "If the provider metadata discovery has been successful then, after you open the main link:http://localhost:8080/q/dev[Dev UI page], you will see the `OpenID Connect Card` page linking to `Dev Console`:"
msgstr "如果提供者元数据发现成功，那么，在你打开主要的 link:http://localhost:8080/q/dev[Dev UI页面] 后，你将看到 `OpenID Connect Card` 页面，链接到 `Dev Console` 。"

#. type: Named 'alt' AttributeList argument for macro 'image'
#: upstream/_guides/security-openid-connect-dev-services.adoc:301
#, fuzzy, no-wrap
msgid "Generic"
msgstr "通用型"

#. type: Target for macro image
#: upstream/_guides/security-openid-connect-dev-services.adoc:301
#, no-wrap
msgid "dev-ui-oidc-devconsole-card.png"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:304
#, fuzzy
msgid "Follow the link, and you will be able to log in to your provider, get the tokens and test the application. The experience will be the same as described in the <<keycloak-authorization-code-grant,Authorization Code Grant for Keycloak>> section, where `Dev Services for Keycloak` container has been started, especially if you work with Keycloak."
msgstr "按照这个链接，你就可以登录到你的提供者，获得令牌并测试应用程序。体验将与 link:#keycloak-authorization-code-grant[Keycloak的授权码授予] 部分所描述的一样， `Dev Services for Keycloak` 容器已经启动，特别是如果你与Keycloak一起工作（也请注意该部分的一个 `redirect_uri` 说明）。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:306
msgid "You will most likely need to configure your OpenId Connect provider to support redirecting back to the `Dev Console`. Add `http://localhost:8080/q/dev/io.quarkus.quarkus-oidc/provider` as one of the supported redirect and logout URLs."
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:308
#, fuzzy
msgid "If you work with other providers then a Dev UI experience described in the <<keycloak-authorization-code-grant,Authorization Code Grant for Keycloak>> section might differ slightly. For example, an access token may not be in a JWT format, so it won't be possible to show its internal content, though all providers should return an ID Token as JWT."
msgstr "如果你与其他供应商合作，那么在 link:#keycloak-authorization-code-grant[Keycloak的授权代码授予] 部分所描述的Dev UI体验可能略有不同。例如，访问令牌可能不是JWT格式，所以不可能显示它的内部内容，尽管所有供应商都应该返回一个ID令牌作为JWT。"

#. type: delimited block =
#: upstream/_guides/security-openid-connect-dev-services.adoc:312
#, fuzzy
msgid "The current access token is used by default to test the service with `Swagger UI` or `GrapghQL UI`. If the provider (other than Keycloak) returns a binary access token then it will be used with `Swagger UI` or `GrapghQL UI` only if this provider has a token introspection endpoint otherwise an `IdToken` which is always in a JWT format will be passed to `Swagger UI` or `GrapghQL UI`. In such cases you can verify with the manual Dev UI test that `401` will always be returned for the current binary access token. Also note that using `IdToken` as a fallback with either of these UIs is only possible with the authorization code flow."
msgstr "当前的访问令牌默认使用 `Swagger UI` 或 `GrapghQL UI` 来测试服务。如果提供者（除Keycloak外）返回一个二进制访问令牌，那么它将与 `Swagger UI` 或 `GrapghQL UI` 一起使用，只有当该提供者有一个令牌自省端点，否则一个总是JWT格式的 `IdToken` 将被传递给 `Swagger UI` 或 `GrapghQL UI` 。在这种情况下，你可以通过手动Dev UI测试验证 `401` 将总是返回当前二进制访问令牌。还要注意的是，使用 `IdToken` 作为这些UI的回退，只有在授权代码流中才有可能。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:315
#, fuzzy
msgid "Some providers such as `Auth0` do not support a standard RP initiated logout so the provider specific logout properties will have to be configured for a logout option be visible, please see xref:security-openid-connect-web-authentication.adoc#user-initiated-logout[OpenID Connect User-Initiated Logout] for more information."
msgstr "一些供应商，如 `Auth0` ，不支持标准的RP发起的注销，因此必须确认供应商特定的注销属性，才能看到注销选项，请参见 link:security-openid-connect-web-authentication.html#user-initiated-logout[OpenID Connect用户发起的注销] 以了解更多信息。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:317
#, fuzzy
msgid "Similarly, if you'd like to use a `password` or `client_credentials` grant for Dev UI to acquire the tokens then you may have to configure some extra provider specific properties, for example:"
msgstr "同样，如果你想使用Dev UI的 `password` 或 `client_credentials` 授予来获取令牌，那么你可能必须配置一些额外的提供者特定属性，例如。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:322
#, no-wrap
msgid ""
"quarkus.oidc.devui.grant.type=password\n"
"quarkus.oidc.devui.grant-options.password.audience=http://localhost:8080\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:324
#, fuzzy, no-wrap
msgid "Dev Services and UI Support for other OpenID Connect Providers"
msgstr "对其他OpenID连接供应商的开发服务和UI支持"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:327
#, fuzzy
msgid "Your custom extension would need to extend `quarkus-oidc` and add the dependencies required to support your provider to the extension's `deployment` module only."
msgstr "你的自定义扩展将需要扩展 `quarkus-oidc` ，并将支持你的提供者所需的依赖性仅添加到扩展的 `deployment` 模块中。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:329
#, fuzzy
msgid "The build step dealing with the `Dev Services` should additionally register two runtime properties into the \"io.quarkus.quarkus-oidc\" namespace: `oidcProviderName` (for example, `Google`) and `oidcProviderUrlBase` (for example: `mycompany.devservices-google`) for the `OpenID Connect Card` to link to the Dev UI page representing your provider, for example:"
msgstr "处理 `Dev Services` 的构建步骤应该额外注册两个运行时属性到 \"io.quarkus.quarkus-oidc \"命名空间： `oidcProviderName` （例如： `Google` ）和 `oidcProviderUrlBase` （例如： `mycompany.devservices-google` ），以便将 `OpenID Connect Card` 链接到代表你的提供者的 Dev UI 页面，例如。"

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:333
#, no-wrap
msgid "package io.quarkus.oidc.okta.runtime;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:335
#, no-wrap
msgid "import java.util.function.Supplier;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:337
#, no-wrap
msgid "import io.quarkus.runtime.annotations.Recorder;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:341
#, no-wrap
msgid ""
"// This simple recorder is the only code which will be located in the extension's `runtime` module\n"
"@Recorder\n"
"public class OktaDevServicesRecorder {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:344
#, no-wrap
msgid ""
"    public Supplier<String> getProviderName() {\n"
"        return new Supplier<String>() {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:351
#, no-wrap
msgid ""
"            @Override\n"
"            public String get() {\n"
"                return \"OKTA\";\n"
"            }\n"
"        };\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:354
#, no-wrap
msgid ""
"    public Supplier<String> getProviderUrlBase() {\n"
"        return new Supplier<String>() {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:362
#, no-wrap
msgid ""
"            @Override\n"
"            public String get() {\n"
"                return \"io.quarkus\" + \".\" + \"quarkus-oidc-okta\";\n"
"            }\n"
"        };\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:365
#, no-wrap
msgid "package io.quarkus.oidc.okta.deployment.devservices;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:367
#, no-wrap
msgid "import static io.quarkus.deployment.annotations.ExecutionTime.RUNTIME_INIT;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:369
#, no-wrap
msgid "import java.util.Optional;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:378
#, no-wrap
msgid ""
"import io.quarkus.deployment.IsDevelopment;\n"
"import io.quarkus.deployment.annotations.BuildProducer;\n"
"import io.quarkus.deployment.annotations.BuildStep;\n"
"import io.quarkus.deployment.annotations.Consume;\n"
"import io.quarkus.deployment.annotations.Record;\n"
"import io.quarkus.deployment.builditem.RuntimeConfigSetupCompleteBuildItem;\n"
"import io.quarkus.devconsole.spi.DevConsoleRouteBuildItem;\n"
"import io.quarkus.devconsole.spi.DevConsoleRuntimeTemplateInfoBuildItem;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:380
#, no-wrap
msgid "public class OktaDevConsoleProcessor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/security-openid-connect-dev-services.adoc:394
#, no-wrap
msgid ""
"    @BuildStep(onlyIf = IsDevelopment.class)\n"
"    @Record(value = RUNTIME_INIT)\n"
"    public void setOidcProviderProperties(BuildProducer<DevConsoleRuntimeTemplateInfoBuildItem> provider,\n"
"            OktaDevServicesRecorder recorder,\n"
"            Optional<DevServicesConfigBuildItem> configProps) {\n"
"        if (configProps.isPresent()) {\n"
"            provider.produce(new DevConsoleRuntimeTemplateInfoBuildItem(\"io.quarkus\", \"quarkus-oidc\", \"oidcProviderName\",\n"
"                    recorder.getProviderName()));\n"
"            provider.produce(new DevConsoleRuntimeTemplateInfoBuildItem(\"io.quarkus\", \"quarkus-oidc\", \"oidcProviderUrlBase\",\n"
"                    recorder.getProviderUrlBase()));\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:398
#, fuzzy
msgid "Additionally, the extension should produce a `io.quarkus.oidc.deployment.devservices.OidcProviderBuildItem` to disable the default `Dev Services for Keycloak`, instead of the users having to type `quarkus.keycloak.devservices.enabled=false`."
msgstr "此外，扩展应该产生一个 `io.quarkus.oidc.deployment.devservices.OidcProviderBuildItem` ，以禁用默认的 `Dev Services for Keycloak` ，而不是让用户输入 `quarkus.keycloak.devservices.enabled=false` 。"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:400
#, fuzzy
msgid "Please follow the xref:dev-ui.adoc[Dev UI] tutorial as well as check the `extensions/oidc/deployment` sources for more ideas."
msgstr "请按照 link:dev-ui.html[Dev UI] 教程，以及查看 `extensions/oidc/deployment` ，以获得更多的想法。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:401
#, fuzzy, no-wrap
msgid "Non Application Root Path Considerations"
msgstr "非应用根路径的考虑"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:404
#, fuzzy
msgid "This document refers to the `http://localhost:8080/q/dev` Dev UI URL in several places where `q` is a default non application root path. If you customize `quarkus.http.root-path` and/or `quarkus.http.non-application-root-path` properties then replace `q` accordingly, please see https://quarkus.io/blog/path-resolution-in-quarkus/[Path Resolution in Quarkus] for more information."
msgstr "本文件中提到了 `<a href=\"http://localhost:8080/q/dev\" class=\"bare\">http://localhost:8080/q/dev</a>` Dev UI URL，其中 `q` 是一个默认的非应用程序根路径。如果你自定义了 `quarkus.http.root-path` 和/或 `quarkus.http.non-application-root-path` 的属性，那么就相应地替换掉 `q` ，更多信息请参见 link:https://quarkus.io/blog/path-resolution-in-quarkus/[Quarkus的路径解析] 。"

#. type: Title ==
#: upstream/_guides/security-openid-connect-dev-services.adoc:405
#, fuzzy, no-wrap
msgid "References"
msgstr "参考文献"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:408
#, fuzzy
msgid "xref:dev-ui.adoc[Dev UI]"
msgstr "link:dev-ui.html[开发用户界面]"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:409
#, fuzzy
msgid "https://www.keycloak.org/documentation.html[Keycloak Documentation]"
msgstr "link:https://www.keycloak.org/documentation.html[Keycloak文档]"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:410
#, fuzzy
msgid "https://openid.net/connect/[OpenID Connect]"
msgstr "link:https://openid.net/connect/[OpenID连接]"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:411
#, fuzzy
msgid "xref:security-openid-connect.adoc[Quarkus - Using OpenID Connect to Protect Service Applications using Bearer Token Authorization]"
msgstr "link:security-openid-connect.html[Quarkus - 使用OpenID连接来保护使用承载令牌授权的服务应用]"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:412
#, fuzzy
msgid "xref:security-openid-connect-web-authentication.adoc[Quarkus - Using OpenID Connect to Protect Web Applications using Authorization Code Flow]"
msgstr "link:security-openid-connect-web-authentication.html[Quarkus - 使用OpenID连接，利用授权代码流保护Web应用程序]"

#. type: Plain text
#: upstream/_guides/security-openid-connect-dev-services.adoc:412
msgid "xref:security-overview-concept.adoc[Quarkus Security overview]"
msgstr ""

#, fuzzy
#~ msgid "Next test the service with either the current access or ID token. SPA usually sends the access tokens to the application endpoints but there could be cases where the ID tokens are forwarded to the application frontends for them to be aware about the user who is currently logged into SPA."
#~ msgstr "接下来用当前的访问令牌或ID令牌测试服务。SPA通常将访问令牌发送到应用程序端点，但也有可能将ID令牌转发给应用程序前端，以便它们了解当前登录到SPA的用户。"

#, fuzzy
#~ msgid "You can test the service the same way as with the `Password` grant."
#~ msgstr "你可以用与 `Password` 拨款相同的方式测试该服务。"

#, fuzzy
#~ msgid "Note that even if you initialize Keycloak from a realm file, it is still needed to set `quarkus.keycloak.devservices.users` property if a `password` grant is used to acquire the tokens to test the OIDC `service` applications."
#~ msgstr "注意，即使你从境界文件初始化Keycloak，如果使用 `password` grant来获取令牌以测试OIDC `service` 应用程序，仍然需要设置 `quarkus.keycloak.devservices.users` 属性。"
