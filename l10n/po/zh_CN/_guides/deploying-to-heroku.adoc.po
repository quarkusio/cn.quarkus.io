# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-05-12 15:52+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/deploying-to-heroku.adoc:6
#, fuzzy, no-wrap
msgid "Deploying to Heroku"
msgstr "部署到Heroku"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:10
#, fuzzy
msgid "In this guide you will learn how to deploy a Quarkus based web application as a web-dyno to Heroku."
msgstr "在本指南中，你将学习如何将基于Quarkus的Web应用作为Web-dyno部署到Heroku。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:12
#, fuzzy
msgid "This guide covers:"
msgstr "本指南包括。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:14
#, fuzzy
msgid "Update Quarkus HTTP Port"
msgstr "更新Quarkus HTTP端口"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:15
#, fuzzy
msgid "Install the Heroku CLI"
msgstr "安装Heroku CLI"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:16
#, fuzzy
msgid "Deploy the application to Heroku"
msgstr "将应用程序部署到Heroku"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:17
#, fuzzy
msgid "Deploy the application as Docker image to Heroku"
msgstr "将应用程序作为Docker镜像部署到Heroku上"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:18
#, fuzzy
msgid "Deploy the native application as Docker image to Heroku"
msgstr "将本地应用程序作为Docker镜像部署到Heroku上"

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:19
#, fuzzy, no-wrap
msgid "Prerequisites"
msgstr "先决条件"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:25
#, fuzzy
msgid "https://www.heroku.com/[A Heroku Account]. Free accounts work."
msgstr "link:https://www.heroku.com/[一个Heroku账户] 。免费账户可以使用。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:26
#, fuzzy
msgid "https://devcenter.heroku.com/articles/heroku-cli[Heroku CLI installed]"
msgstr "link:https://devcenter.heroku.com/articles/heroku-cli[安装了Heroku CLI]"

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:27
#, fuzzy, no-wrap
msgid "Introduction"
msgstr "简介"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:32
#, fuzzy
msgid "Heroku is a platform as a service (PaaS) that enables developers to build, run, and operate applications entirely in the cloud.  It supports several languages like Java, Ruby, Node.js, Scala, Clojure, Python, PHP, and Go.  In addition it offers a container registry that can be used to deploy prebuilt container images."
msgstr "Heroku是一个平台即服务（PaaS），使开发者能够完全在云中构建、运行和操作应用程序。它支持多种语言，如Java、Ruby、Node.js、Scala、Clojure、Python、PHP和Go。此外，它还提供了一个容器注册表，可用于部署预先构建的容器镜像。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:34
#, fuzzy
msgid "Heroku can be used in different ways to run a Quarkus application:"
msgstr "Heroku可以用不同的方式来运行Quarkus应用程序。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:36
#, fuzzy
msgid "As a plain Java program running in a container defined by Heroku's environment"
msgstr "作为一个普通的Java程序，在Heroku的环境定义的容器中运行"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:37
#, fuzzy
msgid "As a containerized Java program running in a container defined by the Quarkus build process"
msgstr "作为一个容器化的Java程序，运行在Quarkus构建过程所定义的容器中"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:38
#, fuzzy
msgid "As a containerized native program running in a container defined by the Quarkus build process"
msgstr "作为一个在Quarkus构建过程所定义的容器中运行的容器化本地程序"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:41
#, fuzzy
msgid "All three approaches need to be aware of the port that Heroku assigns to it to handle traffic.  Luckily, there's a dynamic configuration property for it."
msgstr "这三种方法都需要注意Heroku分配给它的端口来处理流量。幸运的是，有一个动态配置的属性。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:43
#, fuzzy
msgid "The guide assumes that you have the https://devcenter.heroku.com/articles/heroku-cli[Heroku CLI] installed."
msgstr "本指南假设你已经安装了 link:https://devcenter.heroku.com/articles/heroku-cli[Heroku CLI] 。"

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:44
#, fuzzy, no-wrap
msgid "Common project setup"
msgstr "常见的项目设置"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:47
#, fuzzy
msgid "This guide will take as input an application developed in the xref:getting-started.adoc[Getting Started guide]."
msgstr "本指南将以《 link:getting-started.html[入门指南》] 中开发的应用程序作为输入。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:50
#, fuzzy
msgid "Make sure you have the getting-started application at hand, or clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]. The solution is located in the `getting-started` directory."
msgstr "请确保你手头有getting-started应用程序，或者克隆Git仓库。 `git clone {quickstarts-clone-url}` ，或者下载一个 {quickstarts-archive-url}[存档] 。该解决方案位于 `getting-started` 目录中。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:53
#, fuzzy
msgid "Heroku can react on changes in your repository, run CI and redeploy your application when your code changes.  Therefore we start with a valid repository already."
msgstr "Heroku可以对你的版本库的变化做出反应，当你的代码发生变化时，运行CI并重新部署你的应用程序。因此，我们从一个有效的版本库开始。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:55
#, fuzzy
msgid "Also, make sure your Heroku CLI is working:"
msgstr "另外，确保你的Heroku CLI是工作的。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:60
#, no-wrap
msgid ""
"heroku --version\n"
"heroku login\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:62
#, fuzzy, no-wrap
msgid "Prepare the Quarkus HTTP Port"
msgstr "准备好Quarkus HTTP端口"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:67
#, fuzzy
msgid "Heroku picks a random port and assigns it to the container that is eventually running your Quarkus application.  That port is available as an environment variable under `$PORT`.  The easiest way to make Quarkus in all deployment scenarios aware of it is using the following configuration:"
msgstr "Heroku会随机挑选一个端口，并将其分配给最终运行Quarkus应用程序的容器。该端口在 `$PORT` 下作为一个环境变量可用。让Quarkus在所有的部署场景中都知道它的最简单的方法是使用以下配置。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:71
#, no-wrap
msgid "quarkus.http.port=${PORT:8080}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:75
#, fuzzy
msgid "This reads as: \"Listen on `$PORT` if this is a defined variable, otherwise listen on 8080 as usual.\" Run the following to add this to your `application.properties`:"
msgstr "这句话的意思是。\"如果这是一个定义的变量，就在 `$PORT` ，否则就像往常一样在8080上监听。\"运行以下程序，将其添加到你的 `application.properties` 。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:80
#, no-wrap
msgid ""
"echo \"quarkus.http.port=\\${PORT:8080}\" >> src/main/resources/application.properties\n"
"git commit -am \"Configure the HTTP Port.\"\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:82
#, fuzzy, no-wrap
msgid "Deploy the repository and build on Heroku"
msgstr "在Heroku上部署存储库和构建"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:86
#, fuzzy
msgid "The first variant uses the Quarkus Maven build to create the _quarkus-app_ application structure containing the runnable \"fast-jar\" as well as all libraries needed inside Heroku's build infrastructure and then deploying that result, the other one uses a local build process to create an optimized container."
msgstr "第一个变体使用Quarkus Maven构建来创建 _quarkus-app_ 应用结构，其中包含可运行的 \"fast-jar \"以及Heroku的构建基础设施内所需的所有库，然后部署该结果，另一个变体使用本地构建过程来创建优化的容器。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:88
#, fuzzy
msgid "Two additional files are needed in your application's root directory:"
msgstr "在你的应用程序的根目录中需要两个额外的文件。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:90
#, fuzzy
msgid "`system.properties` to configure the Java version"
msgstr " `system.properties` 来配置Java版本"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:91
#, fuzzy
msgid "`Procfile` to configure how Heroku starts your application"
msgstr " `Procfile` 来配置Heroku如何启动你的应用程序"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:93
#, fuzzy
msgid "Quarkus needs JDK 11, so we specify that first:"
msgstr "Quarkus需要JDK 11，所以我们首先指定它。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:99
#, no-wrap
msgid ""
"echo \"java.runtime.version=11\" >> system.properties\n"
"git add system.properties\n"
"git commit -am \"Configure the Java version for Heroku.\"\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:102
#, fuzzy
msgid "We will deploy a web application so we need to configure the type `web` in the Heroku `Procfile` like this:"
msgstr "我们将部署一个Web应用程序，所以我们需要在Heroku的 `Procfile` ，像这样配置类型 `web` 。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:108
#, no-wrap
msgid ""
"echo \"web: java \\$JAVA_OPTS -jar target/quarkus-app/quarkus-run.jar\" >> Procfile\n"
"git add Procfile\n"
"git commit -am \"Add a Procfile.\"\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:111
#, fuzzy
msgid "Your application should already be runnable via `heroku local web`."
msgstr "你的应用程序应该已经可以通过 `heroku local web` 。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:113
#, fuzzy
msgid "Let's create an application in your account and deploy that repository to it:"
msgstr "让我们在你的账户中创建一个应用程序，并将该资源库部署到其中。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:119
#, no-wrap
msgid ""
"heroku create\n"
"git push heroku master\n"
"heroku open\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:122
#, fuzzy
msgid "The application will have a generated name and the terminal should output that. `heroku open` opens your default browser to access your new application."
msgstr "该应用程序将有一个生成的名称，终端应该输出该名称。 `heroku open` ，打开你的默认浏览器，访问你的新应用程序。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:124
#, fuzzy
msgid "To access the REST endpoint via curl, run:"
msgstr "要通过curl访问REST端点，运行。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:129
#, no-wrap
msgid ""
"APP_NAME=`heroku info | grep  \"=== .*\" |sed \"s/=== //\"`\n"
"curl $APP_NAME.herokuapp.com/hello\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:132
#, fuzzy
msgid "Of course, you can use the Heroku CLI to connect this repo to your GitHub account, too, but this is out of scope for this guide."
msgstr "当然，你也可以使用Heroku CLI把这个Repo连接到你的GitHub账户，但这不在本指南的范围内。"

#. type: Title ==
#: upstream/_guides/deploying-to-heroku.adoc:133
#, fuzzy, no-wrap
msgid "Deploy as container"
msgstr "作为容器部署"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:136
#, fuzzy
msgid "The advantage of pushing a whole container is that we are in complete control over its content and maybe even choose to deploy a container with a native executable running on GraalVM."
msgstr "推送整个容器的好处是，我们可以完全控制其内容，甚至可以选择部署一个带有在GraalVM上运行的本地可执行程序的容器。"

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:138
#, fuzzy
msgid "First, login to Heroku's container registry:"
msgstr "首先，登录到Heroku的容器注册表。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:142
#, no-wrap
msgid "heroku container:login\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:145
#, fuzzy
msgid "We need to add an extension to our project to build container images via the Quarkus Maven plugin:"
msgstr "我们需要给我们的项目添加一个扩展，通过Quarkus Maven插件构建容器镜像。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:151
#, no-wrap
msgid ""
"mvn quarkus:add-extension -Dextensions=\"container-image-docker\"\n"
"git add pom.xml\n"
"git commit -am \"Add container-image-docker extension.\"\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:155
#, fuzzy
msgid "The image we are going to build needs to be named accordingly to work with Heroku's registry and deployment.  We get the generated name via `heroku info` and pass it on to the (local) build:"
msgstr "我们要构建的镜像需要相应的命名，以便与Heroku的注册表和部署一起工作。我们通过 `heroku info` 获得生成的名称，并将其传递给（本地）构建。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:164
#, no-wrap
msgid ""
"APP_NAME=`heroku info | grep  \"=== .*\" |sed \"s/=== //\"`\n"
"mvn clean package\\\n"
"  -Dquarkus.container-image.build=true\\\n"
"  -Dquarkus.container-image.group=registry.heroku.com/$APP_NAME\\\n"
"  -Dquarkus.container-image.name=web\\\n"
"  -Dquarkus.container-image.tag=latest\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:167
#, fuzzy
msgid "With Docker installed, you can now push the image and release it:"
msgstr "安装了Docker后，你现在可以推送镜像并发布它。"

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:172
#: upstream/_guides/deploying-to-heroku.adoc:209
#, no-wrap
msgid ""
"docker push registry.heroku.com/$APP_NAME/web\n"
"heroku container:release web --app $APP_NAME\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:175
msgid "You can and should check the logs to see if your application is now indeed running from the container:"
msgstr ""

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:179
#, no-wrap
msgid "heroku logs --app $APP_NAME --tail\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:183
msgid "The initial push is rather big, as all layers of the image need to be transferred.  The following pushes will be smaller."
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:187
msgid "The biggest advantage we take when deploying our app as a container is to deploy a container with the natively compiled application.  Why? Because Heroku will stop or sleep the application when there's no incoming traffic.  A native application will wake up much faster from its sleep."
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:190
msgid "The process is pretty much the same.  We opt in to compiling a native image inside a local container, so that we don't have to deal with installing GraalVM locally:"
msgstr ""

#. type: delimited block -
#: upstream/_guides/deploying-to-heroku.adoc:201
#, no-wrap
msgid ""
"APP_NAME=`heroku info | grep  \"=== .*\" |sed \"s/=== //\"`\n"
"mvn clean package\\\n"
"  -Dquarkus.container-image.build=true\\\n"
"  -Dquarkus.container-image.group=registry.heroku.com/$APP_NAME\\\n"
"  -Dquarkus.container-image.name=web\\\n"
"  -Dquarkus.container-image.tag=latest\\\n"
"  -Pnative\\\n"
"  -Dquarkus.native.container-build=true\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/deploying-to-heroku.adoc:204
msgid "After that, push and release again:"
msgstr ""
