# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-05-05 19:05+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Consuming a gRPC Service"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "gRPC clients can be injected in your application code."
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"Consuming gRPC services requires the gRPC classes to be generated.\n"
"Place your `proto` files in `src/main/proto` and run `mvn compile`."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Stubs and Injection"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"gRPC generation provides several stubs, providing different ways to consume a gRPC service.\n"
"You can inject:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "a service interface using the Mutiny API,"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "a blocking stub using the gRPC API,"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "a reactive stub based on Mutiny,"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "the gRPC `io.grpc.Channel`, that lets you create other types of stubs."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "A gRPC client injection point must be annotated with the `@GrpcClient` qualifier. This qualifier can be used to specify the name that is used to configure the underlying gRPC client. For example, if you set it to `hello-service`, configuring the host of the service is done using the `quarkus.grpc.clients.**hello-service**.host`."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "If the name is not specified via the `GrpcClient#value()` then the field name is used instead, e.g. `helloService` in this particular case."
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"The stub class names are derived from the service name used in your `proto` file.\n"
"For example, if you use `Greeter` as a service name as in:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Then the service interface name is: `hello.Greeter`, the Mutiny stub name is: `hello.MutinyGreeterGrpc.MutinyGreeterStub` and the blocking stub name is: `hello.GreeterGrpc.GreeterBlockingStub`."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Examples"
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Service Interface"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "The service name is derived from the injection point - the field name is used. The `quarkus.grpc.clients.hello.host` property must be set."
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Blocking Stub"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "The `quarkus.grpc.clients.hello.host` property must be set."
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Handling streams"
msgstr "处理流"

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "gRPC allows sending and receiving streams:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Using the Mutiny stub, you can interact with these as follows:"
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Client configuration"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "For each gRPC service you inject in your application, you can configure the following attributes:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "The `client-name` is the name set in the `@GrpcClient` or derived from the injection point if not explicitly defined."
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"The following examples uses _hello_ as the client name.\n"
"Don't forget to replace it with the name you used in the `@GrpcClient` annotation."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "When you enable `quarkus.grpc.clients.\"client-name\".use-quarkus-grpc-client`, you are then using the new Vert.x gRPC channel implementation, so not all configuration properties can still be applied. And currently there is no Stork support yet."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "When you enable `quarkus.grpc.clients.\"client-name\".xds.enabled`, it's the xDS that should handle most of the configuration above."
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Enabling TLS"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"To enable TLS, use the following configuration.\n"
"Note that all paths in the configuration may either specify a resource on the classpath\n"
"(typically from `src/main/resources` or its subfolder) or an external file."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "When SSL/TLS is configured, `plain-text` is automatically disabled."
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "TLS with Mutual Auth"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "To use TLS with mutual authentication, use the following configuration:"
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Client Stub Deadlines"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"If you need to configure a deadline for a gRPC stub, i.e. to specify a duration of time after which the stub will always return the status error `DEADLINE_EXCEEDED`.\n"
"You can specify the deadline via the `quarkus.grpc.clients.\"service-name\".deadline` configuration property, e.g.:"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Set the  deadline for all injected stubs."
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"Do not use this feature to implement an RPC timeout.\n"
"To implement an RPC timeout, either use Mutiny `call.ifNoItem().after(...)` or Fault Tolerance `@Timeout`."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "gRPC Headers"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"Similarly to HTTP, alongside the message, gRPC calls can carry headers.\n"
"Headers can be useful e.g. for authentication."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "To set headers for a gRPC call, create a client with headers attached and then perform the call on this client:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Alter the client to make calls with the `extraHeaders` attached"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Perform the call with the altered client. The original client remains unmodified"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "`GrpcClientUtils` work with all flavors of clients."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Client Interceptors"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"A gRPC client interceptor can be implemented by a CDI bean that also implements the `io.grpc.ClientInterceptor` interface.\n"
"You can annotate an injected client with `@io.quarkus.grpc.RegisterClientInterceptor` to register the specified interceptor for the particular client instance.\n"
"The `@RegisterClientInterceptor` annotation is repeatable.\n"
"Alternatively, if you want to apply the interceptor to any injected client then annotate the interceptor bean with `@io.quarkus.grpc.GlobalInterceptor`."
msgstr ""

#. type: Block title
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Global Client Interceptor Example"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "This interceptor is applied to all injected gRPC clients."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Check the https://grpc.github.io/grpc-java/javadoc/io/grpc/ClientInterceptor.html[ClientInterceptor JavaDoc] to properly implement your interceptor."
msgstr ""

#. type: Block title
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "`@RegisterClientInterceptor` Example"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Registers the `MySpecialInterceptor` for this particular client."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "When you have multiple client interceptors, you can order them by implementing the `javax.enterprise.inject.spi.Prioritized` interface:"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"Interceptors with the highest priority are called first.\n"
"The default priority, used if the interceptor does not implement the `Prioritized` interface, is `0`."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "gRPC Client metrics"
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Enabling metrics collection"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"gRPC client metrics are automatically enabled when the application also uses the xref:micrometer.adoc[`quarkus-micrometer`] extension.\n"
"Micrometer collects the metrics of all the gRPC clients used by the application."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "As an example, if you export the metrics to Prometheus, you will get:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "The service name, method and type can be found in the _tags_."
msgstr ""

#. type: Title ===
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Disabling metrics collection"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "To disable the gRPC client metrics when `quarkus-micrometer` is used, add the following property to the application configuration:"
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Custom exception handling"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"If any of the gRPC services or server interceptors throw an (custom) exception, you can add your own https://github.com/quarkusio/quarkus/extensions/grpc/api/src/main/java/io/quarkus/grpc/ExceptionHandlerProvider.java[ExceptionHandlerProvider]\n"
"as a CDI bean in your application, to provide a custom handling of those exceptions."
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "e.g."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Dev Mode"
msgstr ""

#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid ""
"By default, when starting the application in dev mode, a gRPC server is started, even if no services are configured.\n"
"You can configure the gRPC extension's dev mode behavior using the following properties."
msgstr ""

#. type: Title ==
#: _versions/2.16/guides/grpc-service-consumption.adoc
#, no-wrap
msgid "Inject mock clients"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "In your `@QuarkuTest`, you can use `@InjectMock` to inject the Mutiny client of a gRPC service:"
msgstr ""

#. type: Plain text
#: _versions/2.16/guides/grpc-service-consumption.adoc
msgid "Only the Mutiny client can be _mocked_, channels, and other stubs cannot be mocked."
msgstr ""
