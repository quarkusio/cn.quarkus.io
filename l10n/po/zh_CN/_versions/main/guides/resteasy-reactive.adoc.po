# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-05-25 02:51+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_versions/main/guides/resteasy-reactive.adoc:6
#, no-wrap
msgid "Writing REST Services with RESTEasy Reactive"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:20
msgid "This guide explains how to write REST Services with RESTEasy Reactive in Quarkus."
msgstr ""

#. type: delimited block =
#: upstream/_versions/main/guides/resteasy-reactive.adoc:25
msgid "This is the reference guide for RESTEasy Reactive.  For a more lightweight introduction, please refer to the xref:rest-json.adoc[Writing JSON REST services guides]."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:27
#, no-wrap
msgid "What is RESTEasy Reactive?"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:33
msgid "RESTEasy Reactive is a new link:{jaxrsspec}[JAX-RS] implementation written from the ground up to work on our common https://vertx.io/[Vert.x] layer and is thus fully reactive, while also being very tightly integrated with Quarkus and consequently moving a lot of work to build time."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:37
msgid "You should be able to use it in place of any JAX-RS implementation, but on top of that it has great performance for both blocking and non-blocking endpoints, and a lot of new features on top of what JAX-RS provides."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:38
#, no-wrap
msgid "Writing endpoints"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:40
#, no-wrap
msgid "Getting started"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:43
msgid "Add the following import to your build file:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:45
#, no-wrap
msgid "pom.xml"
msgstr "pom.xml"

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:51
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-resteasy-reactive</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:54
#, no-wrap
msgid "build.gradle"
msgstr "build.gradle"

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:57
#, no-wrap
msgid "implementation(\"io.quarkus:quarkus-resteasy-reactive\")\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:60
msgid "You can now write your first endpoint in the `org.acme.rest.Endpoint` class:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:64
#: upstream/_versions/main/guides/resteasy-reactive.adoc:104
#: upstream/_versions/main/guides/resteasy-reactive.adoc:126
#: upstream/_versions/main/guides/resteasy-reactive.adoc:178
#: upstream/_versions/main/guides/resteasy-reactive.adoc:286
#: upstream/_versions/main/guides/resteasy-reactive.adoc:338
#: upstream/_versions/main/guides/resteasy-reactive.adoc:578
#: upstream/_versions/main/guides/resteasy-reactive.adoc:621
#: upstream/_versions/main/guides/resteasy-reactive.adoc:655
#: upstream/_versions/main/guides/resteasy-reactive.adoc:691
#: upstream/_versions/main/guides/resteasy-reactive.adoc:730
#: upstream/_versions/main/guides/resteasy-reactive.adoc:838
#: upstream/_versions/main/guides/resteasy-reactive.adoc:863
#: upstream/_versions/main/guides/resteasy-reactive.adoc:891
#: upstream/_versions/main/guides/resteasy-reactive.adoc:955
#: upstream/_versions/main/guides/resteasy-reactive.adoc:990
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1430
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1456
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1498
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1531
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1594
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1832
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1866
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1930
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1984
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2009
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2074
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2177
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2302
#, no-wrap
msgid "package org.acme.rest;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:67
#: upstream/_versions/main/guides/resteasy-reactive.adoc:107
#: upstream/_versions/main/guides/resteasy-reactive.adoc:341
#: upstream/_versions/main/guides/resteasy-reactive.adoc:628
#: upstream/_versions/main/guides/resteasy-reactive.adoc:658
#: upstream/_versions/main/guides/resteasy-reactive.adoc:993
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1433
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1461
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:70
#: upstream/_versions/main/guides/resteasy-reactive.adoc:192
#: upstream/_versions/main/guides/resteasy-reactive.adoc:593
#: upstream/_versions/main/guides/resteasy-reactive.adoc:631
#, no-wrap
msgid ""
"@Path(\"\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:76
#, no-wrap
msgid ""
"    @GET\n"
"    public String hello() {\n"
"        return \"Hello, World!\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:78
#, no-wrap
msgid "Terminology"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:80
#, no-wrap
msgid "REST"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:81
msgid "https://en.wikipedia.org/wiki/Representational_state_transfer[REpresentational State Transfer]"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:81
#, no-wrap
msgid "Endpoint"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:82
msgid "Java method which is called to serve a REST call"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:82
#, no-wrap
msgid "URL / URI (Uniform Resource Locator / Identifier)"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:83
msgid "Used to identify the location of REST resources (https://tools.ietf.org/html/rfc7230#section-2.7[specification])"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:83
#, no-wrap
msgid "Resource"
msgstr "资源"

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:84
msgid "Represents your domain object. This is what your API serves and modifies. Also called an `entity` in JAX-RS."
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:84
#, no-wrap
msgid "Representation"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:85
msgid "How your resource is represented on the wire, can vary depending on content types"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:85
#, no-wrap
msgid "Content type"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:86
msgid "Designates a particular representation (also called a media type), for example `text/plain` or `application/json`"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:86
#, no-wrap
msgid "HTTP"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:87
msgid "Underlying wire protocol for routing REST calls (see https://tools.ietf.org/html/rfc7230[HTTP specifications])"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:87
#, no-wrap
msgid "HTTP request"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:88
msgid "the request part of the HTTP call, consisting of an HTTP method, a target URI, headers and an optional message body"
msgstr ""

#. type: Labeled list
#: upstream/_versions/main/guides/resteasy-reactive.adoc:88
#, no-wrap
msgid "HTTP response"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:89
msgid "the response part of the HTTP call, consisting of an HTTP response status, headers and an optional message body"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:90
#, no-wrap
msgid "Declaring endpoints: URI mapping"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:94
msgid "Any class annotated with a link:{jaxrsapi}/javax/ws/rs/Path.html[`@Path`] annotation can have its methods exposed as REST endpoints, provided they have an HTTP method annotation (see below)."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:97
msgid "That link:{jaxrsapi}/javax/ws/rs/Path.html[`@Path`] annotation defines the URI prefix under which those methods will be exposed. It can be empty, or contain a prefix such as `rest` or `rest/V1`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:100
msgid "Each exposed endpoint method can in turn have another link:{jaxrsapi}/javax/ws/rs/Path.html[`@Path`] annotation which adds to its containing class annotation. For example, this defines a `rest/hello` endpoint:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:110
#, no-wrap
msgid ""
"@Path(\"rest\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:117
#, no-wrap
msgid ""
"    @Path(\"hello\")\n"
"    @GET\n"
"    public String hello() {\n"
"        return \"Hello, World!\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:120
msgid "See <<uri-parameters,URI parameters>> for more information about URI mapping."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:122
msgid "You can set the root path for all rest endpoints using the `@ApplicationPath` annotation, as shown below."
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:129
#, no-wrap
msgid ""
"import javax.ws.rs.ApplicationPath;\n"
"import javax.ws.rs.core.Application;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:132
#, no-wrap
msgid ""
"@ApplicationPath(\"/api\")\n"
"public static class MyApplication extends Application {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:134
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1920
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2101
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2116
#, no-wrap
msgid "}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:139
msgid "This will cause all rest endpoints to be resolve relative to `/api`, so the endpoint above with `@Path(\"rest\")` would be accessible at `/api/rest/. You can also set the `quarkus.rest.path` build time property to set the root path if you don't want to use an annotation."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:140
#, no-wrap
msgid "Declaring endpoints: HTTP methods"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:144
msgid "Each endpoint method must be annotated with one of the following annotations, which defines which HTTP method will be mapped to the method:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:145
#, no-wrap
msgid "Table HTTP method annotations"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:147
#: upstream/_versions/main/guides/resteasy-reactive.adoc:237
#, no-wrap
msgid "Annotation"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:149
#: upstream/_versions/main/guides/resteasy-reactive.adoc:239
#: upstream/_versions/main/guides/resteasy-reactive.adoc:373
#: upstream/_versions/main/guides/resteasy-reactive.adoc:548
#: upstream/_versions/main/guides/resteasy-reactive.adoc:789
#: upstream/_versions/main/guides/resteasy-reactive.adoc:926
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1132
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1151
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1244
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1614
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1631
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1719
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1739
#, no-wrap
msgid "Usage"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:150
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/GET.html[`@GET`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:152
#, no-wrap
msgid "Obtain a resource representation, should not modify state, link:{httpspec}#section-4.2.2[idempotent] (link:{httpspec}#section-4.3.1[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:153
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/HEAD.html[`@HEAD`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:155
#, no-wrap
msgid "Obtain metadata about a resource, similar to `GET` with no body (link:{httpspec}#section-4.3.2[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:156
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/POST.html[`@POST`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:158
#, no-wrap
msgid "Create a resource and obtain a link to it (link:{httpspec}#section-4.3.3[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:159
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/PUT.html[`@PUT`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:161
#, no-wrap
msgid "Replace a resource or create one, should be link:{httpspec}#section-4.2.2[idempotent] (link:{httpspec}#section-4.3.4[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:162
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/DELETE.html[`@DELETE`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:164
#, no-wrap
msgid "Delete an existing resource, link:{httpspec}#section-4.2.2[idempotent]  (link:{httpspec}#section-4.3.5[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:165
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/OPTIONS.html[`@OPTIONS`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:167
#, no-wrap
msgid "Obtain information about a resource, link:{httpspec}#section-4.2.2[idempotent] (link:{httpspec}#section-4.3.7[HTTP docs])"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:168
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/PATCH.html[`@PATCH`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:170
#, no-wrap
msgid "Update a resource, or create one, not link:{httpspec}#section-4.2.2[idempotent] (https://tools.ietf.org/html/rfc5789#section-2[HTTP docs])"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:174
msgid "You can also declare other HTTP methods by declaring them as an annotation with the link:{jaxrsapi}/javax/ws/rs/HttpMethod.html[`@HttpMethod`] annotation:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:181
#, no-wrap
msgid ""
"import java.lang.annotation.Retention;\n"
"import java.lang.annotation.RetentionPolicy;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:184
#, no-wrap
msgid ""
"import javax.ws.rs.HttpMethod;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:189
#, no-wrap
msgid ""
"@Retention(RetentionPolicy.RUNTIME)\n"
"@HttpMethod(\"CHEESE\")\n"
"@interface CHEESE {\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:198
#, no-wrap
msgid ""
"    @CHEESE\n"
"    public String hello() {\n"
"        return \"Hello, Cheese World!\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:200
#, no-wrap
msgid "Declaring endpoints: representation / content types"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:205
msgid "Each endpoint method may consume or produce specific resource representations, which are indicated by the HTTP link:{httpspec}#section-3.1.1.5[`Content-Type`] header, which in turn contains link:{httpspec}#section-3.1.1.1[MIME (Media Type)] values, such as the following:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:207
msgid "`text/plain` which is the default for any endpoint returning a `String`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:208
msgid "`text/html` for HTML (such as with xref:qute.adoc[Qute templating])"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:209
msgid "`application/json` for a <<json,JSON REST endpoint>>"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:210
msgid "`text/*` which is a sub-type wildcard for any text media type"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:211
msgid "`\\*/*` which is a wildcard for any media type"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:216
msgid "You may annotate your endpoint class with the link:{jaxrsapi}/javax/ws/rs/Produces.html[`@Produces`] or link:{jaxrsapi}/javax/ws/rs/Consumes.html[`@Consumes`] annotations, which allow you to specify one or more media types that your endpoint may accept as HTTP request body or produce as HTTP response body. Those class annotations apply to each method."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:220
msgid "Any method may also be annotated with the link:{jaxrsapi}/javax/ws/rs/Produces.html[`@Produces`] or link:{jaxrsapi}/javax/ws/rs/Consumes.html[`@Consumes`] annotations, in which case they override any eventual class annotation."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:223
msgid "The link:{jaxrsapi}/javax/ws/rs/core/MediaType.html[`MediaType`] class has many constants you can use to point to specific pre-defined media types."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:225
msgid "See <<negotiation>> for more information."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:226
#, no-wrap
msgid "Accessing request parameters"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:232
msgid "don't forget to configure your compiler to generate parameter name information with `-parameters` (javac)  or `<parameters>` or `<maven.compiler.parameters>` (https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#parameters[Maven])."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:234
msgid "The following HTTP request elements may be obtained by your endpoint method:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:235
#, no-wrap
msgid "Table HTTP request parameter annotations"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:237
#, no-wrap
msgid "HTTP element"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:240
#, no-wrap
msgid "[[path-parameter]]Path parameter"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:241
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestPath.html[`@RestPath`] (or nothing)"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:244
#, no-wrap
msgid ""
"URI template parameter (simplified version of the https://tools.ietf.org/html/rfc6570[URI Template specification]), \n"
"see <<uri-parameters,URI parameters>> for more information."
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:245
#, no-wrap
msgid "Query parameter"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:246
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestQuery.html[`@RestQuery`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:248
#, no-wrap
msgid "The value of an https://tools.ietf.org/html/rfc3986#section-3.4[URI query parameter]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:249
#, no-wrap
msgid "Header"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:250
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestHeader.html[`@RestHeader`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:252
#, no-wrap
msgid "The value of an https://tools.ietf.org/html/rfc7230#section-3.2[HTTP header]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:253
#, no-wrap
msgid "Cookie"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:254
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestCookie.html[`@RestCookie`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:256
#, no-wrap
msgid "The value of an https://tools.ietf.org/html/rfc6265#section-4.2[HTTP cookie]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:257
#, no-wrap
msgid "Form parameter"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:258
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestForm.html[`@RestForm`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:260
#, no-wrap
msgid "The value of an https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST[HTTP URL-encoded FORM]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:261
#, no-wrap
msgid "Matrix parameter"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:262
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestMatrix.html[`@RestMatrix`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:264
#, no-wrap
msgid "The value of an https://tools.ietf.org/html/rfc3986#section-3.3[URI path segment parameter]"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:268
msgid "For each of those annotations, you may specify the name of the element they refer to, otherwise they will use the name of the annotated method parameter."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:270
msgid "If a client made the following HTTP call:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:277
#, no-wrap
msgid ""
"POST /cheeses;variant=goat/tomme?age=matured HTTP/1.1\n"
"Content-Type: application/x-www-form-urlencoded\n"
"Cookie: level=hardcore\n"
"X-Cheese-Secret-Handshake: fist-bump\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:279
#, no-wrap
msgid "smell=strong\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:282
msgid "Then you could obtain all the various parameters with this endpoint method:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:289
#, no-wrap
msgid ""
"import javax.ws.rs.POST;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:296
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.RestCookie;\n"
"import org.jboss.resteasy.reactive.RestForm;\n"
"import org.jboss.resteasy.reactive.RestHeader;\n"
"import org.jboss.resteasy.reactive.RestMatrix;\n"
"import org.jboss.resteasy.reactive.RestPath;\n"
"import org.jboss.resteasy.reactive.RestQuery;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:299
#, no-wrap
msgid ""
"@Path(\"/cheeses/{type}\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:311
#, no-wrap
msgid ""
"    @POST\n"
"    public String allParams(@RestPath String type,\n"
"                            @RestMatrix String variant,\n"
"                            @RestQuery String age,\n"
"                            @RestCookie String level,\n"
"                            @RestHeader(\"X-Cheese-Secret-Handshake\")\n"
"                            String secretHandshake,\n"
"                            @RestForm String smell) {\n"
"        return type + \"/\" + variant + \"/\" + age + \"/\" + level + \"/\" + secretHandshake + \"/\" + smell;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:316
msgid "the link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestPath.html[`@RestPath`] annotation is optional: any parameter whose name matches an existing URI template variable will be automatically assumed to have link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestPath.html[`@RestPath`]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:324
msgid "You can also use any of the JAX-RS annotations link:{jaxrsapi}/javax/ws/rs/PathParam.html[`@PathParam`], link:{jaxrsapi}/javax/ws/rs/QueryParam.html[`@QueryParam`], link:{jaxrsapi}/javax/ws/rs/HeaderParam.html[`@HeaderParam`], link:{jaxrsapi}/javax/ws/rs/CookieParam.html[`@CookieParam`], link:{jaxrsapi}/javax/ws/rs/FormParam.html[`@FormParam`] or link:{jaxrsapi}/javax/ws/rs/MatrixParam.html[`@MatrixParam`] for this, but they require you to specify the parameter name."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:326
msgid "See <<parameter-mapping>> for more advanced use-cases."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:327
#, no-wrap
msgid "Declaring URI parameters"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:334
msgid "You can declare URI parameters and use regular expressions in your path, so for instance the following endpoint will serve requests for `/hello/stef/23` and `/hello` but not `/hello/stef/0x23`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:344
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2146
#, no-wrap
msgid ""
"@Path(\"hello\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:350
#, no-wrap
msgid ""
"    @Path(\"{name}/{age:\\\\d+}\")\n"
"    @GET\n"
"    public String personalisedHello(String name, int age) {\n"
"        return \"Hello \" + name + \" is your age really \" + age + \"?\";\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:356
#, no-wrap
msgid ""
"    @GET\n"
"    public String genericHello() {\n"
"        return \"Hello stranger\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:359
#, no-wrap
msgid "Accessing the request body"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:364
msgid "Any method parameter with no annotation will receive the method body.footnote:[Unless it is a <<path-parameter,URI template parameter>> or a <<context-objects,context object>>.], after it has been mapped from its HTTP representation to the Java type of the parameter."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:366
msgid "The following parameter types will be supported out of the box:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:369
#, no-wrap
msgid "Table Request body parameter type"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:371
#: upstream/_versions/main/guides/resteasy-reactive.adoc:546
#: upstream/_versions/main/guides/resteasy-reactive.adoc:787
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1612
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1629
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1717
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1737
#, no-wrap
msgid "Typ"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:374
#, no-wrap
msgid "link:{jdkapi}/java/io/File.html[`File`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:376
#, no-wrap
msgid "The entire request body in a temporary file"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:377
#, no-wrap
msgid "`byte[]`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:379
#, no-wrap
msgid "The entire request body, not decoded"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:380
#, no-wrap
msgid "`char[]`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:382
#: upstream/_versions/main/guides/resteasy-reactive.adoc:385
#, no-wrap
msgid "The entire request body, decoded"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:383
#, no-wrap
msgid "link:{jdkapi}/java/lang/String.html[`String`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:386
#, no-wrap
msgid "link:{jdkapi}/java/io/InputStream.html[`InputStream`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:388
#: upstream/_versions/main/guides/resteasy-reactive.adoc:391
#, no-wrap
msgid "The request body in a blocking stream"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:389
#, no-wrap
msgid "link:{jdkapi}/java/io/Reader.html[`Reader`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:392
#, no-wrap
msgid "All Java primitives and their wrapper classes"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:394
#, no-wrap
msgid "Java primitive types"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:395
#, no-wrap
msgid "link:{jdkapi}/java/math/BigDecimal.html[`BigDecimal`], link:{jdkapi}/java/math/BigInteger.html[`BigInteger`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:397
#, no-wrap
msgid "Large integers and decimals."
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:399
#, no-wrap
msgid ""
"link:{jsonpapi}/javax/json/JsonArray.html[`JsonArray`], link:{jsonpapi}/javax/json/JsonArray.html[`JsonObject`],\n"
"link:{jsonpapi}/javax/json/JsonArray.html[`JsonStructure`], link:{jsonpapi}/javax/json/JsonArray.html[`JsonValue`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:401
#, no-wrap
msgid "JSON value types"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:402
#, no-wrap
msgid "link:{vertxapi}io/vertx/core/buffer/Buffer.html[`Buffer`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:404
#, no-wrap
msgid "Vert.x Buffer"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:405
#, no-wrap
msgid "any other type"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:407
#, no-wrap
msgid "Will be <<json,mapped from JSON to that type>>"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:410
msgid "You can add support for more <<readers-writers,body parameter types>>."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:412
#, no-wrap
msgid "Handling Multipart Form data"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:417
msgid "To handle HTTP requests that have `multipart/form-data` as their content type, RESTEasy Reactive introduces the link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/MultipartForm.html[`@MultipartForm`] annotation.  Let us look at an example of its use."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:420
msgid "Assuming an HTTP request containing a file upload and a form value containing a string description need to be handled, we could write a POJO that will hold this information like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:424
#: upstream/_versions/main/guides/resteasy-reactive.adoc:495
#, no-wrap
msgid "import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:428
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.PartType;\n"
"import org.jboss.resteasy.reactive.RestForm;\n"
"import org.jboss.resteasy.reactive.multipart.FileUpload;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:430
#, no-wrap
msgid "public class FormData {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:434
#, no-wrap
msgid ""
"    @RestForm\n"
"    @PartType(MediaType.TEXT_PLAIN)\n"
"    public String description;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:438
#, no-wrap
msgid ""
"    @RestForm(\"image\")\n"
"    public FileUpload file;\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:443
msgid "The `name` field will contain the data contained in the part of HTTP request called `description` (because link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestForm.html[`@RestForm`] does not define a value, the field name is used), while the `file` field will contain data about the uploaded file in the `image` part of HTTP request."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:446
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/multipart/FileUpload.html[`FileUpload`] provides access to various metadata of the uploaded file. If however all you need is a handle to the uploaded file, `java.nio.file.Path` or `java.io.File` could be used."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:448
msgid "When access to all uploaded files without specifying the form names is needed, RESTEasy Reactive allows the use of `@RestForm List<FileUpload>`, where it is important to **not** set a name for the link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestForm.html[`@RestForm`] annotation."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:452
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/PartType.html[`@PartType`] is used to aid in deserialization of the corresponding part of the request into the desired Java type. It is very useful when for example the corresponding body part is JSON and needs to be converted to a POJO."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:454
msgid "This POJO could be used in a Resource method like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:462
#, no-wrap
msgid ""
"import javax.ws.rs.Consumes;\n"
"import javax.ws.rs.POST;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.Produces;\n"
"import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:464
#, no-wrap
msgid "import org.jboss.resteasy.reactive.MultipartForm;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:467
#: upstream/_versions/main/guides/resteasy-reactive.adoc:521
#, no-wrap
msgid ""
"@Path(\"multipart\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:476
#, no-wrap
msgid ""
"    @POST\n"
"    @Produces(MediaType.APPLICATION_JSON)\n"
"    @Consumes(MediaType.MULTIPART_FORM_DATA)\n"
"    @Path(\"form\")\n"
"    public String form(@MultipartForm FormData formData) {\n"
"        // return something\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:480
msgid "The use of link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/MultipartForm.html[`@MultipartForm`] as method parameter makes RESTEasy Reactive handle the request as a multipart form request."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:482
msgid "The use of `@MultipartForm` is actually unnecessary as RESTEasy Reactive can infer this information from the use of `@Consumes(MediaType.MULTIPART_FORM_DATA)`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:488
msgid "When handling file uploads, it is very important to move the file to permanent storage (like a database, a dedicated file system or a cloud storage) in your code that handles the POJO.  Otherwise, the file will no longer be accessible when the request terminates.  Moreoever if `quarkus.http.body.delete-uploaded-files-on-end` is set to true, Quarkus will delete the uploaded file when the HTTP response is sent. If the setting is disabled, the file will reside on the file system of the server (in the directory defined by the `quarkus.http.body.uploads-directory` configuration option), but as the uploaded files are saved with a UUID file name and no additional metadata is saved, these files are essentially a random dump of files."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:491
msgid "Similarly, RESTEasy Reactive can produce Multipart Form data to allow users download files from the server. For example, we could write a POJO that will hold the information we want to expose as:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:498
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.PartType;\n"
"import org.jboss.resteasy.reactive.RestForm;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:500
#, no-wrap
msgid "public class DownloadFormData {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:503
#, no-wrap
msgid ""
"    @RestForm\n"
"    String name;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:508
#, no-wrap
msgid ""
"    @RestForm\n"
"    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n"
"    File file;\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:511
msgid "And then expose this POJO via a Resource like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:518
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.Produces;\n"
"import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:529
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces(MediaType.MULTIPART_FORM_DATA)\n"
"    @Path(\"file\")\n"
"    public DownloadFormData getFile() {\n"
"        // return something\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:532
msgid "For the time being, returning Multipart data is limited to be blocking endpoints."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:533
#, no-wrap
msgid "Returning a response body"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:538
msgid "In order to return an HTTP response, simply return the resource you want from your method. The method return type and its optional content type will be used to decide how to serialise it to the HTTP response (see <<negotiation>> for more advanced information)."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:541
msgid "You can return any of the pre-defined types that you can read from the <<resource-types,HTTP response>>, and any other type will be mapped <<json,from that type to JSON>>."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:543
msgid "In addition, the following return types are also supported:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:544
#, no-wrap
msgid "Table Additional response body parameter type"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:549
#, no-wrap
msgid "link:{jdkapi}/java/nio/file/Path.html[`Path`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:551
#, no-wrap
msgid "The contents of the file specified by the given path"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:552
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/PathPart.html[`PathPart`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:554
#, no-wrap
msgid "The partial contents of the file specified by the given path"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:555
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/FilePart.html[`FilePart`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:557
#, no-wrap
msgid "The partial contents of a file"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:558
#, no-wrap
msgid "link:{vertxapi}/io/vertx/core/file/AsyncFile.html[`AsyncFile`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:560
#, no-wrap
msgid "Vert.x AsyncFile, which can be in full, or partial"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:566
msgid "Alternately, you can also return a <<reactive,reactive type>> such as link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni`], link:{mutinyapi}/io/smallrye/mutiny/Multi.html[`Multi`] or link:{jdkapi}/java/util/concurrent/CompletionStage.html[`CompletionStage`] that resolve to one of the mentioned return types."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:567
#, no-wrap
msgid "Setting other response properties"
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:569
#, no-wrap
msgid "Manually setting the response"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:574
msgid "If you need to set more properties on the HTTP response than just the body, such as the status code or headers, you can make your method return `org.jboss.resteasy.reactive.RestResponse` from a resource method.  An example of this could look like:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:582
#, no-wrap
msgid ""
"import java.time.Duration;\n"
"import java.time.Instant;\n"
"import java.util.Date;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:587
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.core.MediaType;\n"
"import javax.ws.rs.core.NewCookie;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:590
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.RestResponse;\n"
"import org.jboss.resteasy.reactive.RestResponse.ResponseBuilder;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:608
#, no-wrap
msgid ""
"    @GET\n"
"    public RestResponse<String> hello() {\n"
"        // HTTP OK status with text/plain content type\n"
"        return ResponseBuilder.ok(\"Hello, World!\", MediaType.TEXT_PLAIN_TYPE)\n"
"         // set a response header\n"
"         .header(\"X-Cheese\", \"Camembert\")\n"
"         // set the Expires response header to two days from now\n"
"         .expires(Date.from(Instant.now().plus(Duration.ofDays(2))))\n"
"         // send a new cookie\n"
"         .cookie(new NewCookie(\"Flavour\", \"chocolate\"))\n"
"         // end of builder API\n"
"         .build();\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:612
msgid "You can also use the JAX-RS type link:{jaxrsapi}/javax/ws/rs/core/Response.html[`Response`] but it is not strongly typed to your entity."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:613
#, no-wrap
msgid "Using annotations"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:617
msgid "Alternatively, if you only need to set the status code and / or HTTP headers with static values, you can use `@org.jboss.resteasy.reactive.ResponseStatus` and /or `ResponseHeader` respectively.  An example of this could look like:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:625
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.Header;\n"
"import org.jboss.resteasy.reactive.ResponseHeaders;\n"
"import org.jboss.resteasy.reactive.ResponseStatus;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:639
#, no-wrap
msgid ""
"    @ResponseStatus(201)\n"
"    @ResponseHeader(name = \"X-Cheese\", value = \"Camembert\")\n"
"    @GET\n"
"    public String hello() {\n"
"        return \"Hello, World!\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:641
#, no-wrap
msgid "Async/reactive support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:651
msgid "If your endpoint method needs to accomplish an asynchronous or reactive task before being able to answer, you can declare your method to return the link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni`] type (from https://smallrye.io/smallrye-mutiny/[Mutiny]), in which case the current HTTP request will be automatically suspended after your method, until the returned link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni`] instance resolves to a value, which will be mapped to a response exactly according to the previously described rules:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:660
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1463
#, no-wrap
msgid "import io.smallrye.mutiny.Uni;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:663
#: upstream/_versions/main/guides/resteasy-reactive.adoc:746
#, no-wrap
msgid ""
"@Path(\"escoffier\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:669
#, no-wrap
msgid ""
"    @GET\n"
"    public Uni<Book> culinaryGuide() {\n"
"        return Book.findByIsbn(\"978-2081229297\");\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:675
msgid "This allows you to not block the event-loop thread while the book is being fetched from the database, and allows Quarkus to serve more requests until your book is ready to be sent to the client and terminate this request. Check out our <<execution-model,Execution Model documentation>> for more information."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:678
msgid "The link:{jdkapi}/java/util/concurrent/CompletionStage.html[`CompletionStage`] return type is also supported."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:679
#, no-wrap
msgid "Streaming support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:684
msgid "If you want to stream your response element by element, you can make your endpoint method return a link:{mutinyapi}/io/smallrye/mutiny/Multi.html[`Multi`] type (from https://smallrye.io/smallrye-mutiny/[Mutiny]).  This is especially useful for streaming text or binary data."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:687
msgid "This example, using https://github.com/quarkiverse/quarkus-reactive-messaging-http[Reactive Messaging HTTP] shows how to stream text data:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:695
#, no-wrap
msgid ""
"import javax.inject.Inject;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:697
#, no-wrap
msgid "import org.eclipse.microprofile.reactive.messaging.Channel;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:699
#, no-wrap
msgid "import io.smallrye.mutiny.Multi;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:702
#, no-wrap
msgid ""
"@Path(\"logs\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:706
#, no-wrap
msgid ""
"    @Inject\n"
"    @Channel(\"log-out\")\n"
"    Multi<String> logs;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:712
#, no-wrap
msgid ""
"    @GET\n"
"    public Multi<String> streamLogs() {\n"
"        return logs;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:717
msgid "Response filters are **not** invoked on streamed responses, because they would give a false impression that you can set headers or HTTP status codes, which is not true after the initial response. Exception mappers are also not invoked because part of the response may already have been written."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:718
#, no-wrap
msgid "Server-Sent Event (SSE) support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:726
msgid "If you want to stream JSON objects in your response, you can use https://html.spec.whatwg.org/multipage/server-sent-events.html[Server-Sent Events] by just annotating your endpoint method with link:{jaxrsapi}/javax/ws/rs/Produces.html[`@Produces(MediaType.SERVER_SENT_EVENTS)`] and specifying that each element should be <<json,serialised to JSON>> with `@RestStreamElementType(MediaType.APPLICATION_JSON)`."
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:736
#, no-wrap
msgid ""
"import javax.inject.Inject;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.Produces;\n"
"import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:738
#, no-wrap
msgid "import org.jboss.resteasy.reactive.RestStreamElementType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:741
#, no-wrap
msgid ""
"import io.smallrye.mutiny.Multi;\n"
"import io.smallrye.mutiny.Uni;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:743
#, no-wrap
msgid "import io.smallrye.reactive.messaging.annotations.Channel;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:751
#, no-wrap
msgid ""
"    // Inject our Book channel\n"
"    @Inject\n"
"    @Channel(\"book-out\")\n"
"    Multi<Book> books;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:761
#, no-wrap
msgid ""
"    @GET\n"
"    // Send the stream over SSE\n"
"    @Produces(MediaType.SERVER_SENT_EVENTS)\n"
"    // Each element will be sent as JSON\n"
"    @RestStreamElementType(MediaType.APPLICATION_JSON)\n"
"    public Multi<Book> stream() {\n"
"        return books;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:763
#, no-wrap
msgid "Controlling HTTP Caching features"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:768
msgid "RESTEasy Reactive provides the link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/Cache.html[`@Cache`] and link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/NoCache.html[`@NoCache`] annotations to facilitate handling HTTP caching semantics, i.e. setting the 'Cache-Control' HTTP header."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:771
msgid "These annotations can be placed either on a Resource Method or a Resource Class (in which case it applies to all Resource Methods of the class that do *not* contain the same annotation) and allow users to return domain objects and not have to deal with building up the `Cache-Control` HTTP header explicitly."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:775
msgid "While link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/Cache.html[`@Cache`] builds a complex `Cache-Control` header, link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/NoCache.html[`@NoCache`] is a simplified notation to say that you don't want anything cached; i.e. `Cache-Control: nocache`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:777
msgid "More information on the `Cache-Control` header and be found in link:https://datatracker.ietf.org/doc/html/rfc7234[RFC 7234]"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:778
#, no-wrap
msgid "Accessing context objects"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:784
msgid "There are a number of contextual objects that the framework will give you, if your endpoint method takes parameters of the following type:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:785
#: upstream/_versions/main/guides/resteasy-reactive.adoc:922
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1128
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1147
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1240
#, no-wrap
msgid "Table Context object"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:790
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/HttpHeaders.html[`HttpHeaders`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:792
#, no-wrap
msgid "All the request headers"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:793
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/container/ResourceInfo.html[`ResourceInfo`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:795
#, no-wrap
msgid "Information about the current endpoint method and class (requires reflection)"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:796
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/SecurityContext.html[`SecurityContext`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:798
#, no-wrap
msgid "Access to the current user and roles"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:799
#, no-wrap
msgid "link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/SimpleResourceInfo.html[`SimpleResourceInfo`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:801
#, no-wrap
msgid "Information about the current endpoint method and class (no reflection required)"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:802
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/UriInfo.html[`UriInfo`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:804
#, no-wrap
msgid "Provides information about the current endpoint and application URI"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:805
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/Application.html[`Application`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:807
#, no-wrap
msgid "Advanced: Current JAX-RS application class"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:808
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/Configuration.html[`Configuration`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:810
#, no-wrap
msgid "Advanced: Configuration about the deployed JAX-RS application"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:811
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/ext/Providers.html[`Providers`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:813
#, no-wrap
msgid "Advanced: Runtime access to JAX-RS providers"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:814
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/Request.html[`Request`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:816
#, no-wrap
msgid "Advanced: Access to the current HTTP method and <<preconditions>>"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:817
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/core/ResourceContext.html[`ResourceContext`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:819
#, no-wrap
msgid "Advanced: access to instances of endpoints"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:820
#, no-wrap
msgid "link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/spi/ServerRequestContext.html[`ServerRequestContext`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:822
#, no-wrap
msgid "Advanced: RESTEasy Reactive access to the current request/response"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:823
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/sse/Sse.html[`Sse`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:825
#, no-wrap
msgid "Advanced: Complex SSE use-cases"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:826
#, no-wrap
msgid "link:{vertxapi}/io/vertx/core/http/HttpServerRequest.html[`HttpServerRequest`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:828
#, no-wrap
msgid "Advanced: Vert.x HTTP Request"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:829
#, no-wrap
msgid "link:{vertxapi}/io/vertx/core/http/HttpServerResponse.html[`HttpServerResponse`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:831
#, no-wrap
msgid "Advanced: Vert.x HTTP Response"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:834
msgid "For example, here is how you can return the name of the currently logged-in user:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:840
#: upstream/_versions/main/guides/resteasy-reactive.adoc:865
#: upstream/_versions/main/guides/resteasy-reactive.adoc:893
#, no-wrap
msgid "import java.security.Principal;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:844
#: upstream/_versions/main/guides/resteasy-reactive.adoc:871
#: upstream/_versions/main/guides/resteasy-reactive.adoc:897
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.core.SecurityContext;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:847
#: upstream/_versions/main/guides/resteasy-reactive.adoc:874
#: upstream/_versions/main/guides/resteasy-reactive.adoc:900
#, no-wrap
msgid ""
"@Path(\"user\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:854
#, no-wrap
msgid ""
"    @GET\n"
"    public String userName(SecurityContext security) {\n"
"        Principal user = security.getUserPrincipal();\n"
"        return user != null ? user.getName() : \"<NOT LOGGED IN>\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:859
msgid "You can also inject those context objects using https://javadoc.io/static/javax.inject/javax.inject/1/javax/inject/Inject.html[`@Inject`] on fields of the same type:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:867
#, no-wrap
msgid "import javax.inject.Inject;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:877
#, no-wrap
msgid ""
"    @Inject\n"
"    SecurityContext security;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:884
#: upstream/_versions/main/guides/resteasy-reactive.adoc:913
#, no-wrap
msgid ""
"    @GET\n"
"    public String userName() {\n"
"        Principal user = security.getUserPrincipal();\n"
"        return user != null ? user.getName() : \"<NOT LOGGED IN>\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:887
msgid "Or even on your endpoint constructor:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:902
#, no-wrap
msgid "    SecurityContext security;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:906
#, no-wrap
msgid ""
"    Endpoint(SecurityContext security) {\n"
"        this.security = security;\n"
"    }\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:916
#, no-wrap
msgid "JSON serialisation"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:921
msgid "Instead of importing `io.quarkus:quarkus-resteasy-reactive`, you can import either of the following modules to get support for JSON:"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:924
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1130
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1149
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1242
#, no-wrap
msgid "GAV"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:927
#, no-wrap
msgid "`io.quarkus:quarkus-resteasy-reactive-jackson`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:929
#, no-wrap
msgid "https://github.com/FasterXML/jackson[Jackson support]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:930
#, no-wrap
msgid "`io.quarkus:quarkus-resteasy-reactive-jsonb`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:932
#, no-wrap
msgid "https://eclipse-ee4j.github.io/jsonb-api/[JSON-B support]"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:937
msgid "In both cases, importing those modules will allow HTTP message bodies to be read from JSON and serialised to JSON, for <<resource-types,all the types not already registered with a more specific serialisation>>."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:938
#, no-wrap
msgid "Advanced Jackson-specific features"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:941
msgid "When using the `quarkus-resteasy-reactive-jackson` extension there are some advanced features that RESTEasy Reactive supports."
msgstr ""

#. type: Title =====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:943
#, no-wrap
msgid "Secure serialization"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:947
msgid "When used with Jackson to perform JSON serialization, RESTEasy Reactive provides the ability to limit the set of fields that are serialized based on the roles of the current user.  This is achieved by simply annotating the fields (or getters) of the POJO being returned with `@io.quarkus.resteasy.reactive.jackson.SecureField`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:949
msgid "A simple example could be the following:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:951
msgid "Assume we have a POJO named `Person` which looks like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:957
#, no-wrap
msgid "import io.quarkus.resteasy.reactive.jackson.SecureField;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:959
#, no-wrap
msgid "public class Person {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:964
#, no-wrap
msgid ""
"    @SecureField(rolesAllowed = \"admin\")\n"
"    private final Long id;\n"
"    private final String first;\n"
"    private final String last;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:970
#, no-wrap
msgid ""
"    public Person(Long id, String first, String last) {\n"
"        this.id = id;\n"
"        this.first = first;\n"
"        this.last = last;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:974
#, no-wrap
msgid ""
"    public Long getId() {\n"
"        return id;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:978
#, no-wrap
msgid ""
"    public String getFirst() {\n"
"        return first;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:983
#, no-wrap
msgid ""
"    public String getLast() {\n"
"        return last;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:986
msgid "A very simple JAX-RS Resource that uses `Person` could be:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:996
#, no-wrap
msgid ""
"@Path(\"person\")\n"
"public class Person {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1003
#, no-wrap
msgid ""
"    @Path(\"{id}\")\n"
"    @GET\n"
"    public Person getPerson(Long id) {\n"
"        return new Person(id, \"foo\", \"bar\");\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1007
msgid "Assuming security has been set up for the application (see our xref:security.adoc[guide] for more details), when a user with the `admin` role performs an HTTP GET on `/person/1` they will receive:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1015
#, no-wrap
msgid ""
"{\n"
"  \"id\": 1,\n"
"  \"first\": \"foo\",\n"
"  \"last\": \"bar\"\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1018
msgid "as the response."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1020
msgid "Any user however that does not have the `admin` role will receive:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1027
#, no-wrap
msgid ""
"{\n"
"  \"first\": \"foo\",\n"
"  \"last\": \"bar\"\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1031
msgid "No additional configuration needs to be applied for this secure serialization to take place. However, users can use the `@io.quarkus.resteasy.reactive.jackson.EnableSecureSerialization` and `@io.quarkus.resteasy.reactive.jackson.DisableSecureSerialization` annotation to opt-in or out for specific JAX-RS Resource classes or methods."
msgstr ""

#. type: Title =====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1032
#, no-wrap
msgid "@JsonView support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1036
msgid "JAX-RS methods can be annotated with https://fasterxml.github.io/jackson-annotations/javadoc/2.10/com/fasterxml/jackson/annotation/JsonView.html[@JsonView] in order to customize the serialization of the returned POJO, on a per method-basis. This is best explained with an example."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1038
msgid "A typical use of `@JsonView` is to hide certain fields on certain methods. In that vein, let's define two views:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1042
#, no-wrap
msgid "public class Views {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1045
#, no-wrap
msgid ""
"    public static class Public {\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1049
#, no-wrap
msgid ""
"    public static class Private extends Public {\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1052
msgid "Let's assume we have the `User` POJO on which we want to hide some field during serialization. A simple example of this is:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1056
#, no-wrap
msgid "public class User {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1059
#, no-wrap
msgid ""
"    @JsonView(Views.Private.class)\n"
"    public int id;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1063
#, no-wrap
msgid ""
"    @JsonView(Views.Public.class)\n"
"    public String name;\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1067
msgid "Depending on the JAX-RS method that returns this user, we might want to exclude the `id` field from serialization - for example you might want an insecure method to not expose this field. The way we can achieve that in RESTEasy Reactive is shown in the following example:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1076
#, no-wrap
msgid ""
"@JsonView(Views.Public.class)\n"
"@GET\n"
"@Path(\"/public\")\n"
"public User userPublic() {\n"
"    return testUser();\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1083
#, no-wrap
msgid ""
"@JsonView(Views.Private.class)\n"
"@GET\n"
"@Path(\"/private\")\n"
"public User userPrivate() {\n"
"    return testUser();\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1087
msgid "When the result the `userPublic` method is serialized, the `id` field will not be contained in the response as the `Public` view does not include it.  The result of `userPrivate` however will include the `id` as expected when serialized."
msgstr ""

#. type: Title =====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1088
#, no-wrap
msgid "Completely customized per method serialization"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1092
msgid "There are times when you need to completely customize the serialization of a POJO on a per JAX-RS method basis. For such use cases, the `@io.quarkus.resteasy.reactive.jackson.CustomSerialization` annotation is a great tool, as it allows you to configure a per-method `com.fasterxml.jackson.databind.ObjectWriter` which can be configured at will."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1094
msgid "Here is an example use case:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1103
#, no-wrap
msgid ""
"@CustomSerialization(UnquotedFields.class)\n"
"@GET\n"
"@Path(\"/invalid-use-of-custom-serializer\")\n"
"public User invalidUseOfCustomSerializer() {\n"
"    return testUser();\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1106
msgid "where `UnquotedFields` is a `BiFunction` defined as so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1110
#, no-wrap
msgid "public static class UnquotedFields implements BiFunction<ObjectMapper, Type, ObjectWriter> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1116
#, no-wrap
msgid ""
"    @Override\n"
"    public ObjectWriter apply(ObjectMapper objectMapper, Type type) {\n"
"        return objectMapper.writer().without(JsonWriteFeature.QUOTE_FIELD_NAMES);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1119
msgid "Essentially what this class does is force Jackson to not include quotes in the field names."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1121
msgid "It is important to note that this customization is only performed for the serialization of the JAX-RS methods that use `@CustomSerialization(UnquotedFields.class)`."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1122
#, no-wrap
msgid "XML serialisation"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1127
msgid "To enable XML support, add the `quarkus-resteasy-reactive-jaxb` extension to your project."
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1133
#, no-wrap
msgid "`io.quarkus:quarkus-resteasy-reactive-jaxb`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1135
#, no-wrap
msgid "https://javaee.github.io/jaxb-v2/[XML support]"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1140
msgid "Importing this module will allow HTTP message bodies to be read from XML and serialised to XML, for <<resource-types,all the types not already registered with a more specific serialisation>>."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1141
#, no-wrap
msgid "Web Links support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1146
msgid "To enable Web Links support, add the `quarkus-resteasy-reactive-links` extension to your project."
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1152
#, no-wrap
msgid "`io.quarkus:quarkus-resteasy-reactive-links`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1154
#, no-wrap
msgid "https://www.w3.org/wiki/LinkHeader[Web Links support]"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1157
msgid "Importing this module will allow injecting web links into the response HTTP headers by just annotating your endpoint resources with the `@InjectRestLinks` annotation. To declare the web links that will be returned, you need to use the `@RestLink` annotation in the linked methods. An example of this could look like:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1162
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1224
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1255
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1347
#, no-wrap
msgid ""
"@Path(\"/records\")\n"
"public class RecordsResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1169
#, no-wrap
msgid ""
"    @GET\n"
"    @RestLink(rel = \"list\")\n"
"    @InjectRestLinks\n"
"    public List<Record> getAll() {\n"
"        // ...\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1177
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/{id}\")\n"
"    @RestLink(rel = \"self\")\n"
"    @InjectRestLinks(RestLinkType.INSTANCE)\n"
"    public TestRecord get(@PathParam(\"id\") int id) {\n"
"        // ...\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1185
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"/{id}\")\n"
"    @RestLink\n"
"    @InjectRestLinks(RestLinkType.INSTANCE)\n"
"    public TestRecord update(@PathParam(\"id\") int id) {\n"
"        // ...\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1193
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"/{id}\")\n"
"    @RestLink\n"
"    public TestRecord delete(@PathParam(\"id\") int id) {\n"
"        // ...\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1196
msgid "When calling the endpoint `/records` which is defined by the method `getAll` within the above resource using curl, you would get the web links header:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1201
#, no-wrap
msgid ""
"& curl -i localhost:8080/records\n"
"Link: <http://localhost:8080/records>; rel=\"list\"\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1204
msgid "As this resource does not return a single instance of type `Record`, the links for the methods `get`, `update`, and `delete` are not injected. Now, when calling the endpoint `/records/1`, you would get the following web links:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1212
#, no-wrap
msgid ""
"& curl -i localhost:8080/records/1\n"
"Link: <http://localhost:8080/records>; rel=\"list\"\n"
"Link: <http://localhost:8080/records/1>; rel=\"self\"\n"
"Link: <http://localhost:8080/records/1>; rel=\"update\"\n"
"Link: <http://localhost:8080/records/1>; rel=\"delete\"\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1215
msgid "Finally, when calling the delete resource, you should not see any web links as the method `delete` is not annotated with the `@InjectRestLinks` annotation."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1216
#, no-wrap
msgid "Programmatically access to the web links registry"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1219
msgid "You can programmatically have access to the web links registry just by injecting the `RestLinksProvider` bean:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1227
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1350
#, no-wrap
msgid ""
"    @Inject\n"
"    RestLinksProvider linksProvider;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1230
#, no-wrap
msgid ""
"    // ...\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1233
msgid "Using this injected bean of type `RestLinksProvider`, you can get the links by type using the method `RestLinksProvider.getTypeLinks` or get the links by a concrete instance using the method `RestLinksProvider.getInstanceLinks`."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1234
#, no-wrap
msgid "JSON Hypertext Application Language (HAL) support"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1237
msgid "The https://tools.ietf.org/id/draft-kelly-json-hal-01.html[HAL] standard is a simple format to represent web links."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1239
msgid "To enable the HAL support, add the `quarkus-hal` extension to your project. Also, as HAL needs JSON support, you need to add either the `quarkus-resteasy-reactive-jsonb` or the `quarkus-resteasy-reactive-jackson` extension."
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1245
#, no-wrap
msgid "`io.quarkus:quarkus-hal`"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1247
#, no-wrap
msgid "https://tools.ietf.org/id/draft-kelly-json-hal-01.html[HAL]"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1250
msgid "After adding the extensions, we can now annotate the REST resources to produce the media type `application/hal+json` (or use RestMediaType.APPLICATION_HAL_JSON). For example:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1263
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces({ MediaType.APPLICATION_JSON, RestMediaType.APPLICATION_HAL_JSON })\n"
"    @RestLink(rel = \"list\")\n"
"    @InjectRestLinks\n"
"    public List<Record> getAll() {\n"
"        // ...\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1273
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces({ MediaType.APPLICATION_JSON, RestMediaType.APPLICATION_HAL_JSON })\n"
"    @Path(\"/{id}\")\n"
"    @RestLink(rel = \"self\")\n"
"    @InjectRestLinks(RestLinkType.INSTANCE)\n"
"    public TestRecord get(@PathParam(\"id\") int id) {\n"
"        // ...\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1276
msgid "Now, the endpoints `/records` and `/records/{id}` will accept the media type both `json` and `hal+json` to print the records in Hal format."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1278
msgid "For example, if we invoke the `/records` endpoint using curl to return a list of records, the HAL format will look like as follows:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1319
#, no-wrap
msgid ""
"& curl -H \"Accept:application/hal+json\" -i localhost:8080/records\n"
"{\n"
"    \"_embedded\": {\n"
"        \"items\": [\n"
"            {\n"
"                \"id\": 1,\n"
"                \"slug\": \"first\",\n"
"                \"value\": \"First value\",\n"
"                \"_links\": {\n"
"                    \"self\": {\n"
"                        \"href\": \"http://localhost:8081/records/1\"\n"
"                    },\n"
"                    \"list\": {\n"
"                        \"href\": \"http://localhost:8081/records\"\n"
"                    }\n"
"                }\n"
"            },\n"
"            {\n"
"                \"id\": 2,\n"
"                \"slug\": \"second\",\n"
"                \"value\": \"Second value\",\n"
"                \"_links\": {\n"
"                    \"self\": {\n"
"                        \"href\": \"http://localhost:8081/records/2\"\n"
"                    },\n"
"                    \"list\": {\n"
"                        \"href\": \"http://localhost:8081/records\"\n"
"                    }\n"
"                }\n"
"            }\n"
"        ]\n"
"    },\n"
"    \"_links\": {\n"
"        \"list\": {\n"
"            \"href\": \"http://localhost:8081/records\"\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1322
msgid "When we call a resource `/records/1` that returns only one instance, then the output is:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1339
#, no-wrap
msgid ""
"& curl -H \"Accept:application/hal+json\" -i localhost:8080/records/1\n"
"{\n"
"    \"id\": 1,\n"
"    \"slug\": \"first\",\n"
"    \"value\": \"First value\",\n"
"    \"_links\": {\n"
"        \"self\": {\n"
"            \"href\": \"http://localhost:8081/records/1\"\n"
"        },\n"
"        \"list\": {\n"
"            \"href\": \"http://localhost:8081/records\"\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1342
msgid "Finally, you can also provide additional HAL links programmatically in your resource just by returning either `HalCollectionWrapper` (to return a list of entities) or `HalEntityWrapper` (to return a single object) as described in the following example:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1360
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces({ MediaType.APPLICATION_JSON, RestMediaType.APPLICATION_HAL_JSON })\n"
"    @RestLink(rel = \"list\")\n"
"    public HalCollectionWrapper getAll() {\n"
"        List<Record> list = // ...\n"
"        HalCollectionWrapper halCollection = new HalCollectionWrapper(list, \"collectionName\", linksProvider.getTypeLinks(Record.class));\n"
"        halCollection.addLinks(Link.fromPath(\"/records/1\").rel(\"first-record\").build());\n"
"        return halCollection;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1373
#, no-wrap
msgid ""
"    @GET\n"
"    @Produces({ MediaType.APPLICATION_JSON, RestMediaType.APPLICATION_HAL_JSON })\n"
"    @Path(\"/{id}\")\n"
"    @RestLink(rel = \"self\")\n"
"    @InjectRestLinks(RestLinkType.INSTANCE)\n"
"    public HalEntityWrapper get(@PathParam(\"id\") int id) {\n"
"        Record entity = // ... \n"
"        HalEntityWrapper halEntity = new HalEntityWrapper(entity, linksProvider.getInstanceLinks(entity));\n"
"        halEntity.addLinks(Link.fromPath(\"/records/1/parent\").rel(\"parent-record\").build());\n"
"        return halEntity;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1375
#, no-wrap
msgid "CORS filter"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1380
msgid "link:https://en.wikipedia.org/wiki/Cross-origin_resource_sharing[Cross-origin resource sharing] (CORS) is a mechanism that allows restricted resources on a web page to be requested from another domain outside the domain from which the first resource was served."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1384
msgid "Quarkus comes with a CORS filter at the HTTP layer level.  Read the xref:http-reference.adoc#cors-filter[HTTP Reference Documentation] to learn how to use it."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1385
#, no-wrap
msgid "More advanced usage"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1389
msgid "Here are some more advanced topics that you may not need to know about initially, but could prove useful for more complex use cases."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1390
#, no-wrap
msgid "Execution model, blocking, non-blocking"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1395
msgid "RESTEasy Reactive is implemented using two main thread types:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1397
msgid "Event-loop threads: which are responsible, among other things, for reading bytes from the HTTP request and"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1398
msgid "writing bytes back to the HTTP response"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1399
msgid "Worker threads: they are pooled and can be used to offload long-running operations"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1403
msgid "The event-loop threads (also called IO threads) are responsible for actually performing all the IO operations in an asynchronous way, and to trigger any listener interested in the completion of those IO operations."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1407
msgid "By default, the thread RESTEasy Reactive will run endpoint methods on depends on the signature of the method.  If a method returns one of the following types then it is considered non-blocking, and will be run on the IO thread by default:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1409
msgid "`io.smallrye.mutiny.Uni`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1410
msgid "`io.smallrye.mutiny.Multi`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1411
msgid "`java.util.concurrent.CompletionStage`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1412
msgid "`org.reactivestreams.Publisher`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1413
msgid "Kotlin `suspended` methods"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1418
msgid "This 'best guess' approach means that the majority of operations will run on the correct thread by default. If you are writing reactive code then your method will generally return one of these types, and will be executed on the IO thread.  If you are writing blocking code your methods will generally return the result directly, and these will be run on a worker thread."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1424
msgid "You can override this behaviour using the https://javadoc.io/doc/io.smallrye.common/smallrye-common-annotation/1.5.0/io/smallrye/common/annotation/Blocking.html[`@Blocking`] and https://javadoc.io/doc/io.smallrye.common/smallrye-common-annotation/1.5.0/io/smallrye/common/annotation/NonBlocking.html[`@NonBlocking`] annotations. This can be applied at the method, class or `javax.ws.rs.core.Application` level."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1426
msgid "The example below will override the default behaviour and always run on a worker thread, even though it returns a `Uni`."
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1435
#, no-wrap
msgid "import io.smallrye.common.annotation.Blocking;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1438
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1466
#, no-wrap
msgid ""
"@Path(\"yawn\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1447
#, no-wrap
msgid ""
"    @Blocking\n"
"    @GET\n"
"    public Uni<String> blockingHello() throws InterruptedException {\n"
"        // do a blocking operation\n"
"        Thread.sleep(1000);\n"
"        return Uni.createFrom().item(\"Yaaaawwwwnnnnnn…\");\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1452
msgid "Most of the time, there are ways to achieve the same blocking operations in an asynchronous/reactive way, using https://smallrye.io/smallrye-mutiny/[Mutiny], http://hibernate.org/reactive/[Hibernate Reactive] or any of the xref:quarkus-reactive-architecture.adoc#quarkus-extensions-enabling-reactive[Quarkus Reactive extensions] for example:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1458
#, no-wrap
msgid "import java.time.Duration;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1474
#, no-wrap
msgid ""
"    @GET\n"
"    public Uni<String> blockingHello() throws InterruptedException {\n"
"        return Uni.createFrom().item(\"Yaaaawwwwnnnnnn…\")\n"
"                // do a non-blocking sleep\n"
"                .onItem().delayIt().by(Duration.ofSeconds(2));\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1479
msgid "If a method or class is annotated with `javax.transaction.Transactional` then it will also be treated as a blocking method. This is because JTA is a blocking technology, and is generally used with other blocking technology such as Hibernate and JDBC. An explicit `@Blocking` or `@NonBlocking` on the class will override this behaviour."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1480
#, no-wrap
msgid "Overriding the default behaviour"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1484
msgid "If you want to override the default behaviour you can annotate a `javax.ws.rs.core.Application` subclass in your application with `@Blocking` or `@NonBlocking`, and this will set the default for every method that does not have an explicit annotation."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1487
msgid "Behaviour can still be overridden on a class or method level by annotating them directly, however all endpoints without an annotation will now follow the default, no matter their method signature."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1489
#, no-wrap
msgid "Exception mapping"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1494
msgid "If your application needs to return non-nominal HTTP codes in error cases, the best is to throw exceptions that will result in the proper HTTP response being sent by the framework using link:{jaxrsapi}/javax/ws/rs/WebApplicationException.html[`WebApplicationException`] or any of its subtypes:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1503
#, no-wrap
msgid ""
"import javax.ws.rs.BadRequestException;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.NotFoundException;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1506
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1568
#, no-wrap
msgid ""
"@Path(\"cheeses/{cheese}\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1518
#, no-wrap
msgid ""
"    @GET\n"
"    public String findCheese(String cheese) {\n"
"        if(cheese == null)\n"
"            // send a 400\n"
"            throw new BadRequestException();\n"
"        if(!cheese.equals(\"camembert\"))\n"
"            // send a 404\n"
"            throw new NotFoundException(\"Unknown cheese: \" + cheese);\n"
"        return \"Camembert is a very nice cheese\";\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1527
msgid "If your endpoint method is delegating calls to another service layer which does not know of JAX-RS, you need a way to turn service exceptions to an HTTP response, and you can do that using the link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/ServerExceptionMapper.html[`@ServerExceptionMapper`] annotation on a method, with one parameter of the exception type you want to handle, and turning that exception into a link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestResponse.html[`RestResponse`] (or a link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni<RestResponse<?>>`]):"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1533
#, no-wrap
msgid "import java.util.Map;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1540
#, no-wrap
msgid ""
"import javax.enterprise.context.ApplicationScoped;\n"
"import javax.inject.Inject;\n"
"import javax.ws.rs.BadRequestException;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.core.Response;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1543
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1597
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.server.ServerExceptionMapper;\n"
"import org.jboss.resteasy.reactive.RestResponse;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1546
#, no-wrap
msgid ""
"class UnknownCheeseException extends RuntimeException {\n"
"    public final String name;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1551
#, no-wrap
msgid ""
"    public UnknownCheeseException(String name) {\n"
"        this.name = name;\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1557
#, no-wrap
msgid ""
"@ApplicationScoped\n"
"class CheeseService {\n"
"    private static final Map<String, String> cheeses = \n"
"            Map.of(\"camembert\", \"Camembert is a very nice cheese\",\n"
"                   \"gouda\", \"Gouda is acceptable too, especially with cumin\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1565
#, no-wrap
msgid ""
"    public String findCheese(String name) {\n"
"        String ret = cheeses.get(name);\n"
"        if(ret != null)\n"
"            return ret;\n"
"        throw new UnknownCheeseException(name);\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1571
#, no-wrap
msgid ""
"    @Inject\n"
"    CheeseService cheeses;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1576
#, no-wrap
msgid ""
"    @ServerExceptionMapper\n"
"    public RestResponse<String> mapException(UnknownCheeseException x) {\n"
"        return RestResponse.status(Response.Status.NOT_FOUND, \"Unknown cheese: \" + x.name);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1585
#, no-wrap
msgid ""
"    @GET\n"
"    public String findCheese(String cheese) {\n"
"        if(cheese == null)\n"
"            // send a 400\n"
"            throw new BadRequestException();\n"
"        return cheeses.findCheese(cheese);\n"
"    }\n"
"} \n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1590
msgid "exception mappers defined in REST endpoint classes will only be called if the exception is thrown in the same class. If you want to define global exception mappers, simply define them outside a REST endpoint class:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1604
#, no-wrap
msgid ""
"class ExceptionMappers {\n"
"    @ServerExceptionMapper\n"
"    public RestResponse<String> mapException(UnknownCheeseException x) {\n"
"        return RestResponse.status(Response.Status.NOT_FOUND, \"Unknown cheese: \" + x.name);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1607
msgid "You can also declare link:{jaxrsspec}#exceptionmapper[exception mappers in the JAX-RS way]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1609
msgid "Your exception mapper may declare any of the following parameter types:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1610
#, no-wrap
msgid "Table Exception mapper parameters"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1615
#, no-wrap
msgid "An exception type"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1617
#, no-wrap
msgid "Defines the exception type you want to handle"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1618
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1720
#, no-wrap
msgid "Any of the <<context-objects,Context objects>>"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1621
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1723
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/container/ContainerRequestContext.html[`ContainerRequestContext`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1623
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1725
#, no-wrap
msgid "A context object to access the current request"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1626
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1734
msgid "It may declare any of the following return types:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1627
#, no-wrap
msgid "Table Exception mapper return types"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1632
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestResponse.html[`RestResponse`] or link:{jaxrsapi}/javax/ws/rs/core/Response.html[`Response`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1634
#, no-wrap
msgid "The response to send to the client when the exception occurs"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1635
#, no-wrap
msgid "link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni<RestResponse>`] or link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni<Response>`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1637
#, no-wrap
msgid "An asynchronous response to send to the client when the exception occurs"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1639
#, no-wrap
msgid "Request or response filters"
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1641
#, no-wrap
msgid "Via annotations"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1644
msgid "You can declare functions which are invoked in the following phases of the request processing:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1646
msgid "Before the endpoint method is identified: pre-routing request filter"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1647
msgid "After routing, but before the endpoint method is called: normal request filter"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1648
msgid "After the endpoint method is called: response filter"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1652
msgid "These filters allow you to do various things such as examine the request URI, HTTP method, influence routing, look or change request headers, abort the request, or modify the response."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1656
msgid "Request filters can be declared with the link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/ServerRequestFilter.html[`@ServerRequestFilter`] annotation:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1660
#, no-wrap
msgid "import java.util.Optional;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1662
#, no-wrap
msgid "class Filters {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1670
#, no-wrap
msgid ""
"    @ServerRequestFilter(preMatching = true)\n"
"    public void preMatchingFilter(ContainerRequestContext requestContext) {\n"
"        // make sure we don't lose cheese lovers\n"
"        if(\"yes\".equals(requestContext.getHeaderString(\"Cheese\"))) {\n"
"            requestContext.setRequestUri(URI.create(\"/cheese\"));\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1680
#, no-wrap
msgid ""
"    @ServerRequestFilter\n"
"    public Optional<RestResponse<Void>> getFilter(ContainerRequestContext ctx) {\n"
"        // only allow GET methods for now\n"
"        if(ctx.getMethod().equals(HttpMethod.GET)) {\n"
"            return Optional.of(RestResponse.status(Response.Status.METHOD_NOT_ALLOWED));\n"
"        }\n"
"        return Optional.empty();\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block =
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1689
msgid "Request filters are usually executed on the same thread that the method that handles the request will be executed.  That means that if the method servicing the request is annotated with `@Blocking`, then the filters will also be run on the worker thread.  If the method is annotated with `@NonBlocking` (or is not annotated at all), then the filters will also be run on the same event-loop thread."
msgstr ""

#. type: delimited block =
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1693
msgid "If however a filter needs to be run on the event-loop despite the fact that the method servicing the request will be run on a worker thread, then `@ServerRequestFilter(nonBlocking=true)` can be used.  Note however, that these filters need to be run before **any** filter that does not use that setting and would run on a worker thread."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1698
msgid "Similarly, response filters can be declared with the link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/ServerResponseFilter.html[`@ServerResponseFilter`] annotation:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1711
#, no-wrap
msgid ""
"class Filters {\n"
"    @ServerResponseFilter\n"
"    public void getFilter(ContainerResponseContext responseContext) {\n"
"        Object entity = responseContext.getEntity();\n"
"        if(entity instanceof String) {\n"
"            // make it shout\n"
"            responseContext.setEntity(((String)entity).toUpperCase());\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1714
msgid "Your filters may declare any of the following parameter types:"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1715
#, no-wrap
msgid "Table Filter parameters"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1726
#, no-wrap
msgid "link:{jaxrsapi}/javax/ws/rs/container/ContainerResponseContext.html[`ContainerResponseContext`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1728
#, no-wrap
msgid "A context object to access the current response"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1729
#, no-wrap
msgid "link:{jdkapi}/java/lang/Throwable.html[`Throwable`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1731
#, no-wrap
msgid "Any thrown exception, or `null` (only for response filters)"
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1735
#, no-wrap
msgid "Table Filter return types"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1740
#, no-wrap
msgid "link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestResponse.html[`RestResponse<?>`] or link:{jaxrsapi}/javax/ws/rs/core/Response.html[`Response`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1742
#, no-wrap
msgid "The response to send to the client instead of continuing the filter chain, or `null` if the filter chain should proceed"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1743
#, no-wrap
msgid "link:{jdkapi}/java/util/Optional.html[`Optional<RestResponse<?>>`] or link:{jdkapi}/java/util/Optional.html[`Optional<Response>`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1745
#, no-wrap
msgid "An optional response to send to the client instead of continuing the filter chain, or an empty value if the filter chain should proceed"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1746
#, no-wrap
msgid "link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni<RestResponse<?>>`] or link:{mutinyapi}/io/smallrye/mutiny/Uni.html[`Uni<Response>`]"
msgstr ""

#. type: Table
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1748
#, no-wrap
msgid "An asynchronous response to send to the client instead of continuing the filter chain, or `null` if the filter chain should proceed"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1751
msgid "You can restrict the Resource methods for which a filter runs, by using link:{jaxrsapi}/javax/ws/rs/NameBinding.html[`@NameBinding`] meta-annotations."
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1752
#, no-wrap
msgid "The JAX-RS way"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1755
msgid "You can also link:{jaxrsspec}#filters[declare request and response filters in the JAX-RS way]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1760
msgid "Both HTTP request and response can be intercepted by providing `ContainerRequestFilter` or `ContainerResponseFilter` implementations respectively. These filters are suitable for processing the metadata associated with a message: HTTP headers, query parameters, media type, and other metadata. They also have the capability to abort the request processing, for instance when the user does not have the permissions to access the endpoint."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1763
msgid "Let's use `ContainerRequestFilter` to add logging capability to our service. We can do that by implementing `ContainerRequestFilter` and annotating it with the `@Provider` annotation:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1767
#, no-wrap
msgid "package org.acme.rest.json;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1770
#, no-wrap
msgid ""
"import io.vertx.core.http.HttpServerRequest;\n"
"import org.jboss.logging.Logger;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1776
#, no-wrap
msgid ""
"import javax.ws.rs.container.ContainerRequestContext;\n"
"import javax.ws.rs.container.ContainerRequestFilter;\n"
"import javax.ws.rs.core.Context;\n"
"import javax.ws.rs.core.UriInfo;\n"
"import javax.ws.rs.ext.Provider;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1779
#, no-wrap
msgid ""
"@Provider\n"
"public class LoggingFilter implements ContainerRequestFilter {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1781
#, no-wrap
msgid "    private static final Logger LOG = Logger.getLogger(LoggingFilter.class);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1784
#, no-wrap
msgid ""
"    @Context\n"
"    UriInfo info;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1787
#, no-wrap
msgid ""
"    @Context\n"
"    HttpServerRequest request;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1790
#, no-wrap
msgid ""
"    @Override\n"
"    public void filter(ContainerRequestContext context) {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1794
#, no-wrap
msgid ""
"        final String method = context.getMethod();\n"
"        final String path = info.getPath();\n"
"        final String address = request.remoteAddress().toString();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1798
#, no-wrap
msgid ""
"        LOG.infof(\"Request %s %s from IP %s\", method, path, address);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1801
msgid "Now, whenever a REST method is invoked, the request will be logged into the console:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1808
#, no-wrap
msgid ""
"2019-06-05 12:44:26,526 INFO  [org.acm.res.jso.LoggingFilter] (executor-thread-1) Request GET /legumes from IP 127.0.0.1\n"
"2019-06-05 12:49:19,623 INFO  [org.acm.res.jso.LoggingFilter] (executor-thread-1) Request GET /fruits from IP 0:0:0:0:0:0:0:1\n"
"2019-06-05 12:50:44,019 INFO  [org.acm.res.jso.LoggingFilter] (executor-thread-1) Request POST /fruits from IP 0:0:0:0:0:0:0:1\n"
"2019-06-05 12:51:04,485 INFO  [org.acm.res.jso.LoggingFilter] (executor-thread-1) Request GET /fruits from IP 127.0.0.1\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1810
#, no-wrap
msgid "Readers and Writers: mapping entities and HTTP bodies"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1818
msgid "Whenever your endpoint methods return a object (of when they return a link:{resteasy-reactive-common-api}/org/jboss/resteasy/reactive/RestResponse.html[`RestResponse<?>`] or link:{jaxrsapi}/javax/ws/rs/core/Response.html[`Response`] with an entity), RESTEasy Reactive will look for a way to map that into an HTTP response body."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1821
msgid "Similarly, whenever your endpoint method takes an object as parameter, we will look for a way to map the HTTP request body into that object."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1826
msgid "This is done via a pluggable system of link:{jaxrsapi}/javax/ws/rs/ext/MessageBodyReader.html[`MessageBodyReader`] and link:{jaxrsapi}/javax/ws/rs/ext/MessageBodyWriter.html[`MessageBodyWriter`] interfaces, which are responsible for defining which Java type they map from/to, for which media types, and how they turn HTTP bodies to/from Java instances of that type."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1828
msgid "For example, if we have our own `Cheese` type on our endpoint:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1836
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1988
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.PUT;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1839
#, no-wrap
msgid ""
"class Cheese {\n"
"    public String name;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1844
#, no-wrap
msgid ""
"    public Cheese(String name) {\n"
"        this.name = name;\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1847
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1991
#, no-wrap
msgid ""
"@Path(\"cheese\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1852
#, no-wrap
msgid ""
"    @GET\n"
"    public Cheese sayCheese() {\n"
"        return new Cheese(\"Cheeeeeese\");\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1858
#, no-wrap
msgid ""
"    @PUT\n"
"    public void addCheese(Cheese cheese) {\n"
"        System.err.println(\"Received a new cheese: \" + cheese.name);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1862
msgid "Then we can define how to read and write it with our body reader/writers, annotated with link:{jaxrsapi}/javax/ws/rs/ext/Provider.html[`@Provider`]:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1873
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1937
#, no-wrap
msgid ""
"import java.io.IOException;\n"
"import java.io.InputStream;\n"
"import java.io.OutputStream;\n"
"import java.lang.annotation.Annotation;\n"
"import java.lang.reflect.Type;\n"
"import java.nio.charset.StandardCharsets;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1880
#, no-wrap
msgid ""
"import javax.ws.rs.WebApplicationException;\n"
"import javax.ws.rs.core.MediaType;\n"
"import javax.ws.rs.core.MultivaluedMap;\n"
"import javax.ws.rs.ext.MessageBodyReader;\n"
"import javax.ws.rs.ext.MessageBodyWriter;\n"
"import javax.ws.rs.ext.Provider;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1884
#, no-wrap
msgid ""
"@Provider\n"
"public class CheeseBodyHandler implements MessageBodyReader<Cheese>, \n"
"                                           MessageBodyWriter<Cheese> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1890
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean isWriteable(Class<?> type, Type genericType, \n"
"                               Annotation[] annotations, MediaType mediaType) {\n"
"        return type == Cheese.class;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1900
#, no-wrap
msgid ""
"    @Override\n"
"    public void writeTo(Cheese t, Class<?> type, Type genericType, \n"
"                        Annotation[] annotations, MediaType mediaType,\n"
"                        MultivaluedMap<String, Object> httpHeaders, \n"
"                        OutputStream entityStream)\n"
"            throws IOException, WebApplicationException {\n"
"        entityStream.write((\"[CheeseV1]\" + t.name)\n"
"                           .getBytes(StandardCharsets.UTF_8));\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1906
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean isReadable(Class<?> type, Type genericType, \n"
"                              Annotation[] annotations, MediaType mediaType) {\n"
"        return type == Cheese.class;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1918
#, no-wrap
msgid ""
"    @Override\n"
"    public Cheese readFrom(Class<Cheese> type, Type genericType, \n"
"                            Annotation[] annotations, MediaType mediaType,\n"
"                            MultivaluedMap<String, String> httpHeaders,\n"
"                            InputStream entityStream)\n"
"            throws IOException, WebApplicationException {\n"
"        String body = new String(entityStream.readAllBytes(), StandardCharsets.UTF_8);\n"
"        if(body.startsWith(\"[CheeseV1]\"))\n"
"            return new Cheese(body.substring(11));\n"
"        throw new IOException(\"Invalid cheese: \" + body);\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1926
msgid "If you want to get the most performance our of your writer, you can extend the link:{resteasy-reactive-api}/org/jboss/resteasy/reactive/server/spi/ServerMessageBodyWriter.html[`ServerMessageBodyWriter`] instead of link:{jaxrsapi}/javax/ws/rs/ext/MessageBodyWriter.html[`MessageBodyWriter`] where you will be able to use less reflection and bypass the blocking IO layer:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1943
#, no-wrap
msgid ""
"import javax.ws.rs.WebApplicationException;\n"
"import javax.ws.rs.core.MediaType;\n"
"import javax.ws.rs.core.MultivaluedMap;\n"
"import javax.ws.rs.ext.MessageBodyReader;\n"
"import javax.ws.rs.ext.Provider;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1947
#, no-wrap
msgid ""
"import org.jboss.resteasy.reactive.server.spi.ResteasyReactiveResourceInfo;\n"
"import org.jboss.resteasy.reactive.server.spi.ServerMessageBodyWriter;\n"
"import org.jboss.resteasy.reactive.server.spi.ServerRequestContext;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1951
#, no-wrap
msgid ""
"@Provider\n"
"public class CheeseBodyHandler implements MessageBodyReader<Cheese>, \n"
"                                           ServerMessageBodyWriter<Cheese> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1953
#, no-wrap
msgid "    // …\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1959
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean isWriteable(Class<?> type, ResteasyReactiveResourceInfo target, \n"
"                               MediaType mediaType) {\n"
"        return type == Cheese.class;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1966
#, no-wrap
msgid ""
"    @Override\n"
"    public void writeResponse(Cheese t, ServerRequestContext context) \n"
"      throws WebApplicationException, IOException {\n"
"        context.serverResponse().end(\"[CheeseV1]\" + t.name);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1971
msgid "You can restrict which content-types your reader/writer apply to by adding link:{jaxrsapi}/javax/ws/rs/Consumes.html[`Consumes`]/link:{jaxrsapi}/javax/ws/rs/Produces.html[`Produces`] annotations on your provider class."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1972
#, no-wrap
msgid "Reader and Writer interceptors"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1978
msgid "Just as you can intercept requests and responses, you can also intercept readers and writers, by extending the link:{jaxrsapi}/javax/ws/rs/ext/ReaderInterceptor.html[`ReaderInterceptor`] or link:{jaxrsapi}/javax/ws/rs/ext/WriterInterceptor.html[`WriterInterceptor`] on a class annotated with link:{jaxrsapi}/javax/ws/rs/ext/Provider.html[`@Provider`]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1980
msgid "If we look at this endpoint:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:1996
#, no-wrap
msgid ""
"    @GET\n"
"    public String sayCheese() {\n"
"        return \"Cheeeeeese\";\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2002
#, no-wrap
msgid ""
"    @PUT\n"
"    public void addCheese(String cheese) {\n"
"        System.err.println(\"Received a new cheese: \" + cheese);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2005
msgid "We can add reader and writer interceptors like this:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2011
#, no-wrap
msgid "import java.io.IOException;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2018
#, no-wrap
msgid ""
"import javax.ws.rs.WebApplicationException;\n"
"import javax.ws.rs.ext.Provider;\n"
"import javax.ws.rs.ext.ReaderInterceptor;\n"
"import javax.ws.rs.ext.ReaderInterceptorContext;\n"
"import javax.ws.rs.ext.WriterInterceptor;\n"
"import javax.ws.rs.ext.WriterInterceptorContext;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2021
#, no-wrap
msgid ""
"@Provider\n"
"public class CheeseIOInterceptor implements ReaderInterceptor, WriterInterceptor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2029
#, no-wrap
msgid ""
"    @Override\n"
"    public void aroundWriteTo(WriterInterceptorContext context)\n"
"      throws IOException, WebApplicationException {\n"
"        System.err.println(\"Before writing \" + context.getEntity());\n"
"        context.proceed();\n"
"        System.err.println(\"After writing \" + context.getEntity());\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2039
#, no-wrap
msgid ""
"    @Override\n"
"    public Object aroundReadFrom(ReaderInterceptorContext context)\n"
"      throws IOException, WebApplicationException {\n"
"        System.err.println(\"Before reading \" + context.getGenericType());\n"
"        Object entity = context.proceed();\n"
"        System.err.println(\"After reading \" + entity);\n"
"        return entity;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2041
#, no-wrap
msgid "RESTEasy Reactive and REST Client Reactive interactions"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2045
msgid "In Quarkus, the RESTEasy Reactive extension and xref:rest-client-reactive.adoc[the REST Client Reactive extension] share the same infrastructure.  One important consequence of this consideration is that they share the same list of providers (in the JAX-RS meaning of the word)."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2048
msgid "For instance, if you declare a `WriterInterceptor`, it will by default intercept both the servers calls and the client calls, which might not be the desired behavior."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2050
msgid "However, you can change this default behavior and constrain a provider to:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2052
msgid "only consider *server* calls by adding the `@ConstrainedTo(RuntimeType.SERVER)` annotation to your provider;"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2053
msgid "only consider *client* calls by adding the `@ConstrainedTo(RuntimeType.CLIENT)` annotation to your provider."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2054
#, no-wrap
msgid "Parameter mapping"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2058
msgid "All <<request-parameters,Request Parameters>> can be declared as link:{jdkapi}/java/lang/String.html[`String`], but also any of the following types:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2061
msgid "Types for which a link:{jaxrsapi}/javax/ws/rs/ext/ParamConverter.html[`ParamConverter`] is available via a registered link:{jaxrsapi}/javax/ws/rs/ext/ParamConverterProvider.html[`ParamConverterProvider`]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2062
msgid "Primitive types."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2063
msgid "Types that have a constructor that accepts a single link:{jdkapi}/java/lang/String.html[`String`] argument."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2066
msgid "Types that have a static method named `valueOf` or `fromString` with a single link:{jdkapi}/java/lang/String.html[`String`] argument that return an instance of the type. If both methods are present then `valueOf` will be used unless the type is an `enum` in which case `fromString` will be used."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2068
msgid "link:{jdkapi}/java/util/List.html[`List<T>`], link:{jdkapi}/java/util/Set.html[`Set<T>`], or link:{jdkapi}/java/util/SortedSet.html[`SortedSet<T>`], where `T` satisfies any above criterion."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2070
msgid "The following example illustrates all those possibilities:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2078
#, no-wrap
msgid ""
"import java.lang.annotation.Annotation;\n"
"import java.lang.reflect.Type;\n"
"import java.util.List;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2084
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.ext.ParamConverter;\n"
"import javax.ws.rs.ext.ParamConverterProvider;\n"
"import javax.ws.rs.ext.Provider;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2086
#, no-wrap
msgid "import org.jboss.resteasy.reactive.RestQuery;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2089
#, no-wrap
msgid ""
"@Provider\n"
"class MyConverterProvider implements ParamConverterProvider {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2099
#, no-wrap
msgid ""
"    @Override\n"
"    public <T> ParamConverter<T> getConverter(Class<T> rawType, Type genericType,\n"
"                                              Annotation[] annotations) {\n"
"        // declare a converter for this type\n"
"        if(rawType == Converter.class) {\n"
"            return (ParamConverter<T>) new MyConverter();\n"
"        }\n"
"        return null;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2104
#, no-wrap
msgid ""
"// this is my custom converter\n"
"class MyConverter implements ParamConverter<Converter> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2109
#, no-wrap
msgid ""
"    @Override\n"
"    public Converter fromString(String value) {\n"
"        return new Converter(value);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2114
#, no-wrap
msgid ""
"    @Override\n"
"    public String toString(Converter value) {\n"
"        return value.value;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2124
#, no-wrap
msgid ""
"// this uses a converter\n"
"class Converter {\n"
"    String value;\n"
"    Converter(String value) {\n"
"        this.value = value;\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2132
#, no-wrap
msgid ""
"class Constructor {\n"
"    String value;\n"
"    // this will use the constructor\n"
"    public Constructor(String value) {\n"
"        this.value = value;\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2143
#, no-wrap
msgid ""
"class ValueOf {\n"
"    String value;\n"
"    private ValueOf(String value) {\n"
"        this.value = value;\n"
"    }\n"
"    // this will use the valueOf method\n"
"    public static ValueOf valueOf(String value) {\n"
"        return new ValueOf(value);\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2156
#, no-wrap
msgid ""
"    @Path(\"{converter}/{constructor}/{primitive}/{valueOf}\")\n"
"    @GET\n"
"    public String convertions(Converter converter, Constructor constructor,\n"
"                              int primitive, ValueOf valueOf, \n"
"                              @RestQuery List<Constructor> list) {\n"
"        return converter + \"/\" + constructor + \"/\" + primitive \n"
"               + \"/\" + valueOf + \"/\" + list;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2158
#, no-wrap
msgid "Handling dates"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2162
msgid "RESTEasy Reactive supports the use of the implementations of `java.time.Temporal` (like `java.time.LocalDateTime`) as query, path or form params. Furthermore it provides the `@org.jboss.resteasy.reactive.DateFormat` annotation which can be used to set a custom expected pattern (otherwise the JDK's default format for each type is used implicitly)."
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2163
#, no-wrap
msgid "Preconditions"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2167
msgid "https://tools.ietf.org/html/rfc7232[HTTP allows requests to be conditional], based on a number of conditions, such as:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2169
msgid "Date of last resource modification"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2170
msgid "A resource tag, similar to a hash code of the resource to designate its state or version"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2173
msgid "Let's see how you can do conditional request validation using the link:{jaxrsapi}/javax/ws/rs/core/Request.html[`Request`] context object:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2182
#, no-wrap
msgid ""
"import java.time.Instant;\n"
"import java.time.temporal.ChronoUnit;\n"
"import java.time.temporal.TemporalUnit;\n"
"import java.util.Date;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2190
#, no-wrap
msgid ""
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.PUT;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.core.EntityTag;\n"
"import javax.ws.rs.core.Request;\n"
"import javax.ws.rs.core.Response;\n"
"import javax.ws.rs.core.Response.ResponseBuilder;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2193
#, no-wrap
msgid ""
"@Path(\"conditional\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2200
#, no-wrap
msgid ""
"    // It's important to keep our date on seconds because that's how it's sent to the\n"
"    // user in the Last-Modified header\n"
"    private Date date = Date.from(Instant.now().truncatedTo(ChronoUnit.SECONDS));\n"
"    private int version = 1;\n"
"    private EntityTag tag = new EntityTag(\"v1\");\n"
"    private String resource = \"Some resource\";\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2213
#, no-wrap
msgid ""
"    @GET\n"
"    public Response get(Request request) {\n"
"        // first evaluate preconditions\n"
"        ResponseBuilder conditionalResponse = request.evaluatePreconditions(date, tag);\n"
"        if(conditionalResponse != null)\n"
"            return conditionalResponse.build();\n"
"        // preconditions are OK\n"
"        return Response.ok(resource)\n"
"                .lastModified(date)\n"
"                .tag(tag)\n"
"                .build();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2231
#, no-wrap
msgid ""
"    @PUT\n"
"    public Response put(Request request, String body) {\n"
"        // first evaluate preconditions\n"
"        ResponseBuilder conditionalResponse = request.evaluatePreconditions(date, tag);\n"
"        if(conditionalResponse != null)\n"
"            return conditionalResponse.build();\n"
"        // preconditions are OK, we can update our resource\n"
"        resource = body;\n"
"        date = Date.from(Instant.now().truncatedTo(ChronoUnit.SECONDS));\n"
"        version++;\n"
"        tag = new EntityTag(\"v\" + version);\n"
"        return Response.ok(resource)\n"
"                .lastModified(date)\n"
"                .tag(tag)\n"
"                .build();\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2234
msgid "When we call `GET /conditional` the first time, we will get this response:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2242
#, no-wrap
msgid ""
"HTTP/1.1 200 OK\n"
"Content-Type: text/plain;charset=UTF-8\n"
"ETag: \"v1\"\n"
"Last-Modified: Wed, 09 Dec 2020 16:10:19 GMT\n"
"Content-Length: 13\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2244
#, no-wrap
msgid "Some resource\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2247
msgid "So now if we want to check if we need to fetch a new version, we can make the following request:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2253
#, no-wrap
msgid ""
"GET /conditional HTTP/1.1\n"
"Host: localhost:8080\n"
"If-Modified-Since: Wed, 09 Dec 2020 16:10:19 GMT\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2256
msgid "And we would get the following response:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2260
#, no-wrap
msgid "HTTP/1.1 304 Not Modified\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2266
msgid "Because the resource has not been modified since that date. This saves on sending the resource, but can also help your users detect concurrent modification, for example, let's suppose that one client wants to update the resource, but another user has modified it since. You can follow the previous `GET` request with this update:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2275
#, no-wrap
msgid ""
"PUT /conditional HTTP/1.1\n"
"Host: localhost:8080\n"
"If-Unmodified-Since: Wed, 09 Dec 2020 16:25:43 GMT\n"
"If-Match: v1\n"
"Content-Length: 8\n"
"Content-Type: text/plain\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2277
#, no-wrap
msgid "newstuff\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2281
msgid "And if some other user has modified the resource between your `GET` and your `PUT` you would get this answer back:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2287
#, no-wrap
msgid ""
"HTTP/1.1 412 Precondition Failed\n"
"ETag: \"v2\"\n"
"Content-Length: 0\n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2289
#, no-wrap
msgid "Negotiation"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2296
msgid "One of the main ideas of REST (https://tools.ietf.org/html/rfc7231#section-3.4[and HTTP]) is that your resource is independent from its representation, and that both the client and server are free to represent their resources in as many media types as they want. This allows the server to declare support for multiple representations and let the client declare which ones it supports and get served something appropriate."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2298
msgid "The following endpoint supports serving cheese in plain text or JSON:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2309
#, no-wrap
msgid ""
"import javax.ws.rs.Consumes;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.PUT;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.Produces;\n"
"import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2311
#, no-wrap
msgid "import com.fasterxml.jackson.annotation.JsonCreator;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2323
#, no-wrap
msgid ""
"class Cheese {\n"
"    public String name;\n"
"    @JsonCreator\n"
"    public Cheese(String name) {\n"
"        this.name = name;\n"
"    }\n"
"    @Override\n"
"    public String toString() {\n"
"        return \"Cheese: \" + name;\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2326
#, no-wrap
msgid ""
"@Path(\"negotiated\")\n"
"public class Endpoint {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2332
#, no-wrap
msgid ""
"    @Produces({MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN})\n"
"    @GET\n"
"    public Cheese get() {\n"
"        return new Cheese(\"Morbier\");\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2338
#, no-wrap
msgid ""
"    @Consumes(MediaType.TEXT_PLAIN)\n"
"    @PUT\n"
"    public Cheese putString(String cheese) {\n"
"        return new Cheese(cheese);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2345
#, no-wrap
msgid ""
"    @Consumes(MediaType.APPLICATION_JSON)\n"
"    @PUT\n"
"    public Cheese putJson(Cheese cheese) {\n"
"        return cheese;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2349
msgid "The user will be able to select which representation it gets with the link:{httpspec}#section-5.3.2[`Accept`] header, in the case of JSON:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2355
#, no-wrap
msgid ""
"> GET /negotiated HTTP/1.1\n"
"> Host: localhost:8080\n"
"> Accept: application/json\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2361
#, no-wrap
msgid ""
"< HTTP/1.1 200 OK\n"
"< Content-Type: application/json\n"
"< Content-Length: 18\n"
"< \n"
"< {\"name\":\"Morbier\"} \n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2364
msgid "And for text:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2376
#, no-wrap
msgid ""
"> GET /negotiated HTTP/1.1\n"
"> Host: localhost:8080\n"
"> Accept: text/plain\n"
"> \n"
"< HTTP/1.1 200 OK\n"
"< Content-Type: text/plain\n"
"< Content-Length: 15\n"
"< \n"
"< Cheese: Morbier \n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2379
msgid "Similarly, you can `PUT` two different representations. JSON:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2388
#, no-wrap
msgid ""
"> PUT /negotiated HTTP/1.1\n"
"> Host: localhost:8080\n"
"> Content-Type: application/json\n"
"> Content-Length: 16\n"
"> \n"
"> {\"name\": \"brie\"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2394
#, no-wrap
msgid ""
"< HTTP/1.1 200 OK\n"
"< Content-Type: application/json;charset=UTF-8\n"
"< Content-Length: 15\n"
"< \n"
"< {\"name\":\"brie\"} \n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2397
msgid "Or plain text:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2406
#, no-wrap
msgid ""
"> PUT /negotiated HTTP/1.1\n"
"> Host: localhost:8080\n"
"> Content-Type: text/plain\n"
"> Content-Length: 9\n"
">\n"
"> roquefort\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2412
#, no-wrap
msgid ""
"< HTTP/1.1 200 OK\n"
"< Content-Type: application/json;charset=UTF-8\n"
"< Content-Length: 20\n"
"< \n"
"< {\"name\":\"roquefort\"} \n"
msgstr ""

#. type: Title ===
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2414
#, no-wrap
msgid "HTTP Compression"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2418
msgid "The body of an HTTP response is not compressed by default.  You can enable the HTTP compression support by means of `quarkus.http.enable-compression=true`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2420
msgid "If compression support is enabled then the response body is compressed if:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2422
msgid "the resource method is annotated with `@io.quarkus.vertx.http.Compressed`, or"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2423
msgid "the `Content-Type` header is set and the value is a compressed media type as configured via `quarkus.http.compress-media-types`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2425
msgid "The response body is never compressed if:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2427
msgid "the resource method is annotated with `@io.quarkus.vertx.http.Uncompressed`, or"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2428
msgid "the `Content-Type` header is not set."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2430
msgid "By default, the following list of media types is compressed: `text/html`, `text/plain`, `text/xml`, `text/css`, `text/javascript` and `application/javascript`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2432
msgid "If the client does not support HTTP compression then the response body is not compressed."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2434
#, no-wrap
msgid "Include/Exclude JAX-RS classes with build time conditions"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2438
msgid "Quarkus enables the inclusion or exclusion of JAX-RS Resources, Providers and Features directly thanks to build time conditions in the same that it does for CDI beans.  Thus, the various JAX-RS classes can be annotated with profile conditions (`@io.quarkus.arc.profile.IfBuildProfile` or `@io.quarkus.arc.profile.UnlessBuildProfile`) and/or with property conditions (`io.quarkus.arc.properties.IfBuildProperty` or `io.quarkus.arc.properties.UnlessBuildProperty`) to indicate to Quarkus at build time under which conditions these JAX-RS classes should be included."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2440
msgid "In the following example, Quarkus includes the endpoint `sayHello` if and only if the build profile `app1` has been enabled."
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2445
#, no-wrap
msgid ""
"@IfBuildProfile(\"app1\")\n"
"public class ResourceForApp1Only {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2452
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"sayHello\")\n"
"    public String sayHello() {\n"
"        return \"hello\";\n"
"     }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2455
msgid "Please note that if a JAX-RS Application has been detected and the method `getClasses()` and/or `getSingletons()` has/have been overridden, Quarkus will ignore the build time conditions and consider only what has been defined in the JAX-RS Application."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2457
#, no-wrap
msgid "RESTEasy Reactive client"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2460
msgid "In addition to the Server side, RESTEasy Reactive comes with a new MicroProfile REST Client implementation that is non-blocking at its core."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2462
msgid "Please note that the `quarkus-rest-client` extension may not be used with RESTEasy Reactive, use `quarkus-rest-client-reactive` instead."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/resteasy-reactive.adoc:2463
msgid "See the xref:rest-client-reactive.adoc[REST Client Reactive Guide] for more information about the reactive REST client."
msgstr ""
