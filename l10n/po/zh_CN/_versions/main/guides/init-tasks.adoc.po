# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-10-12 02:10+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Initialization tasks"
msgstr "序列化"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"There are often initialization tasks performed by Quarkus extensions that are meant to be run once.\n"
"For example, Flyway or Liquibase initialization falls into that category. But what happens when the scaling\n"
"needs of an application requires more instances of the application to run? Or what happens when the application\n"
"restarts ?"
msgstr "Quarkus 扩展程序通常会执行一些只运行一次的初始化任务。例如，Flyway 或 Liquibase 的初始化就属于这一类。但是，当应用程序的扩展需要运行更多实例时，会发生什么情况呢？或者应用程序重新启动时会发生什么情况？"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"A common environment where both of these cases are pretty common is Kubernetes. To address these challenges,\n"
"Quarkus allows externalization of such tasks as Kubernetes https://kubernetes.io/docs/concepts/workloads/controllers/job/[Jobs] and uses https://kubernetes.io/docs/concepts/workloads/pods/init-containers/[init containers] to ensure that an\n"
"application instance only starts once the initialization jobs have finished. With this approach even if an\n"
"application has multiple replicas, the initialization logic will only run once."
msgstr "在 Kubernetes 环境中，这两种情况都很常见。为了应对这些挑战，Quarkus 允许将此类任务外部化为 Kubernetes link:https://kubernetes.io/docs/concepts/workloads/controllers/job/[作业] ，并使用 link:https://kubernetes.io/docs/concepts/workloads/pods/init-containers/[init 容器] 确保应用程序实例仅在初始化作业完成后才会启动。采用这种方法，即使应用程序有多个副本，初始化逻辑也只会运行一次。"

#: _versions/main/guides/init-tasks.adoc
msgid "This approach is reflected in the manifests generated by xref:deploying-to-kubernetes.adoc#kubernetes[Kubernetes extension]."
msgstr ""

#. type: Title ==
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Disabling the feature"
msgstr "禁用该功能"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The feature can be explictily disabled per task (enabled by default).\n"
"The default behavior can change by setting the following property to `false`:"
msgstr "该功能可按任务明确禁用（默认启用）。可通过将以下属性设置为 `false` 来更改默认行为："

#: _versions/main/guides/init-tasks.adoc
msgid "or on OpenShift:"
msgstr ""

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"**Note**: All the configuration options in this guide are available on both OpenShift and Kubernetes. The rest of the guide will use Kubernetes(`quarkus.kubernetes` prefix)\n"
"configuration prefix, but all the configuration options are also available for OpenShift(`quarkus.openshift` prefix) too."
msgstr "*注* ：本指南中的所有配置选项在 OpenShift 和 Kubernetes 上均可用。本指南的其余部分将使用 Kubernetes( `quarkus.kubernetes` prefix) 配置前缀，但所有配置选项也适用于 OpenShift( `quarkus.openshift` prefix)。"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "In the case where we need to disable a particular task, we can use the following property:"
msgstr "如果需要禁用某个任务，我们可以使用以下属性："

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The task name is the name of the extension that performs the initialization.\n"
"Examples:"
msgstr "任务名称是执行初始化的扩展名。例如"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "For Flyway:"
msgstr "飞航"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "For Liquibase:"
msgstr "用于 Liquibase："

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "For Liquibase Mongodb:"
msgstr "用于 Liquibase Mongodb："

#. type: Title ==
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Controlling the generated job"
msgstr "控制生成的工作"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The job container is pretty similar to the application container, and the only thing that changes is the configured environment variables.\n"
"More specifically, the following environment variable is added, to tell the job to exit right after initialization."
msgstr "作业容器与应用程序容器非常相似，唯一改变的是配置的环境变量。更具体地说，添加以下环境变量是为了告诉作业在初始化后立即退出。"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The image, image pull policy, service account, volumes, mounts and additional environment variables are inherited/copied from the deployment resource.\n"
"Any customization to the original deployment resource (via configuration or extension) will also be reflected in the job."
msgstr "映像、映像拉动策略、服务帐户、卷、挂载和其他环境变量都是从部署资源中继承/复制的。对原始部署资源的任何自定义（通过配置或扩展）也将反映在作业中。"

#. type: Title ==
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Controlling the generated init container"
msgstr "控制生成的启动容器"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The name of the generated init container is `wait-for-${task name}` by default.\n"
"Given that the init container is part of the same pod as the actual application it will get the same service account (and therefore permissions) and volumes as the application.\n"
"Further customization to the container can be done using using the configuration options for init containers (see `quarkus.kubernetes.init-containers` or `quarkus.openshift.init-containers`)."
msgstr "默认情况下，生成的 init 容器的名称是 `wait-for-${task name}` 。鉴于 init 容器与实际应用程序属于同一 pod 的一部分，因此它将获得与应用程序相同的服务账户（以及权限）和卷。可以使用 init 容器的配置选项对容器进行进一步定制（请参阅 `quarkus.kubernetes.init-containers` 或 `quarkus.openshift.init-containers` ）。"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "Examples:"
msgstr "例如"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "To set the imagePullPolicy to `IfNotPresent` on the init container that waits for the `flyway` job:"
msgstr "要在等待 `flyway` 作业的 init 容器上将 imagePullPolicy 设置为 `IfNotPresent` ："

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "To set custom command (say `custom-wait-for`) on the init container that waits for the `flyway` job:"
msgstr "在等待 `flyway` 作业的 init 容器上设置自定义命令（如 `custom-wait-for` ）："

#. type: Title ==
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Orchestration of the initialization tasks"
msgstr "初始化任务的协调"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"The deployment resource should not start until the job has been completed. The typical pattern that is used among Kubernetes users is the\n"
"use of init containers to achieve this. An init container that `wait for` the job to complete is enough to enforce that requirement."
msgstr "在作业完成之前，部署资源不应启动。Kubernetes 用户使用的典型模式是使用 init 容器来实现这一点。 `wait for` 作业完成的 init 容器就足以强制执行这一要求。"

#. type: Title ===
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Using a custom wait-for container image"
msgstr "使用自定义等待容器映像"

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "To change the `wait-for` image which by default is `groundnuty/k8s-wait-for:no-root-v1.7` you can use:"
msgstr "要更改 `wait-for` 图像（默认为 `groundnuty/k8s-wait-for:no-root-v1.7` ），可以使用以下方法："

#. type: Plain text
#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "To change the `wait-for` image for a particular init container (e.g. `wait-for-flway`) you can use:"
msgstr "要更改特定 init 容器（如 `wait-for-flway` ）的 `wait-for` 映像，可以使用"

#. type: Title ===
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Configuring permissions"
msgstr "配置权限"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"For an init container to be able to perform the `wait for job` it needs to be able to perform `get` operations on the job resource.\n"
"This is done automatically and the generated manifests include the required `Role` and `RoleBinding` resources."
msgstr "要使初始容器能够执行 `wait for job` ，它需要能够对作业资源执行 `get` 操作。这将自动完成，生成的清单包括所需的 `Role` 和 `RoleBinding` 资源。"

#: _versions/main/guides/init-tasks.adoc
msgid "If for any reason additional permissions are required either by the init container or the job, they can be configured with through the xref:deploying-to-kubernetes.adoc#generating-rbac-resources[Kubernetes RBAC configuration]."
msgstr ""

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid "**Note**: The application, the init container and the job use the same `ServiceAccount` and therefore, share the same permissions."
msgstr "*注意* ：应用程序、init 容器和作业使用相同的 `ServiceAccount` ，因此共享相同的权限。"

#. type: Title ==
#: _versions/main/guides/init-tasks.adoc
#, fuzzy, no-wrap
msgid "Extension providing Initialization Tasks"
msgstr "扩展提供初始化任务"

#: _versions/main/guides/init-tasks.adoc
#, fuzzy
msgid ""
"Currently, this feature is used by the following extensions:\n"
"- xref:flyway.adoc[Flyway]\n"
"- xref:liquibase.adoc[Liquibase]\n"
"- xref:liquibase-mongodb.adoc[Liquibase MongoDB]"
msgstr "目前，以下扩展使用了该功能：- xref:flyway.adoc[Flyway] - xref:liquibase.adoc[Liquibase] - xref:liquibase-mongodb.adoc[Liquibase MongoDB]"
