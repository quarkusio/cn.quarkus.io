# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-05-12 15:58+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:6
#, no-wrap
msgid "Quarkus - Extension for Spring Data API"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:13
msgid "While users are encouraged to use Hibernate ORM with Panache for Relational Database access, Quarkus provides a compatibility layer for Spring Data JPA repositories in the form of the `spring-data-jpa` extension."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:16
#, no-wrap
msgid "Prerequisites"
msgstr "先决条件"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:19
msgid "To complete this guide, you need:"
msgstr "要完成这个指南，你需要："

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:21
msgid "less than 15 minutes"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:22
msgid "an IDE"
msgstr "一个编辑器"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:23
msgid "JDK 1.8+ installed with `JAVA_HOME` configured appropriately"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:24
msgid "Apache Maven {maven-version}"
msgstr "Apache Maven {maven-version}"

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:25
#, no-wrap
msgid "Solution"
msgstr "解决方案"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:29
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "我们建议您按照下一节的说明逐步创建应用程序。然而，您可以直接转到已完成的示例。"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:31
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "克隆 Git 仓库: `git clone {quickstarts-clone-url}` ，或下载一个 {quickstarts-archive-url}[存档] 。"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:33
msgid "The solution is located in the `spring-data-jpa-quickstart` {quickstarts-tree-url}/spring-data-jpa-quickstart[directory]."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:34
#, no-wrap
msgid "Creating the Maven project"
msgstr "创建Maven项目"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:37
msgid "First, we need a new project. Create a new project with the following command:"
msgstr "首先，我们需要一个新的项目。使用以下命令创建一个新的项目:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:47
#, no-wrap
msgid ""
"mvn io.quarkus:quarkus-maven-plugin:{quarkus-version}:create \\\n"
"    -DprojectGroupId=org.acme \\\n"
"    -DprojectArtifactId=spring-data-jpa-quickstart \\\n"
"    -DclassName=\"org.acme.spring.data.jpa.FruitResource\" \\\n"
"    -Dpath=\"/greeting\" \\\n"
"    -Dextensions=\"resteasy,spring-data-jpa,resteasy-jackson,quarkus-jdbc-postgresql\"\n"
"cd spring-data-jpa-quickstart\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:50
msgid "This command generates a Maven project with a REST endpoint and imports the `spring-data-jpa` extension."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:53
msgid "If you already have your Quarkus project configured, you can add the `spring-data-jpa` extension to your project by running the following command in your project base directory:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:57
#, no-wrap
msgid "./mvnw quarkus:add-extension -Dextensions=\"spring-data-jpa\"\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:60
msgid "This will add the following to your `pom.xml`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:67
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-spring-data-jpa</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:69
#, no-wrap
msgid "Define the Entity"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:72
msgid "Throughout the course of this guide, the following JPA Entity will be used:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:76
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:178
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:200
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:275
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:441
#, no-wrap
msgid "package org.acme.spring.data.jpa;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:80
#, no-wrap
msgid ""
"import javax.persistence.Entity;\n"
"import javax.persistence.GeneratedValue;\n"
"import javax.persistence.Id;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:83
#, no-wrap
msgid ""
"@Entity\n"
"public class Fruit {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:87
#, no-wrap
msgid ""
"    @Id\n"
"    @GeneratedValue\n"
"    private Long id;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:89
#, no-wrap
msgid "    private String name;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:91
#, no-wrap
msgid "    private String color;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:95
#, no-wrap
msgid ""
"    public Fruit() {\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:100
#, no-wrap
msgid ""
"    public Fruit(String name, String color) {\n"
"        this.name = name;\n"
"        this.color = color;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:104
#, no-wrap
msgid ""
"    public Long getId() {\n"
"        return id;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:108
#, no-wrap
msgid ""
"    public void setId(Long id) {\n"
"        this.id = id;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:112
#, no-wrap
msgid ""
"    public String getName() {\n"
"        return name;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:116
#, no-wrap
msgid ""
"    public void setName(String name) {\n"
"        this.name = name;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:120
#, no-wrap
msgid ""
"    public String getColor() {\n"
"        return color;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:125
#, no-wrap
msgid ""
"    public void setColor(String color) {\n"
"        this.color = color;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:128
#, no-wrap
msgid "Configure database access properties"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:131
msgid "Add the following properties to `application.properties` to configure access to a local PostgreSQL instance."
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:141
#, no-wrap
msgid ""
"quarkus.datasource.db-kind=postgresql\n"
"quarkus.datasource.username=quarkus_test\n"
"quarkus.datasource.password=quarkus_test\n"
"quarkus.datasource.jdbc.url=jdbc:postgresql:quarkus_test\n"
"quarkus.datasource.jdbc.max-size=8\n"
"quarkus.datasource.jdbc.min-size=2\n"
"quarkus.hibernate-orm.database.generation=drop-and-create\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:144
msgid "This configuration assumes that PostgreSQL will be running locally."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:146
msgid "A very easy way to accomplish that is by using the following Docker command:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:150
#, no-wrap
msgid "docker run --ulimit memlock=-1:-1 -it --rm=true --memory-swappiness=0 --name quarkus_test -e POSTGRES_USER=quarkus_test -e POSTGRES_PASSWORD=quarkus_test -e POSTGRES_DB=quarkus_test -p 5432:5432 postgres:11.5\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:153
msgid "If you plan on using a different setup, please change your `application.properties` accordingly."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:154
#, no-wrap
msgid "Prepare the data"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:158
msgid "To make it easier to showcase some capabilities of Spring Data JPA on Quarkus, some test data should be inserted into the database by adding the following content to a new file named `src/main/resources/import.sql`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:166
#, no-wrap
msgid ""
"INSERT INTO fruit(id, name, color) VALUES (1, 'Cherry', 'Red');\n"
"INSERT INTO fruit(id, name, color) VALUES (2, 'Apple', 'Red');\n"
"INSERT INTO fruit(id, name, color) VALUES (3, 'Banana', 'Yellow');\n"
"INSERT INTO fruit(id, name, color) VALUES (4, 'Avocado', 'Green');\n"
"INSERT INTO fruit(id, name, color) VALUES (5, 'Strawberry', 'Red');\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:169
msgid "Hibernate ORM will execute these queries on application startup."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:170
#, no-wrap
msgid "Define the repository"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:174
msgid "It is now time to define the repository that will be used to access `Fruit`.  In a typical Spring Data fashion create a repository like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:180
#, no-wrap
msgid "import org.springframework.data.repository.CrudRepository;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:182
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:475
#, no-wrap
msgid "import java.util.List;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:184
#, no-wrap
msgid "public interface FruitRepository extends CrudRepository<Fruit, Long> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:187
#, no-wrap
msgid ""
"    List<Fruit> findByColor(String color);\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:192
msgid "The `FruitRepository` above extends Spring Data's `org.springframework.data.repository.CrudRepository` which means that all of the latter's methods are available to `FruitRepository`.  Additionally `findByColor` is defined whose purpose is to return all Fruit entities that match the specified color."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:193
#, no-wrap
msgid "Update the JAX-RS resource"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:196
msgid "With the repository in place, the next order of business is to update the JAX-RS resource that will use the `FruitRepository`. Open `FruitResource` and change its contents to:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:206
#, no-wrap
msgid ""
"import javax.ws.rs.DELETE;\n"
"import javax.ws.rs.GET;\n"
"import javax.ws.rs.POST;\n"
"import javax.ws.rs.PUT;\n"
"import javax.ws.rs.Path;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:208
#, no-wrap
msgid "import org.jboss.resteasy.annotations.jaxrs.PathParam;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:211
#, no-wrap
msgid ""
"import java.util.List;\n"
"import java.util.Optional;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:214
#, no-wrap
msgid ""
"@Path(\"/fruits\")\n"
"public class FruitResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:216
#, no-wrap
msgid "    private final FruitRepository fruitRepository;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:220
#, no-wrap
msgid ""
"    public FruitResource(FruitRepository fruitRepository) {\n"
"        this.fruitRepository = fruitRepository;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:225
#, no-wrap
msgid ""
"    @GET\n"
"    public Iterable<Fruit> findAll() {\n"
"        return fruitRepository.findAll();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:232
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"{id}\")\n"
"    public void delete(@PathParam long id) {\n"
"        fruitRepository.deleteById(id);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:238
#, no-wrap
msgid ""
"    @POST\n"
"    @Path(\"/name/{name}/color/{color}\")\n"
"    public Fruit create(@PathParam String name, @PathParam String color) {\n"
"        return fruitRepository.save(new Fruit(name, color));\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:248
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"/id/{id}/color/{color}\")\n"
"    public Fruit changeColor(@PathParam Long id, @PathParam String color) {\n"
"        Optional<Fruit> optional = fruitRepository.findById(id);\n"
"        if (optional.isPresent()) {\n"
"            Fruit fruit = optional.get();\n"
"            fruit.setColor(color);\n"
"            return fruitRepository.save(fruit);\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:251
#, no-wrap
msgid ""
"        throw new IllegalArgumentException(\"No Fruit with id \" + id + \" exists\");\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:258
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/color/{color}\")\n"
"    public List<Fruit> findByColor(@PathParam String color) {\n"
"        return fruitRepository.findByColor(color);\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:262
msgid "`FruitResource` now provides a few REST endpoints that can be used to perform CRUD operation on `Fruit`."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:263
#, no-wrap
msgid "Note on Spring Web"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:267
msgid "The JAX-RS resource can also be substituted with a Spring Web controller as Quarkus supports REST endpoint definition using Spring controllers.  See the link:spring-web[Spring Web guide] for more details."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:268
#, no-wrap
msgid "Update the test"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:271
msgid "To test the capabilities of `FruitRepository` proceed to update the content of `FruitResourceTest` to:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:278
#, no-wrap
msgid ""
"import io.quarkus.test.junit.QuarkusTest;\n"
"import org.junit.jupiter.api.Test;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:284
#, no-wrap
msgid ""
"import static io.restassured.RestAssured.given;\n"
"import static org.hamcrest.CoreMatchers.containsString;\n"
"import static org.hamcrest.CoreMatchers.is;\n"
"import static org.hamcrest.CoreMatchers.notNullValue;\n"
"import static org.hamcrest.core.IsNot.not;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:287
#, no-wrap
msgid ""
"@QuarkusTest\n"
"class FruitResourceTest {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:300
#, no-wrap
msgid ""
"    @Test\n"
"    void testListAllFruits() {\n"
"        //List all, should have all 3 fruits the database has initially:\n"
"        given()\n"
"                .when().get(\"/fruits\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\n"
"                        containsString(\"Cherry\"),\n"
"                        containsString(\"Apple\"),\n"
"                        containsString(\"Banana\")\n"
"                );\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:307
#, no-wrap
msgid ""
"        //Delete the Cherry:\n"
"        given()\n"
"                .when().delete(\"/fruits/1\")\n"
"                .then()\n"
"                .statusCode(204)\n"
"        ;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:318
#, no-wrap
msgid ""
"        //List all, cherry should be missing now:\n"
"        given()\n"
"                .when().get(\"/fruits\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\n"
"                        not(containsString(\"Cherry\")),\n"
"                        containsString(\"Apple\"),\n"
"                        containsString(\"Banana\")\n"
"                );\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:327
#, no-wrap
msgid ""
"        //Create a new Fruit\n"
"        given()\n"
"                .when().post(\"/fruits/name/Orange/color/Orange\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(containsString(\"Orange\"))\n"
"                .body(\"id\", notNullValue())\n"
"                .extract().body().jsonPath().getString(\"id\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:339
#, no-wrap
msgid ""
"        //List all, Orange should be present now:\n"
"        given()\n"
"                .when().get(\"/fruits\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\n"
"                        not(containsString(\"Cherry\")),\n"
"                        containsString(\"Apple\"),\n"
"                        containsString(\"Orange\")\n"
"                );\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:348
#, no-wrap
msgid ""
"    @Test\n"
"    void testFindByColor() {\n"
"        //Find by color that no fruit has\n"
"        given()\n"
"                .when().get(\"/fruits/color/Black\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\"size()\", is(0));\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:358
#, no-wrap
msgid ""
"        //Find by color that multiple fruits have\n"
"        given()\n"
"                .when().get(\"/fruits/color/Red\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\n"
"                        containsString(\"Apple\"),\n"
"                        containsString(\"Strawberry\")\n"
"                );\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:366
#, no-wrap
msgid ""
"        //Find by color that matches\n"
"        given()\n"
"                .when().get(\"/fruits/color/Green\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\"size()\", is(1))\n"
"                .body(containsString(\"Avocado\"));\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:373
#, no-wrap
msgid ""
"        //Update color of Avocado\n"
"        given()\n"
"                .when().put(\"/fruits/id/4/color/Black\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(containsString(\"Black\"));\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:385
#, no-wrap
msgid ""
"        //Find by color that Avocado now has\n"
"        given()\n"
"                .when().get(\"/fruits/color/Black\")\n"
"                .then()\n"
"                .statusCode(200)\n"
"                .body(\"size()\", is(1))\n"
"                .body(\n"
"                        containsString(\"Black\"),\n"
"                        containsString(\"Avocado\")\n"
"                );\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:387
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:500
#, no-wrap
msgid "}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:390
msgid "The test can be easily run by issuing: `./mvnw test`"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:391
#, no-wrap
msgid "Package and run the application"
msgstr "打包并运行该应用程序"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:395
msgid "Quarkus dev mode works with the defined repositories just like with any other Quarkus extension, greatly enhancing your productivity during the dev cycle.  The application can be started in dev mode as usual using:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:399
#, no-wrap
msgid "./mvnw compile quarkus:dev\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:401
#, no-wrap
msgid "Run the application as a native binary"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:404
msgid "You can of course create a native executable following the instructions of the link:building-native-image[this] guide."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:405
#, no-wrap
msgid "Supported Spring Data JPA functionalities"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:408
msgid "Quarkus currently supports a subset of Spring Data JPA's features, namely the most useful and most commonly used features."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:413
msgid "An important part of this support is that all repository generation is done at build time thus ensuring that all supported features work correctly in native mode.  Moreover, developers know at build time whether or not their repository method names can be converted to proper JPQL queries.  This also means that if a method name indicates that a field should be used that is not part of the Entity, developers will get the relevant error at build time."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:414
#, no-wrap
msgid "What is supported"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:417
msgid "The following sections described the most important supported features of Spring Data JPA."
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:418
#, no-wrap
msgid "Automatic repository implementation generation"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:421
msgid "Interfaces that extend any of the following Spring Data repositories are automatically implemented:"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:423
msgid "`org.springframework.data.repository.Repository`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:424
msgid "`org.springframework.data.repository.CrudRepository`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:425
msgid "`org.springframework.data.repository.PagingAndSortingRepository`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:426
msgid "`org.springframework.data.jpa.repository.JpaRepository`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:429
msgid "The generated repositories are also registered as beans so they can be injected into any other bean.  Furthermore the methods that update the database are automatically annotated with `@Transactional`."
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:430
#, no-wrap
msgid "Fine tuning of repository definition"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:434
msgid "This allows user defined repository interfaces to cherry-pick methods from any of the supported Spring Data repository interfaces without having to extend those interfaces.  This is particularly useful when for example a repository needs to use some methods from `CrudRepository` but it's undesirable to expose the full list of methods of said interface."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:437
msgid "Assume for example that a `PersonRepository` that shouldn't extend `CrudRepository` but would like to use `save` and `findById` methods which are defined in said interface.  In such a case, `PersonRepository` would look like so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:443
#, no-wrap
msgid "import org.springframework.data.repository.Repository;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:445
#, no-wrap
msgid "public interface PersonRepository extends Repository<Person, Long> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:447
#, no-wrap
msgid "    Person save(Person entity);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:450
#, no-wrap
msgid ""
"    Optional<Person> findById(Person entity);\n"
"}\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:452
#, no-wrap
msgid "Customizing individual repositories using repository fragments"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:456
msgid "Repositories can be enriched with additional functionality or override the default implementation of methods of the supported Spring Data repositories.  This is best shown with an example."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:458
msgid "A repository fragment is defined as so:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:462
#, no-wrap
msgid "public interface PersonFragment {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:465
#, no-wrap
msgid ""
"    // custom findAll\n"
"    List<Person> findAll();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:468
#, no-wrap
msgid ""
"    void makeNameUpperCase(Person person);\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:471
msgid "The implementation of that fragment looks like this:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:477
#, no-wrap
msgid "import io.quarkus.hibernate.orm.panache.runtime.JpaOperations;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:479
#, no-wrap
msgid "public class PersonFragmentImpl implements PersonFragment {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:485
#, no-wrap
msgid ""
"    @Override\n"
"    public List<Person> findAll() {\n"
"        // do something here\n"
"        return (List<Person>) JpaOperations.findAll(Person.class).list();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:491
#, no-wrap
msgid ""
"    @Override\n"
"    public void makeNameUpperCase(Person person) {\n"
"        person.setName(person.getName().toUpperCase());\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:494
msgid "Then the actual `PersonRepository` interface to be used would look like:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:498
#, no-wrap
msgid "public interface PersonRepository extends JpaRepository<Person, Long>, PersonFragment {\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:502
#, no-wrap
msgid "Derived query methods"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:506
msgid "Methods of repository interfaces that follow the Spring Data conventions can be automatically implemented (unless they fall into one of the unsupported cases listed later on).  This means that methods like the following will all work:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:510
#, no-wrap
msgid "public interface PersonRepository extends CrudRepository<Person, Long> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:512
#, no-wrap
msgid "    List<Person> findByName(String name);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:514
#, no-wrap
msgid "    Person findByNameBySsn(String ssn);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:516
#, no-wrap
msgid "    Optional<Person> findByNameBySsnIgnoreCase(String ssn);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:518
#, no-wrap
msgid "    boolean existsBookByYearOfBirthBetween(Integer start, Integer end);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:520
#, no-wrap
msgid "    List<Person> findByName(String name, Sort sort);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:522
#, no-wrap
msgid "    Page<Person> findByNameOrderByJoined(String name, Pageable pageable);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:524
#, no-wrap
msgid "    List<Person> findByNameOrderByAge(String name);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:526
#, no-wrap
msgid "    List<Person> findByNameOrderByAgeDesc(String name, Pageable pageable);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:528
#, no-wrap
msgid "    List<Person> findByAgeBetweenAndNameIsNotNull(int lowerAgeBound, int upperAgeBound);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:530
#, no-wrap
msgid "    List<Person> findByAgeGreaterThanEqualOrderByAgeAsc(int age);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:532
#, no-wrap
msgid "    List<Person> queryByJoinedIsAfter(Date date);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:534
#, no-wrap
msgid "    Collection<Person> readByActiveTrueOrderByAgeDesc();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:536
#, no-wrap
msgid "    Long countByActiveNot(boolean active);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:538
#, no-wrap
msgid "    List<Person> findTop3ByActive(boolean active, Sort sort);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:541
#, no-wrap
msgid ""
"    Stream<Person> findPersonByNameAndSurnameAllIgnoreCase(String name, String surname);\n"
"}\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:543
#, no-wrap
msgid "User defined queries"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:546
msgid "User supplied queries contained in the `@Query` annotation. For example things like the following all work:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:550
#, no-wrap
msgid "public interface MovieRepository extends CrudRepository<Movie, Long> {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:552
#, no-wrap
msgid "    Movie findFirstByOrderByDurationDesc();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:555
#, no-wrap
msgid ""
"    @Query(\"select m from Movie m where m.rating = ?1\")\n"
"    Iterator<Movie> findByRating(String rating);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:558
#, no-wrap
msgid ""
"    @Query(\"from Movie where title = ?1\")\n"
"    Movie findByTitle(String title);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:561
#, no-wrap
msgid ""
"    @Query(\"select m from Movie m where m.duration > :duration and m.rating = :rating\")\n"
"    List<Movie> withRatingAndDurationLargerThan(@Param(\"duration\") int duration, @Param(\"rating\") String rating);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:564
#, no-wrap
msgid ""
"    @Query(\"from Movie where title like concat('%', ?1, '%')\")\n"
"    List<Object[]> someFieldsWithTitleLike(String title, Sort sort);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:568
#, no-wrap
msgid ""
"    @Modifying\n"
"    @Query(\"delete from Movie where rating = :rating\")\n"
"    void deleteByRating(@Param(\"rating\") String rating);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:572
#, no-wrap
msgid ""
"    @Modifying\n"
"    @Query(\"delete from Movie where title like concat('%', ?1, '%')\")\n"
"    Long deleteByTitleLike(String title);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:576
#, no-wrap
msgid ""
"    @Modifying\n"
"    @Query(\"update Movie m set m.rating = :newName where m.rating = :oldName\")\n"
"    int changeRatingToNewName(@Param(\"newName\") String newName, @Param(\"oldName\") String oldName);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:580
#, no-wrap
msgid ""
"    @Modifying\n"
"    @Query(\"update Movie set rating = null where title =?1\")\n"
"    void setRatingToNullForTitle(String title);\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:584
#, no-wrap
msgid ""
"    @Query(\"from Movie order by length(title)\")\n"
"    Slice<Movie> orderByTitleLength(Pageable pageable);\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:586
msgid "All methods that are annotated with `@Modifying` will automatically be annotated with `@Transactional`."
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:587
#, no-wrap
msgid "Naming Strategies"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:590
msgid "Hibernate ORM maps property names using a physical naming strategy and an implicit naming strategy. If you wish to use Spring Boot's default naming strategies, the following properties need to be set:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:595
#, no-wrap
msgid ""
"quarkus.hibernate-orm.physical-naming-strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n"
"quarkus.hibernate-orm.implicit-naming-strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n"
msgstr ""

#. type: Title ====
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:597
#, no-wrap
msgid "More examples"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:600
msgid "An extensive list of examples can be seen in the https://github.com/quarkusio/quarkus/tree/main/integration-tests/spring-data-jpa[integration tests] directory which is located inside the Quarkus source code."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:601
#, no-wrap
msgid "What is currently unsupported"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:604
msgid "Methods of the `org.springframework.data.repository.query.QueryByExampleExecutor` interface - if any of these are invoked, a Runtime exception will be thrown."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:605
msgid "QueryDSL support. No attempt will be made to generate implementations of any of the QueryDSL related repositories."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:606
msgid "Customizing the base repository for all repository interfaces in the code base."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:608
msgid "In Spring Data JPA this is done by registering a class that extends `org.springframework.data.jpa.repository.support.SimpleJpaRepository` however in Quarkus this class is not used at all (since all the necessary plumbing is done at build time). Similar support might be added to Quarkus in the future."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:609
msgid "Using `java.util.concurrent.Future` and classes that extend it as return types of repository methods."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:610
msgid "Native and named queries when using `@Query`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:612
msgid "https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/asciidoc/jpa.adoc#entity-state-detection-strategies[Entity State-detection Strategies] via `EntityInformation`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:613
msgid "As of Quarkus 1.6.0, only \"Version-Property and Id-Property inspection\" is implemented (which should cover most cases)."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:614
msgid "As of Quarkus 1.7.0, `org.springframework.data.domain.Persistable` is also implemented."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:616
msgid "The Quarkus team is exploring various alternatives to bridging the gap between the JPA and Reactive worlds."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:617
#, no-wrap
msgid "Important Technical Note"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:621
msgid "Please note that the Spring support in Quarkus does not start a Spring Application Context nor are any Spring infrastructure classes run.  Spring classes and annotations are only used for reading metadata and / or are used as user code method return types or parameter types."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:622
#, no-wrap
msgid "More Spring guides"
msgstr "更多 Spring 指南"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:625
msgid "Quarkus has more Spring compatibility features. See the following guides for more details:"
msgstr "Quarkus拥有更多的Spring兼容特性。获取更多细节请参阅以下指南:"

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:627
msgid "link:spring-di[Quarkus - Extension for Spring DI]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:628
msgid "link:spring-web[Quarkus - Extension for Spring Web]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:629
msgid "link:spring-security[Quarkus - Extension for Spring Security]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:630
msgid "link:spring-cloud-config-client[Quarkus - Reading properties from Spring Cloud Config Server]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:631
msgid "link:spring-boot-properties[Quarkus - Extension for Spring Boot properties]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:632
msgid "link:spring-cache[Quarkus - Extension for Spring Cache]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:633
msgid "link:spring-scheduled[Quarkus - Extension for Spring Scheduled]"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/spring-data-jpa.adoc:633
msgid "link:spring-data-rest[Quarkus - Extension for Spring Data REST]"
msgstr ""
