msgid ""
msgstr ""
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: jekyll-l10n\n"

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Running SQLite in Pure Java with Quarkus"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "What if you could run a C-based database in pure Java, with zero configuration, and even compile it to a native image effortlessly? With the new Quarkiverse extension https://github.com/quarkiverse/quarkus-jdbc-sqlite4j[quarkus-jdbc-sqlite4j], you can do exactly that."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Traditionally, embedded databases in Java require reimplementing their C counterparts, often leading to differences in behavior, missing optimizations, and delayed bug fixes. However, https://github.com/roastedroot/sqlite4j[sqlite4j] provides a JDBC driver that leverages the original SQLite C implementation while running safely inside a sandbox."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Hands-on Example"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "To see https://github.com/quarkiverse/quarkus-jdbc-sqlite4j[quarkus-jdbc-sqlite4j] in action, you can start with any existing Quarkus application or one of the https://github.com/quarkusio/quarkus-quickstarts[quickstarts]. If you prefer a ready-made example, check out https://github.com/andreaTP/demo-hibernate-orm-quickstart-wasm[this demo repository], which integrates SQLite within a Quarkus application using Hibernate ORM."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "By simply changing the JDBC driver dependency, you can embed a fully functional SQLite database inside your application while retaining all the benefits of the native SQLite implementation."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "To get started, add the extension dependency to your _pom.xml_:"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Then, configure your Quarkus application to use SQLite with standard JDBC settings:"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid ""
"You can now use your datasource as you normally would with Hibernate and Panache.\n"
"Note that we keep a minimum connection pool size > 0 to avoid redundant copies from disk to memory of the database."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Running in a Secure Sandbox"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Under the hood, SQLite runs in a fully in-memory sandboxed environment, ensuring security and isolation."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "When a connection to a local file is opened, the following occurs:"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "The database file is copied from disk to an in-memory Virtual FileSystem."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "A connection is established to the in-memory database."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "While this approach is highly secure, many users need to persist database changes. One recommended solution is to periodically back up the in-memory database to disk. This can be achieved through a scheduled job that:"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Backs up the in-memory database to a new file."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Copies the backup to the host file system."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Atomically replaces the old database file with the new backup."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "This setup ensures a seamless experience while maintaining SQLite's sandboxed security. You can adapt this approach to fit your specific needs."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Here's a sample implementation:"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Technical Deep Dive"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid ""
"https://github.com/roastedroot/sqlite4j[sqlite4j] compiles the official SQLite C https://www.sqlite.org/amalgamation.html[amalgamation] to WebAssembly (Wasm), which is then translated into Java bytecode using the https://chicory.dev/docs/experimental/aot[Chicory AOT compiler].\n"
"This enables SQLite to run in a pure Java environment while maintaining its full functionality."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Security and Isolation"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid ""
"One of the key benefits of this approach is security.\n"
"Running SQLite inside a Wasm sandbox ensures memory safety and isolates it from the host system, making it an excellent choice for applications that require embedded databases while avoiding the risks of native code execution."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Conclusion"
msgstr "解决方案"

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid ""
"With the new https://github.com/quarkiverse/quarkus-jdbc-sqlite4j[quarkus-jdbc-sqlite4j] extension, you get the best of both worlds: the power and reliability of SQLite combined with the safety and portability of Java.\n"
"This extension seamlessly integrates SQLite into Quarkus applications while maintaining a lightweight and secure architecture. Best of all, everything compiles effortlessly with __native-image__."
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Ready to try it out? Give https://github.com/quarkiverse/quarkus-jdbc-sqlite4j[quarkus-jdbc-sqlite4j] a spin in your projects and experience the benefits of running SQLite in pure Java with Quarkus!"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "Prior Art"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "https://github.com/ncruces/go-sqlite3[ncruces/go-sqlite3]"
msgstr ""

#: _posts/2025-03-12-sqlite4j-pure-java-sqlite.adoc
msgid "https://www.infoq.com/articles/sqlite-java-integration-webassembly/[Ben Eckel - Infoq - WebAssembly, the Safer Alternative to Integrating Native Code in Java]"
msgstr ""
