msgid ""
msgstr ""
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: jekyll-l10n\n"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "A Go CEL Policy Engine in Java, with Quarkus Chicory"
msgstr "Java 中的 Go CEL 策略引擎，与 Quarkus Chicory 搭配使用"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Quarkus Chicory brings the power of the Chicory WebAssembly runtime to Quarkus applications. Here we will see how the popular Go-based Google CEL library is integrated to implement a Kubernetes style CEL validator."
msgstr "Quarkus Chicory 为 Quarkus 应用程序带来了 Chicory WebAssembly 运行时的强大功能。在这里，我们将看到如何集成流行的基于 Go 的 Google CEL 库来实现 Kubernetes 风格的 CEL 验证器。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"A few days ago, we released the https://github.com/quarkiverse/quarkus-chicory/releases/tag/0.0.1[first version\n"
"of Quarkus Chicory], an extension that brings the power of the\n"
"https://github.com/dylibso/chicory[Chicory WebAssembly runtime] to Quarkus applications."
msgstr "几天前，我们发布了 link:https://github.com/quarkiverse/quarkus-chicory/releases/tag/0.0.1[Quarkus Chicory 的第一个版本] ，这是一个将 link:https://github.com/dylibso/chicory[Chicory WebAssembly 运行时] 的强大功能引入 Quarkus 应用程序的扩展。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "While iterating on development, we felt the need to implement an integration test based on a real world use case."
msgstr "在开发迭代过程中，我们认为有必要根据实际使用案例实施集成测试。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "After some research and experiments on popular scenarios we finally landed on a tasty one :-)"
msgstr "经过研究和对流行方案的实验，我们终于找到了一个美味的方案 :-)"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "A Kubernetes-style CEL Policy Engine"
msgstr "Kubernetes 风格的 CEL 策略引擎"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"CEL allows expression based policy validation of Kubernetes resources, and this requirement is implemented by\n"
"operators... which are _generally_ written in Go :-)"
msgstr "CEL 允许对 Kubernetes 资源进行基于表达式的策略验证，这一要求由操作符实现......操作符 _一般_ 用 Go 语言编写：-)"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"But Quarkus Java based operators exist too - like the Keycloak operator - so what?\n"
"Are we forced to implement a CEL policy validation engine in Java, from scratch?\n"
"Or should we find a suitable Java library, for example https://github.com/projectnessie/cel-java?"
msgstr "但是 Quarkus Java 操作符也存在，比如 Keycloak 操作符--那又怎样？我们是否必须从头开始用 Java 实现 CEL 策略验证引擎？或者我们应该找到一个合适的 Java 库，例如 link:https://github.com/projectnessie/cel-java[https://github.com/projectnessie/cel-java？]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "None of the above: this is where Chicory, a WebAssembly runtime for Java, comes to help."
msgstr "以上都不是：这时，Java 的 WebAssembly 运行时 Chicory 就能帮上忙了。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Let's just re-use a broadly used and well tested Go library, calling exported functions from Java, in a sandboxed,\n"
"secure way, and be happy with it!"
msgstr "让我们重新使用一个广泛使用且经过良好测试的 Go 库，以沙箱化、安全的方式调用 Java 的导出函数，就可以了！"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Why?"
msgstr "为什么？"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "no rewrites"
msgstr "无改写"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "low maintenance"
msgstr "低维护"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "1:1 behavior"
msgstr "1:1 行为"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "A Chicory extension for Quarkus applications"
msgstr "用于 Quarkus 应用程序的 Chicory 扩展"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Chicory is an open-source, 100% native Java WebAssembly (Wasm) runtime."
msgstr "Chicory 是一个开源、100% 原生 Java WebAssembly (Wasm) 运行时。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Its primary goal is to allow Java developers to run Wasm modules within the JVM,\n"
"without relying on native libraries, JNI (Java Native Interface) usage, or unsafe code."
msgstr "其主要目标是允许 Java 开发人员在 JVM 中运行 Wasm 模块，而无需依赖本地库、JNI（Java 本地接口）或不安全代码。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Unlike other Wasm runtimes that require platform-specific binaries, Chicory is pure Java."
msgstr "与其他需要特定平台二进制文件的 Wasm 运行时不同，Chicory 是纯 Java 的。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"It executes Wasm code within the JVM's memory space, providing a \"double sandbox\" effect (Wasm isolation + JVM\n"
"security).\n"
"It also provides WASI (WebAssembly System Interface) support, that allows Wasm modules to interact with system\n"
"resources safely.\n"
"Finally, it includes both an _interpreter_ and a _runtime compiler_ for quick execution, in addition to a _build-time\n"
"compiler_ that converts Wasm into Java bytecode for optimal performance, see\n"
"https://chicory.dev/docs/usage/execution_modes/[Chicory execution modes]."
msgstr "它在 JVM 内存空间内执行 Wasm 代码，提供 \"双重沙箱 \"效果（Wasm 隔离 + JVM 安全）。它还提供 WASI（WebAssembly 系统接口）支持，允许 Wasm 模块安全地与系统资源交互。最后，它包括一个 _解释器_ 和一个 _运行时编译器_ ，用于快速执行，此外还有一个 _构建时编译器_ ，可将 Wasm 转换为 Java 字节码，以获得最佳性能，请参见 link:https://chicory.dev/docs/usage/execution_modes/[Chicory 执行模式] 。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"It is ideal for plugin systems, allowing users to write safe plugins in any language (Rust, C++, Go, etc.) that compiles\n"
"to Wasm, and running them inside a Java app.\n"
"It can be used for Serverless/Edge Computing cases, as it provides a mean to run lightweight logic on Java-based\n"
"infrastructure without the overhead of application containers."
msgstr "它是插件系统的理想选择，允许用户使用任何可编译为 Wasm 的语言（Rust、C++、Go 等）编写安全插件，并在 Java 应用程序中运行。它可用于无服务器/边缘计算案例，因为它提供了一种在基于 Java 的基础架构上运行轻量级逻辑的方法，而无需应用程序容器的开销。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"And for something that never gets old, i.e. cross-platform portability, your application remains _\"Write Once, Run\n"
"Anywhere\"_, without managing different `.so` or `.dll` files for different architectures."
msgstr "而对于永不过时的东西，即跨平台可移植性，您的应用程序仍然是 _\"一次编写，随处运行\"，_ 无需为不同的架构管理不同的 `.so` 或 `.dll` 文件。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"You can learn more about https://chicory.dev/docs/[Chicory], but from now on let's focus on its Quarkus\n"
"extension, here. :-)"
msgstr "您可以了解有关 link:https://chicory.dev/docs/[Chicory] 的更多信息，但从现在起，我们将重点关注其 Quarkus 扩展功能。）"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"_Quarkus Chicory brings Chicory to Quarkus application developers, integrating its features into the\n"
"Quarkus ecosystem and applications build-time and runtime peculiarities, for a natural developer experience.\n"
"It just... works!_"
msgstr "_Quarkus Chicory 为 Quarkus 应用程序开发人员带来了 Chicory，将其功能集成到了 Quarkus 生态系统以及应用程序的构建时和运行时特性中，为开发人员带来了自然的开发体验。它就是......好用！_"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Features"
msgstr "特点"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Build-Time Code Generation"
msgstr "构建时间代码生成"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Generates Java bytecode from WebAssembly modules, thus replacing the Chicory Maven plugin."
msgstr "从 WebAssembly 模块生成 Java 字节代码，从而取代 Chicory Maven 插件。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Dependency Management"
msgstr "依赖性管理"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Automatically handles version alignment between Quarkus and Chicory’s ASM dependencies."
msgstr "自动处理 Quarkus 与 Chicory 的 ASM 依赖关系之间的版本对齐。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Multi WASM Module Support"
msgstr "支持多个 WASM 模块"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Configure and manage multiple WebAssembly modules."
msgstr "配置和管理多个 WebAssembly 模块。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Dynamic Loading"
msgstr "动态加载"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Manage runtime-loaded WASM modules."
msgstr "管理运行时加载的 WASM 模块。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Intelligent Execution Mode Selection"
msgstr "智能执行模式选择"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Configures the `MachineFactory` and `WasmModule` instances based on the environment.\n"
"`MachineFactory` can leverage build-time generated bytecode for optimal performance in production/native,\n"
"and use runtime or interpreter mode during development or test.\n"
"Similarly, `WasmModule` instances can be initialized with WASM metadata rather than pure WASM payload,\n"
"again for better performance and memory footprint, by leveraging the build-time code generation process."
msgstr "`MachineFactory` `WasmModule` `MachineFactory` 可利用构建时生成的字节码来优化生产/原生环境中的性能，并在开发或测试期间使用运行时或解释器模式。同样， 实例可使用 WASM 元数据而非纯 WASM 有效载荷进行初始化，这也是通过利用构建时代码生成过程来获得更好的性能和内存占用。 `WasmModule` "

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Live Reload in Development"
msgstr "开发中的实时重载"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Static modules are automatically watched and reloaded. Think of everyone's favorite `quarkus:dev`, but with Rust and\n"
"Go modules"
msgstr "静态模块会被自动监视和重新加载。想想每个人都喜欢的 `quarkus:dev` ，但使用的是 Rust 和 Go 模块"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Native Image Compatibility"
msgstr "原生图像兼容性"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "WASM/WASI support"
msgstr "支持 WASM/WASI"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"With such potential in our hands, we chose the popular https://github.com/google/cel-go[Google CEL], a Go library/API\n"
"adopted by several Go operators, and decided to integrate it in our application."
msgstr "有鉴于此，我们选择了广受欢迎的 link:https://github.com/google/cel-go[Google CEL] （一个被多家 Go 运营商采用的 Go 库/API），并决定将其集成到我们的应用程序中。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Application setup and configuration"
msgstr "应用程序的设置和配置"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Creating the application is straightforward using the Quarkus Maven plugin.\n"
"Note that Quarkus 3.x requires Java 17 or higher (we used Java 21 for this example):"
msgstr "使用 Quarkus Maven 插件创建应用程序非常简单。请注意，Quarkus 3.x 需要 Java 17 或更高版本（本例中我们使用了 Java 21）："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Next, we add the Quarkus Chicory extension to our pom.xml:"
msgstr "接下来，我们在 pom.xml 中添加 Quarkus Chicory 扩展："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Finally, the WASM module configuration goes in application.properties:"
msgstr "最后，WASM 模块配置放在 application.properties 中："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"This tells Quarkus Chicory to generate a `GoCelModule` class at build time from the specified WASM file.\n"
"The extension will automatically generate Java bytecode from the WebAssembly module, configure the appropriate\n"
"`MachineFactory` based on the runtime environment, and  - in development mode - watch the WASM file for changes to\n"
"trigger live reload."
msgstr "这将告诉 Quarkus Chicory 在构建时从指定的 WASM 文件生成一个 `GoCelModule` 类。该扩展将自动从 WebAssembly 模块生成 Java 字节代码，根据运行时环境配置适当的 `MachineFactory` ，并在开发模式下，监视 WASM 文件的变化以触发实时重载。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"One last step, now. We will use the\n"
"https://chicory.dev/docs/usage/annotations#wasmmoduleinterface[`WasmModuleInterface` annotation] and configure the\n"
"https://chicory.dev/docs/usage/annotations#enabling-the-annotation-processor[annotation processor],\n"
"for Chicory to generate a Java class containing methods mapping 1:1 to Go exported functions."
msgstr "现在还有最后一步。我们将使用 link:https://chicory.dev/docs/usage/annotations#wasmmoduleinterface[WasmModuleInterface 注释] 并配置 link:https://chicory.dev/docs/usage/annotations#enabling-the-annotation-processor[注释处理器] ，以便 Chicory 生成一个 Java 类，其中包含与 Go 导出函数 1:1 对应的方法。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "First, let's create a `K8sCel` Java class where to place our annotation:"
msgstr "首先，让我们创建一个 `K8sCel` Java 类来放置我们的注解："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"At build-time, the Chicory annotation processor will discover such annotation and generate a `K8sCel_ModuleExports`\n"
"class, which provides the exported methods:"
msgstr "在构建时，Chicory 注释处理器会发现这种注释，并生成一个 `K8sCel_ModuleExports` 类，提供导出的方法："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "And that's enough!"
msgstr "这就够了！"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "The `WasmQuarkusContext` API"
msgstr "`WasmQuarkusContext` API"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "The example application follows a clean architecture pattern with separated concerns:"
msgstr "该示例应用程序采用简洁的架构模式，关注点相互分离："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "**K8sCelValidatorService** - Manages WASM integration and business logic"
msgstr "*K8sCelValidatorService* - 管理 WASM 集成和业务逻辑"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "**K8sCelValidatorResource** - Provides REST API endpoint"
msgstr "*K8sCelValidatorResource* - 提供 REST API 端点"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The Quarkus Chicory extension provides the `WasmQuarkusContext` API for injection, to access configured WASM modules.\n"
"Here's how we use it in our service:"
msgstr "Quarkus Chicory 扩展为注入提供了 `WasmQuarkusContext` API，用于访问配置的 WASM 模块。下面是我们在服务中的使用方法："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The injected `WasmQuarkusContext` bean configures `Instance.Builder` to use `MachineFactory` and `WasmModule`\n"
"instances, which are created dynamically, based on the application configuration and execution environment."
msgstr "注入的 `WasmQuarkusContext` Bean 会将 `Instance.Builder` 配置为使用 `MachineFactory` 和 `WasmModule` 实例，这些实例是根据应用程序配置和执行环境动态创建的。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Once `instance` is built, `export` is initialized with a `K8sCel_ModuleExports` instance, providing exported functions\n"
"which are called later in the `validate()` method."
msgstr "`instance` 建立后， `export` 将使用 `K8sCel_ModuleExports` 实例进行初始化，并提供导出函数，这些函数将在 `validate()` 方法中调用。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The exported \"_start\" function is called, to initialize the Go runtime. This executes the Go program `main()`\n"
"function. As it's empty in our implementation, it will exit immediately, so we catch `WasiExitExcpetion` to check for\n"
"a 0 (no errors) exit code."
msgstr "调用导出的\"_start \"函数来初始化 Go 运行时。这将执行 Go 程序 `main()` 函数。在我们的实现中，它是空的，会立即退出，因此我们会 catch `WasiExitExcpetion` 来检查退出代码是否为 0（无错误）。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "A note about multi-user and thread safety"
msgstr "关于多用户和线程安全的说明"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"`WasmQuarkusContext` instances are injected as `@ApplicationScoped` beans. This means that a unique application instance\n"
"can be used by several clients (or user requests) and threads.\n"
"That being said, the API implementation is _stateless_, i.e. `getMachineFactory()` and `getWasmModule()` always return\n"
"new instances."
msgstr "`WasmQuarkusContext` 实例作为 `@ApplicationScoped` Bean 注入。这意味着一个唯一的应用程序实例可以被多个客户端（或用户请求）和线程使用。也就是说，应用程序接口的实现是 _无状态的_ ，即 `getMachineFactory()` 和 `getWasmModule()` 总是返回新的实例。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The way such instances are dealt with, and how their lifecycle is orchestrated, is something that pertains to the\n"
"application domain. For example, the above implementation doesn't take concurrency into account. If multiple\n"
"threads are going to consume the same `Memory` instance, a thread-safe implementation would be required in order to\n"
"avoid corrupting the shared `WasmModule` linear memory."
msgstr "处理这些实例的方式，以及如何协调它们的生命周期，都与应用领域有关。例如，上述实现方式没有考虑并发性。如果多个线程要使用同一个 `Memory` 实例，就需要采用线程安全的实现方式，以避免破坏共享的 `WasmModule` 线性内存。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Back to our application code, the REST resource is then a simple delegation layer:"
msgstr "回到我们的应用程序代码，REST 资源就是一个简单的委托层："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "The `WasmQuarkusContext` API provides two key methods:"
msgstr "`WasmQuarkusContext` API 提供两种关键方法："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "`getWasmModule()`: returns the parsed WebAssembly module"
msgstr "`getWasmModule()` ：返回解析后的 WebAssembly 模块"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"`getMachineFactory()`: returns the appropriate `MachineFactory` based on environment\n"
"(interpreter for dev, build-time compilation for production/native)"
msgstr "`getMachineFactory()` ：根据环境返回相应的 `MachineFactory` （开发环境使用解释器，生产环境/本地环境使用编译时编译）。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The `@Named` qualifier matches the module name from application.properties.\n"
"The extension handles all the complexity of WASM module lifecycle, allowing us to focus on the business logic."
msgstr "`@Named` 限定符与 application.properties 中的模块名称相匹配。该扩展处理 WASM 模块生命周期的所有复杂问题，使我们能够专注于业务逻辑。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "How it works: Go -> Wasm -> Java bytecode"
msgstr "工作原理Go → Wasm → Java 字节码"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"The heart of our application is the Go CEL implementation, compiled to WebAssembly.\n"
"The Go code implements three key exported functions:"
msgstr "我们应用程序的核心是编译为 WebAssembly 的 Go CEL 实现。Go 代码实现了三个关键的导出函数："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "This Go code is compiled to WASM using the WASI target:"
msgstr "该 Go 代码通过 WASI 目标编译为 WASM："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "In our service implementation:"
msgstr "在我们的服务实施过程中："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Java allocates WASM memory for the policy string and input resource manifest (JSON), and writes the data to WASM\n"
"memory"
msgstr "Java 为策略字符串和输入资源清单 (JSON) 分配 WASM 内存，并将数据写入 WASM 内存"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Java calls `evalPolicy()` with pointers to arguments and their size"
msgstr "Java 调用 `evalPolicy()` 时，会使用指向参数及其大小的指针"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Go code reads from its memory space, and evaluates the CEL expression using the Google CEL library"
msgstr "Go 代码从其内存空间读取数据，并使用 Google CEL 库评估 CEL 表达式"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Go returns an integer result code (1=allow, 0=deny, negative=error)"
msgstr "Go 返回一个整数结果代码（1=允许，0=拒绝，负数=错误）。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Java interprets the result and performs clean up"
msgstr "Java 解释结果并进行清理"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"_This demonstrates the power of WebAssembly: we can use the mature, battle-tested Google CEL-Go library\n"
"from Java without reimplementing CEL from scratch._"
msgstr "_这证明了 WebAssembly 的强大功能：我们可以从 Java 中使用成熟的、经过实战检验的 Google CEL-Go 库，而无需从头开始重新实现 CEL。_"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "The WASM boundary provides a clean and safe interface between the two languages."
msgstr "WASM 界面为两种语言提供了一个简洁安全的接口。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "In production, we can write CEL policies that validate Kubernetes resources just like Go operators do:"
msgstr "在生产中，我们可以编写 CEL 策略，像 Go 操作员一样验证 Kubernetes 资源："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
msgid "Conclusion"
msgstr "解决方案"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"By combining Quarkus Chicory with Google CEL-Go compiled to WebAssembly, we've created a\n"
"Kubernetes-style CEL policy engine that runs entirely in Java."
msgstr "通过将 Quarkus Chicory 与编译为 WebAssembly 的 Google CEL-Go 相结合，我们创建了一个完全用 Java 运行的 Kubernetes 风格 CEL 策略引擎。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "This approach offers several benefits:"
msgstr "这种方法有几个好处："

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Reuse existing Go libraries: No need to reimplement CEL in Java, 1:1 mapping with original Go code"
msgstr "重复使用现有的 Go 库：无需在 Java 中重新实现 CEL，与原始 Go 代码实现 1:1 映射"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Type safety and performance: Quarkus Chicory generates Java bytecode from WASM modules"
msgstr "类型安全和性能：Quarkus Chicory从WASM模块生成Java字节码"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Production ready: The same CEL library used by Go operators, now available in Java"
msgstr "生产准备就绪：与 Go 操作员使用的 CEL 库相同，现在也可在 Java 中使用"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "Developer experience: Live reload, build-time code generation, and native image support"
msgstr "开发人员体验：实时重载、构建时代码生成和本地图像支持"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"Ecosystem compatibility: Works seamlessly with\n"
"https://github.com/operator-framework/java-operator-sdk[Java-based Kubernetes operators]"
msgstr "生态系统兼容性：与 link:https://github.com/operator-framework/java-operator-sdk[基于 Java 的 Kubernetes 操作员] 无缝协作"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"This demonstrates that WebAssembly is not just a browser technology,\n"
"but rather a powerful tool for cross-language interoperability in cloud-native applications, and\n"
"showcases how to integrate this workflow easily in Quarkus applications, thanks to Quarkus Chicory."
msgstr "这表明，WebAssembly 不仅仅是一种浏览器技术，它还是云原生应用程序中实现跨语言互操作性的强大工具，并展示了如何借助 Quarkus Chicory 在 Quarkus 应用程序中轻松集成这一工作流程。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid ""
"For Java developers building Kubernetes operators, this approach opens up a large part of the Go ecosystem\n"
"without leaving the JVM."
msgstr "对于构建 Kubernetes 操作员的 Java 开发人员来说，这种方法无需离开 JVM 就能打开 Go 生态系统的很大一部分。"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "You can find the complete working example at: https://github.com/fabiobrz/quarkus-cel-k8s-validator"
msgstr "您可以在以下网址找到完整的工作示例 link:https://github.com/fabiobrz/quarkus-cel-k8s-validator[： https://github.com/fabiobrz/quarkus-cel-k8s-validator]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
msgid "References"
msgstr "参考文献"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "https://docs.quarkiverse.io/quarkus-chicory/dev[Quarkus Chicory Extension]"
msgstr "link:https://docs.quarkiverse.io/quarkus-chicory/dev[夸克菊苣扩展]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "https://github.com/dylibso/chicory[Chicory WebAssembly Runtime]"
msgstr "link:https://github.com/dylibso/chicory[Chicory WebAssembly 运行时]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "https://github.com/google/cel-go[Google CEL]"
msgstr "link:https://github.com/google/cel-go[谷歌 CEL]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "https://kubernetes.io/docs/reference/using-api/cel/[Kubernetes CEL Validation]"
msgstr "link:https://kubernetes.io/docs/reference/using-api/cel/[Kubernetes CEL 验证]"

#: _posts/2026-02-19-k8s-style-CEL-with-quarkus-chicory.adoc
#, fuzzy
msgid "https://wasi.dev/[WebAssembly System Interface (WASI)]"
msgstr "link:https://wasi.dev/[网络组装系统接口（WASI）]"
