# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
# 
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-10-20 12:09+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: title
#: _posts/2023-10-20-cve-2023-44487.adoc
#, no-wrap, fuzzy
msgid "Addressing CVE-2023-44487: An Overview and Quarkus Solution"
msgstr "应对 CVE-2023-44487：概述和 Quarkus 解决方案"

#. type: YAML Front Matter: synopsis
#: _posts/2023-10-20-cve-2023-44487.adoc
#, no-wrap, fuzzy
msgid ""
"Learn about the  CVE-2023-44487, a security vulnerability affecting HTTP/2 "
"servers, and the solution implemented in Quarkus"
msgstr "了解影响 HTTP/2 服务器的安全漏洞 CVE-2023-44487 以及在 Quarkus 中实施的解决方案"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"You may have encountered the infamous https://nvd.nist.gov/vuln/detail/CVE-"
"2023-44487[CVE-2023-44487], a security vulnerability directly affecting HTTP/"
"2 servers. This CVE exploits a specific weakness within the HTTP/2 protocol, "
"causing a ripple effect across all HTTP/2 servers."
msgstr ""
"您可能遇到过臭名昭著的 link:https://nvd.nist.gov/vuln/detail/CVE-2023-44487[CVE-2023-"
"44487] ，这是一个直接影响 HTTP/2 服务器的安全漏洞。该 CVE 利用了 HTTP/2 协议中的一个特定弱点，对所有 HTTP/2 "
"服务器造成了连锁反应。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"However, the impact of this CVE is not uniform across all servers; it varies "
"depending on the server's underlying technology and execution model."
msgstr "然而，该 CVE 对所有服务器的影响并不一致；它因服务器的底层技术和执行模式而异。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"The consequences can range from severe, such as potential Distributed Denial "
"of Service (DDoS) attacks or even server crashes, to relatively minor, "
"manifesting as only a slight increase in CPU usage. This variance in impact "
"is the reason behind the differing CVE scores, ranging from _7.3_ for the "
"former scenario to https://github.com/netty/netty/security/advisories/GHSA-"
"xpw8-rcwv-8f8p[_5.3_] for the latter."
msgstr ""
"其后果可能很严重，如潜在的分布式拒绝服务（DDoS）攻击甚至服务器崩溃，也可能相对较轻，仅表现为 CPU 使用率的轻微增加。这种影响上的差异是导致 "
"CVE 得分不同的原因，前者为 _7.3_ 分，后者为 link:https://github.com/netty/netty/security/"
"advisories/GHSA-xpw8-rcwv-8f8p[5.3] 分。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Quarkus falls into the _5.3_ category, where the impact is less pronounced "
"in practice."
msgstr "Quarkus 属于 _5.3_ 类别，在实践中影响不太明显。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Nevertheless, we take all security-related issues seriously and, following "
"our https://quarkus.io/security/#supported-versions[security policy], we "
"have released the following version updates for Quarkus platform:"
msgstr ""
"尽管如此，我们仍会认真对待所有与安全相关的问题，并根据我们的 link:https://quarkus.io/security/#supported-"
"versions[安全政策] ，为 Quarkus 平台发布了以下版本更新："

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Latest 3.x: https://quarkus.io/blog/quarkus-3-4-3-released/[Quarkus 3.4.3] "
"(latest 3.x)"
msgstr ""
"最新 3.x link:https://quarkus.io/blog/quarkus-3-4-3-released/[Quarkus 3.4.3] "
"（最新 3.x 版）"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"3.2 LTS: https://quarkus.io/blog/quarkus-3-4-3-released/[Quarkus 3.2.7] (3.2 "
"LTS)"
msgstr ""
"3.2 LTS： link:https://quarkus.io/blog/quarkus-3-4-3-released/[Quarkus 3.2.7] "
"(3.2 LTS)"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Latest 2.x: https://quarkus.io/blog/quarkus-2-16-12-final-released/[Quarkus "
"2.16.12.Final]"
msgstr ""
"最新的 2.x： link:https://quarkus.io/blog/quarkus-2-16-12-final-released/"
"[Quarkus 2.16.12.Final]"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Similarly, Red Hat Build of Quarkus includes the CVE fixes in its current "
"release cycle:"
msgstr "同样，Quarkus 的 Red Hat Build 在当前的发布周期中也包含了 CVE 修复："

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/"
"quarkus-3.2/guide/4ea39096-72be-4ccf-a22e-7e42063d29ec#_163a1086-6b80-4441-"
"81b4-cc358d2efaaa[Red Hat Build of Quarkus 3.2.6]"
msgstr ""
"link:https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/"
"quarkus-3.2/guide/4ea39096-72be-4ccf-a22e-7e42063d29ec#_163a1086-6b80-4441-"
"81b4-cc358d2efaaa[红帽版 Quarkus 3.2.6]"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/rhbq-"
"documentation-2-13/guide/0f24d6b4-7032-4601-99cb-fbdefec89f6d#_192608e2-e41d-"
"43bd-908d-c2e5e23c642c[Red Hat Build of Quarkus 2.13.8]"
msgstr ""
"link:https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus/"
"rhbq-documentation-2-13/guide/0f24d6b4-7032-4601-99cb-fbdefec89f6d#_192608e2-"
"e41d-43bd-908d-c2e5e23c642c[红帽版 Quarkus 2.13.8]"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Let's delve deeper into the problem to understand better the distinctions "
"and our approach to resolving it."
msgstr "让我们深入探讨一下这个问题，以便更好地理解其中的区别和我们解决问题的方法。"

#. type: Title ==
#: _posts/2023-10-20-cve-2023-44487.adoc
#, no-wrap, fuzzy
msgid "Understanding the HTTP/2 CVE"
msgstr "了解 HTTP/2 CVE"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"When you browse a website that supports HTTP/2, such as https://quarkus.io, "
"it enables the use of a single connection to fetch numerous resources, "
"including the index page, images, JavaScript scripts, fonts, CSS files, and "
"more. This eliminates the need for the browser to repeatedly establish new "
"connections for each resource, resulting in a more efficient and faster "
"browsing experience. Furthermore, HTTP/2 doesn't require the browser to wait "
"for a response before sending another request."
msgstr ""
"当您浏览支持 HTTP/2 的网站（如 https://quarkus.io ）时 link:https://quarkus.io[，] "
"可以使用单个连接来获取大量资源，包括索引页面、图像、JavaScript 脚本、字体、CSS "
"文件等。这样，浏览器就无需为每个资源重复建立新的连接，从而带来更高效、更快速的浏览体验。此外，HTTP/2 还不要求浏览器在发送另一个请求前等待响应。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"This streaming capability of HTTP/2 enhances application concurrency and "
"minimizes network costs, as it reduces the need for numerous connections. "
"Nevertheless, this feature can pose challenges, as a single connection can "
"generate a multitude of requests. To address this, HTTP/2 offers a means of "
"restraining the number of active concurrent streams to prevent clients from "
"overburdening the server. This control is a server-side setting. When a "
"client connects, the server communicates its maximum allowable concurrency. "
"In Quarkus, the ceiling for concurrent streams is set at 100 by default. "
"This limit can be customized using the `quarkus.http.limits.max-concurrent-"
"streams` property."
msgstr ""
"HTTP/2 "
"的这种流功能增强了应用程序的并发性，并最大限度地降低了网络成本，因为它减少了对大量连接的需求。不过，这一功能也会带来挑战，因为单个连接就会产生大量请求。为了解决这个问题，HTTP/"
"2 提供了一种限制活动并发流数量的方法，以防止客户端给服务器造成过重负担。这种控制是一种服务器端设置。客户端连接时，服务器会告知其允许的最大并发量。在 "
"Quarkus 中，并发流的上限默认设置为 100。该限制可使用 `quarkus.http.limits.max-concurrent-"
"streams` 属性进行自定义。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"When a client exceeds the permitted stream limit, the server responds with "
"an `RST_STREAM` frame, closing the specific stream without severing the "
"connection, safeguarding against stream flooding."
msgstr "当客户端超过允许的数据流限制时，服务器会响应 `RST_STREAM` 帧，在不切断连接的情况下关闭特定数据流，防止数据流泛滥。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"But there's more to the story. In HTTP/2, both the client and server "
"maintain stream status, eventually syncing. Unlike HTTP 1.1, HTTP/2 permits "
"clients to gracefully cancel in-flight requests using the `RST_STREAM` frame."
" On the client side, the stream closes upon frame transmission, while the "
"server-side closure happens upon processing. This cancellation doesn't "
"impact other streams in the same connection."
msgstr ""
"但故事还不止这些。在 HTTP/2 中，客户端和服务器都会保持流状态，最终实现同步。与 HTTP 1.1 不同，HTTP/2 允许客户端使用 "
"`RST_STREAM` 框架优雅地取消飞行中的请求。在客户端，流在帧传输时关闭，而服务器端则在处理时关闭。这种取消不会影响同一连接中的其他流。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"The CVE-2023-44487 attack capitalizes on rapid stream cancellations. While "
"the client closes streams, the server-side closure lags, effectively "
"bypassing the client's stream limit. This allows the client to open an "
"excessive number of streams, up to 1,073,741,824. During the attack, the "
"client initiates a request via a `HEADERS` frame in a new stream and "
"immediately dispatches the `RST_STREAM` frame. From the client's viewpoint, "
"the stream closes. However, the server must allocate resources to process "
"the `RST_STREAM` frame, ultimately closing the associated stream."
msgstr ""
"CVE-2023-44487 "
"攻击利用了流的快速取消。当客户端关闭流时，服务器端的关闭会滞后，从而有效绕过客户端的流限制。这使得客户端可以打开过多的数据流，最多可达 "
"1,073,741,824 个。在攻击过程中，客户端通过新流中的 `HEADERS` 帧发起请求，并立即发送 `RST_STREAM` "
"帧。从客户端的角度看，数据流关闭了。但是，服务器必须分配资源来处理 `RST_STREAM` 帧，最终关闭相关流。"

#. type: Title ==
#: _posts/2023-10-20-cve-2023-44487.adoc
#, no-wrap, fuzzy
msgid "Threads vs event-loops"
msgstr "线程与事件循环"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"As the client repeatedly opens and cancels streams in quick succession, the "
"server grapples with handling `RST_STREAM` frames and associated bookkeeping."
" The severity of the attack differs between server technologies. In a one-"
"thread-per-request model, it can be catastrophic, as it consumes all "
"available worker threads, leading to queued `HEADERS` and `RST_STREAM` "
"frames and negatively impacting concurrent legitimate requests, thus "
"significantly affecting service availability (CVE score: 7.3/10)."
msgstr ""
"由于客户端反复快速打开和取消数据流，服务器需要处理 `RST_STREAM` "
"帧和相关簿记。攻击的严重程度因服务器技术而异。在每请求一个线程的模型中，它可能是灾难性的，因为它会消耗所有可用的工作线程，导致排队的 `HEADERS` "
"和 `RST_STREAM` 框架，并对并发的合法请求产生负面影响，从而严重影响服务可用性（CVE 分数：7.3/10）。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"In the case of Netty-based servers (like Quarkus) and other event loop-based "
"servers, the issue is less severe. The incoming frames are placed in the "
"event loop queue, causing higher CPU usage but no thread starvation. Also, "
"Netty handles `RST_STREAM` frames very efficiently. This may result in "
"higher response times, with the server appearing busy but still managing "
"concurrent legitimate requests. While a problem, its impact on availability "
"is relatively lower (CVE score: 5.3/10)."
msgstr ""
"对于基于 Netty 的服务器（如 Quarkus）和其他基于事件循环的服务器，这个问题并不严重。传入的帧被放置在事件循环队列中，会导致更高的 CPU "
"占用率，但不会造成线程饥饿。此外，Netty 还能非常高效地处理 `RST_STREAM` "
"帧。这可能会导致更长的响应时间，服务器看起来很忙，但仍能管理并发的合法请求。虽然这是一个问题，但它对可用性的影响相对较小（CVE 分数：5.3/10）。"

#. type: Title ==
#: _posts/2023-10-20-cve-2023-44487.adoc
#, no-wrap, fuzzy
msgid "The Quarkus solution"
msgstr "夸克解决方案"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"Due to the high-profile nature of the CVE, Quarkus has taken measures to "
"address this concern. We've implemented a solution based on the Netty fix. "
"The system monitors `RST_STREAM` frames sent per connection, imposing a 200-"
"frame limit within a 30-second window. If the threshold is exceeded, Quarkus "
"takes action by closing the connection and issuing a `GOAWAY` frame. This "
"procedure closes the connection and all currently active streams associated "
"with it."
msgstr ""
"由于 CVE 的高调性质，Quarkus 已采取措施来解决这一问题。我们实施了基于 Netty 修复的解决方案。系统监控每个连接发送的 "
"`RST_STREAM` 帧，在 30 秒窗口内限制发送 200 帧。如果超过阈值，Quarkus 就会采取行动，关闭连接并发出 `GOAWAY` "
"帧。该程序将关闭连接以及与之相关的所有当前活动流。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"While these default settings effectively counter the attack, we understand "
"the need for flexibility. In the upcoming Quarkus 3 release, users will have "
"the option to fine-tune these thresholds, allowing you to customize the "
"configuration to meet your specific requirements, including reducing the "
"maximum number of concurrent streams (already possible today), adjusting the "
"number of `RST_STREAM` frames, and modifying the time window for attack "
"detection."
msgstr ""
"虽然这些默认设置能有效抵御攻击，但我们也理解用户对灵活性的需求。在即将发布的 Quarkus 3 "
"中，用户将可以选择对这些阈值进行微调，从而可以根据自己的具体要求定制配置，包括减少并发流的最大数量（目前已经可以做到）、调整 `RST_STREAM` "
"帧的数量以及修改攻击检测的时间窗口。"

#. type: Title ==
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy, no-wrap
msgid "Summary"
msgstr "摘要"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"The HTTP/2 CVE is serious and can be used for Distributed Denial of Service "
"attacks, especially if the implementation is thread based. Quarkus is using "
"Netty which is based on an event loop model and thus Quarkus is not as badly "
"affected."
msgstr ""
"HTTP/2 CVE 非常严重，可被用于分布式拒绝服务攻击，尤其是在基于线程的实现中。Quarkus 使用的是基于事件循环模型的 "
"Netty，因此受到的影响没有那么严重。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"We take all security-related issues seriously and following our security "
"policy, we have released the following version updates for Quarkus platform:"
msgstr "我们认真对待所有与安全相关的问题，并根据我们的安全政策，发布了以下夸克平台版本更新："

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid "All these versions contain the fix described in this article."
msgstr "所有这些版本都包含本文所述的修复程序。"

#. type: Plain text
#: _posts/2023-10-20-cve-2023-44487.adoc
#, fuzzy
msgid ""
"We strongly recommend updating your application to one of these versions."
msgstr "我们强烈建议您将应用程序更新到这些版本之一。"
