msgid ""
msgstr ""
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: jekyll-l10n\n"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"How to Use Your A2A Server Agent in a Distributed or Cloud Native "
"Environment"
msgstr "如何在分布式或云原生环境中使用 A2A 服务器代理"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"This blog post shows how to configure an A2A server agent to use persistent "
"stores and event queues, in order to get it working for distributed, cloud-"
"native environments."
msgstr "本博文介绍了如何配置 A2A 服务器代理以使用持久存储和事件队列，从而使其适用于分布式云原生环境。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The recent https://github.com/a2aproject/a2a-java/tree/v0.3.0.Final[0.3.0."
"Final] release of the A2A Java SDK, included a bunch of improvements."
msgstr ""
"最近发布的 A2A Java SDK link:https://github.com/a2aproject/a2a-java/tree/v0.3.0."
"Final[0.3.0.Final] 版包含一系列改进。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Farah recently blogged about the https://quarkus.io/blog/quarkus-a2a-java-"
"security/[new security features] in the A2A Java SDK."
msgstr ""
"Farah 最近在博客中介绍了 A2A Java SDK 中的 link:https://quarkus.io/blog/quarkus-a2a-"
"java-security/[新安全功能] 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"This post will focus on the significant cloud-related enhancements which "
"also are part of this release. These provide the building blocks for running "
"the SDK in a distributed, cloud-native environment. We will demonstrate this "
"with a simple A2A Agent, which simply appending `Artifacts` to a `Task` that "
"contain the name of the pod handling the incoming `Message`s."
msgstr ""
"本篇文章将重点介绍本版本中与云相关的重要增强功能。这些增强功能为在分布式云原生环境中运行 SDK 提供了构建模块。我们将用一个简单的 A2A "
"代理来演示这一点，它只需将 `Artifacts` 附加到 `Task` ，其中包含处理传入 \"消息 \"的 pod 的名称。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Note that we have done a https://github.com/wildfly-extras/a2a-java-sdk-"
"server-jakarta[0.3.1.Final] release since. The links in the examples will "
"use this very latest release."
msgstr ""
"请注意，我们已经发布了 link:https://github.com/wildfly-extras/a2a-java-sdk-server-"
"jakarta[0.3.1.Final] 版本。示例中的链接将使用最新版本。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "We will cover the following topics:"
msgstr "我们将讨论以下主题"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Initially, we will look at the simple, in-memory components that form the "
"core of the SDK's asynchronous model. These core classes were inspired by "
"the Python version of the SDK, https://github.com/a2aproject/a2a-python[a2a-"
"python]."
msgstr ""
"首先，我们将了解构成 SDK 异步模型核心的简单内存组件。这些核心类的灵感来自 SDK 的 Python 版本 link:https://github."
"com/a2aproject/a2a-python[a2a-python] 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Next, we'll introduce the new, persistent and replicated implementations "
"designed for distributed environments."
msgstr "接下来，我们将介绍专为分布式环境设计的全新持久和复制实现。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Finally, we'll walk through an https://github.com/a2aproject/a2a-java/blob/"
"v0.3.1.Final/examples/cloud-deployment/README.md[example] that combines "
"these components and deploys an application in a Kubernetes cluster, showing "
"that the components enable us to work in a load-balanced environment."
msgstr ""
"最后，我们将 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"examples/cloud-deployment/README.md[举例说明] 如何将这些组件结合在一起，并在 Kubernetes "
"集群中部署应用程序，从而表明这些组件能让我们在负载平衡的环境中工作。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Core SDK In-Memory Components"
msgstr "核心 SDK 内存组件"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The A2A Java SDK provides the tools to manage asynchronous, long-running "
"processes, which we call Tasks. As described in the https://a2a-protocol.org/"
"latest/topics/key-concepts/[Core Concepts] section of the A2A protocol "
"documentation (as well as the https://a2a-protocol.org/latest/topics/life-of-"
"a-task/[Life of a Task] and https://a2a-protocol.org/latest/topics/streaming-"
"and-async/[Streaming and Asynchronous Operations for Long-Running Tasks] "
"sections), a Task can move through various states."
msgstr ""
"A2A Java SDK 提供了管理异步、长期运行进程（我们称之为任务）的工具。正如 A2A 协议文档的 \" link:https://a2a-"
"protocol.org/latest/topics/key-concepts/[核心概念 \"] 部分（以及 \" link:https://a2a-"
"protocol.org/latest/topics/life-of-a-task/[任务的生命周期] \"和 \" link:https://a2a-"
"protocol.org/latest/topics/streaming-and-async/[长期运行任务的流和异步操作] "
"\"部分）所述，任务可以在各种状态中移动。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"A key design principle is that as long as a Task is in a non-final state, it "
"must be possible to send messages to do more work on it, or re-subscribe to "
"its events."
msgstr "一个关键的设计原则是，只要任务处于非最终状态，就必须能够发送信息对其执行更多工作，或重新订阅其事件。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"To manage this, the SDK relies on a few core components, and provides "
"simple, default implementations of those:"
msgstr "为了管理这些组件，SDK 依赖于几个核心组件，并为这些组件提供简单的默认实现："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/"
"main/java/io/a2a/server/tasks/TaskStore.java[`TaskStore`]: Manages the "
"lifecycle and persistence of https://github.com/a2aproject/a2a-java/blob/v0."
"3.1.Final/spec/src/main/java/io/a2a/spec/Task.java[`Task`] objects. The "
"default implementation is https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/server-common/src/main/java/io/a2a/server/tasks/InMemoryTaskStore."
"java[`InMemoryTaskStore`], which holds all `Task` information in memory."
msgstr ""
"link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/"
"src/main/java/io/a2a/server/tasks/TaskStore.java[TaskStore] :管理对象的生命周期和持久性。 "
"link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/spec/src/main/"
"java/io/a2a/spec/Task.java[Task] 对象的生命周期和持久性。默认实现是 link:https://github.com/"
"a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/main/java/io/a2a/"
"server/tasks/InMemoryTaskStore.java[InMemoryTaskStore] ，它将所有 `Task` "
"信息保存在内存中。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/"
"main/java/io/a2a/server/tasks/PushNotificationConfigStore."
"java[`PushNotificationConfigStore`]: Stores a client's push notification "
"configurations (like webhook URLs). The default is the https://github.com/"
"a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/main/java/io/a2a/"
"server/tasks/InMemoryPushNotificationConfigStore."
"java[`InMemoryPushNotificationConfigStore`]."
msgstr ""
"link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/"
"src/main/java/io/a2a/server/tasks/PushNotificationConfigStore."
"java[PushNotificationConfigStore] :存储客户端的推送通知配置（如 webhook URL）。默认为 link:"
"https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/"
"main/java/io/a2a/server/tasks/InMemoryPushNotificationConfigStore."
"java[InMemoryPushNotificationConfigStore] ."

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/"
"main/java/io/a2a/server/events/QueueManager.java[`QueueManager`]: This is "
"central to the asynchronous model. It creates and manages https://github.com/"
"a2aproject/a2a-java/blob/v0.3.1.Final/server-common/src/main/java/io/a2a/"
"server/events/EventQueue.java[`EventQueue`]s for tasks. In your A2A "
"applications, you will typically implement an `AgentExecutor`, which takes "
"an incoming message, and then puts events on the `EventQueue` to update the "
"`Task` with the results of the processing. The SDK then listens on this "
"`EventQueue` to update the `Task` in the `TaskStore`, and notify any clients "
"listening for updates. Clients listening for updates are ones that have "
"asked to resubscribe, or ones having sent a message, and are waiting for "
"results."
msgstr ""
"link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/server-common/"
"src/main/java/io/a2a/server/events/QueueManager.java[QueueManager] :"
"这是异步模型的核心。它为任务创建和管理 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/server-common/src/main/java/io/a2a/server/events/EventQueue."
"java[EventQueue] 任务。在您的 A2A 应用程序中，您通常会实现一个 `AgentExecutor` ，它接收传入的消息，然后在 "
"`EventQueue` 上放置事件，用处理结果更新 `Task` 。然后，SDK 监听该 `EventQueue` ，以更新 `TaskStore` "
"中的 `Task` ，并通知监听更新的任何客户端。监听更新的客户端包括已要求重新订阅的客户端，或已发送消息并正在等待结果的客户端。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"These in-memory implementations are simple and fast, making them perfect for "
"single-instance deployments, getting started, or testing. However, in a "
"distributed or cloud environment where service instances can be created or "
"destroyed, this in-memory state is lost, which breaks the guarantee for long-"
"running tasks. Also, since all the state is kept in memory, there are "
"overheads associated with this approach."
msgstr ""
"这些内存实现简单而快速，非常适合单实例部署、启动或测试。但是，在分布式或云环境中，服务实例可以创建或销毁，内存中的状态会丢失，从而无法保证任务的长期运行。此外，由于所有状态都保存在内存中，这种方法也会产生开销。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Distributed and Cloud Ready Implementations"
msgstr "分布式和云就绪实施"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"To run in a distributed environment, we needed to replace these in-memory "
"components with implementations that could persist state and coordinate "
"across multiple service instances. For this release, we introduced several "
"new components, which you can find in the https://github.com/a2aproject/a2a-"
"java/tree/v0.3.1.Final/extras[`extras/`] directory of the `a2a-java` "
"repository."
msgstr ""
"为了在分布式环境中运行，我们需要将这些内存组件替换为可以在多个服务实例之间保持状态和协调的实现。在此版本中，我们引入了几个新组件，您可以在 link:"
"https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/extras[extras/] "
"`a2a-java` 目录中。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Essentially, they are alternative implementations of the `TaskStore`, "
"`PushNotificationConfigStore` and `QueueManager` interfaces. They have been "
"annotated with the `@Alternative` and `@Priority` CDI annotations, so that "
"if their Maven modules is included in your build, these implementations will "
"take precedence over the default, in-memory ones."
msgstr ""
"本质上，它们是 `TaskStore` 、 `PushNotificationConfigStore` 和 `QueueManager` "
"接口的替代实现。它们已被注释为 `@Alternative` 和 `@Priority` CDI 注释，因此如果在构建过程中包含它们的 Maven "
"模块，这些实现将优先于默认的内存实现。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Each component has a README, and is fully tested with an integration test "
"for additional information about how to set it up."
msgstr "每个组件都有一个 README，并通过集成测试对其进行了全面测试，以获取有关如何设置的更多信息。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"While we are not aiming to provide support for every possible backend in "
"this repository, we hope that the examples given show that it is relatively "
"simple to provide other mechanisms to back the functionality."
msgstr "虽然我们的目标并不是为本版本库中所有可能的后端提供支持，但我们希望所给出的示例能表明，提供其他机制来支持功能是相对简单的。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Database-Backed TaskStore and PushNotificationStore"
msgstr "数据库支持的任务存储和推送通知存储"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "The simplest problem to solve was persistence. We introduced:"
msgstr "要解决的最简单的问题就是持久性。我们引入了"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/extras/task-store-"
"database-jpa/src/main/java/io/a2a/extras/taskstore/database/jpa/"
"JpaDatabaseTaskStore.java[`JpaDatabaseTaskStore`]: This persists `Task` "
"state to a relational database using Jakarta JPA. See the https://github.com/"
"a2aproject/a2a-java/tree/v0.3.1.Final/extras/task-store-database-jpa/README."
"md[README] for more details. The module also contains tests for additional "
"guidance for how to set it up."
msgstr ""
"link:https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/extras/task-"
"store-database-jpa/src/main/java/io/a2a/extras/taskstore/database/jpa/"
"JpaDatabaseTaskStore.java[JpaDatabaseTaskStore] :它使用 Jakarta JPA 将 `Task` "
"的状态持久化到关系数据库。详情请参见 link:https://github.com/a2aproject/a2a-java/tree/v0.3.1."
"Final/extras/task-store-database-jpa/README.md[README] "
"。该模块还包含测试，可为如何设置提供额外指导。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/push-"
"notification-config-store-database-jpa/src/main/java/io/a2a/extras/"
"pushnotificationconfigstore/database/jpa/"
"JpaDatabasePushNotificationConfigStore."
"java[`JpaDatabasePushNotificationConfigStore`]: This persists "
"`PushNotificationConfig` instances to a relational database using Jakarta "
"JPA. The https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/"
"push-notification-config-store-database-jpa/README.md[README] and the "
"module's tests contain more details."
msgstr ""
"link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/push-"
"notification-config-store-database-jpa/src/main/java/io/a2a/extras/"
"pushnotificationconfigstore/database/jpa/"
"JpaDatabasePushNotificationConfigStore."
"java[JpaDatabasePushNotificationConfigStore] :该模块使用 Jakarta JPA 将 "
"`PushNotificationConfig` 实例持久化到关系数据库。 link:https://github.com/a2aproject/a2a-"
"java/blob/v0.3.1.Final/extras/push-notification-config-store-database-jpa/"
"README.md[README] 和模块测试包含更多详细信息。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Replicated QueueManager"
msgstr "复制队列管理器"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"As for the `QueueManager`, it doesn't just store state. It also manages "
"active, in-memory message queues. If a client sends a message to a `Task` "
"via one A2A Agent instance, we need to make sure that subscribers to the "
"`Task` on other A2A Agent instances forming part of the cluster, also "
"receive the resulting `EventQueue` messages."
msgstr ""
"至于 `QueueManager` ，它不仅仅存储状态。它还管理活动的内存消息队列。如果客户端通过一个 A2A Agent 实例向 `Task` "
"发送消息，我们需要确保构成群集的其他 A2A Agent 实例上的 `Task` 订阅者也能接收到所产生的 `EventQueue` 消息。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We introduced the https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"extras/queue-manager-replicated/core/src/main/java/io/a2a/extras/"
"queuemanager/replicated/core/ReplicatedQueueManager."
"java[ReplicatedQueueManager] for this. The component is built with a "
"pluggable https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/"
"queue-manager-replicated/core/src/main/java/io/a2a/extras/queuemanager/"
"replicated/core/ReplicationStrategy.java[`ReplicationStrategy`] responsible "
"for pushing the events to other nodes in the cluster. It also notifies the "
"other nodes when an `EventQueue` for a `Task` is created, and when it is "
"closed."
msgstr ""
"为此，我们引入了 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"extras/queue-manager-replicated/core/src/main/java/io/a2a/extras/"
"queuemanager/replicated/core/ReplicatedQueueManager."
"java[ReplicatedQueueManager] 。该组件由一个可插拔的 link:https://github.com/a2aproject/"
"a2a-java/blob/v0.3.1.Final/extras/queue-manager-replicated/core/src/main/"
"java/io/a2a/extras/queuemanager/replicated/core/ReplicationStrategy."
"java[ReplicationStrategy] 负责将事件推送到集群中的其他节点。当 `Task` 的 `EventQueue` "
"创建和关闭时，它还会通知其他节点。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We provide one implementation of `ReplicationStrategy`, https://github.com/"
"a2aproject/a2a-java/blob/v0.3.1.Final/extras/queue-manager-replicated/"
"replication-mp-reactive/src/main/java/io/a2a/extras/queuemanager/replicated/"
"mp_reactive/ReactiveMessagingReplicationStrategy."
"java[`ReactiveMessagingReplicationStrategy`], which uses MicroProfile "
"Reactive Messaging under the hood to send and receive the replicated "
"`EventQueue` events. The nice thing about MicroProfile Reactive Messaging, "
"is that it is simple to configure alternative providers to do the actual "
"messaging part by changing properties in your `application.properties`. In "
"our tests, and examples we chose Kafka as the provider."
msgstr ""
"我们提供了一个 `ReplicationStrategy` 的实现、 link:https://github.com/a2aproject/a2a-"
"java/blob/v0.3.1.Final/extras/queue-manager-replicated/replication-mp-"
"reactive/src/main/java/io/a2a/extras/queuemanager/replicated/mp_reactive/"
"ReactiveMessagingReplicationStrategy."
"java[ReactiveMessagingReplicationStrategy] 它在引擎盖下使用 MicroProfile Reactive "
"Messaging 来发送和接收复制的 `EventQueue` 事件。MicroProfile Reactive Messaging "
"的好处在于，只需更改 `application.properties` "
"中的属性，就能轻松配置其他提供商来完成实际的消息传递工作。在我们的测试和示例中，我们选择 Kafka 作为提供商。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"However, you are not stuck with Kafka or MicroProfile Reactive Messaging. It "
"should be possible to plug in whichever mechanism you choose, as long as you "
"provide your own implementation of `ReactiveMessagingReplicationStrategy`."
msgstr ""
"不过，您也不必拘泥于 Kafka 或 MicroProfile Reactive Messaging。只要你提供自己的 "
"`ReactiveMessagingReplicationStrategy` 实现，就可以插入你选择的任何机制。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/queue-"
"manager-replicated/README.md[README], and the tests in the module provide "
"more information to help you, whether you want to learn more about how to "
"configure the `ReplicatedQueueManager`, or implement your own "
"`ReactiveMessagingReplicationStrategy`."
msgstr ""
"模块中的 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/extras/"
"queue-manager-replicated/README.md[README] 和测试提供了更多信息，无论你是想进一步了解如何配置 "
"`ReplicatedQueueManager` ，还是想实现自己的 `ReactiveMessagingReplicationStrategy` "
"，都可以从中获得帮助。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Stabilising the Server-Side"
msgstr "稳定服务器端"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Getting the `ReplicatedQueueManager` to work reliably required significant "
"improvements to our server-side request handling. We did a lot of work to "
"ensure that the event `EventQueue` associated with a `Task` is always "
"available for non-final `Task` s, and that they are reliably cleaned up when "
"a `Task` finishes, while ensuring that existing subscribers still get all "
"the events before the `EventQueue` is closed."
msgstr ""
"要使 `ReplicatedQueueManager` 稳定运行，需要对服务器端请求处理进行重大改进。我们做了大量工作，以确保与 `Task` "
"相关的事件 `EventQueue` 始终可用于非最终 `Task` ，并在 `Task` 结束时可靠地清理这些事件，同时确保现有订阅者在 "
"`EventQueue` 关闭前仍能获得所有事件。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"This was the final step needed to get a deployment working reliably on "
"Kubernetes, which is the focus of the next section."
msgstr "这是在 Kubernetes 上可靠部署所需的最后一步，也是下一节的重点。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Example: Running on Kubernetes"
msgstr "示例：在 Kubernetes 上运行"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Now let us see how to combine these new components in a real-world scenario. "
"We have created a new Kubernetes example demonstrating how to run a stateful "
"A2A Java application in a Kubernetes cluster. It focuses on the improved "
"implementations of `TaskStore` and `QueueManager`, and can be found https://"
"github.com/a2aproject/a2a-java/blob/v0.3.1.Final/examples/cloud-deployment/"
"README.md[here]."
msgstr ""
"现在，让我们看看如何在实际场景中结合这些新组件。我们创建了一个新的 Kubernetes 示例，演示如何在 Kubernetes 集群中运行有状态 "
"A2A Java 应用程序。该示例侧重于 `TaskStore` 和 `QueueManager` 的改进实现，可在 link:https://"
"github.com/a2aproject/a2a-java/blob/v0.3.1.Final/examples/cloud-deployment/"
"README.md[此处] 找到。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We will summarise the most important parts here below. We will look at how "
"to set everything up, and run the example, before showing the most important "
"parts of how the A2A Agent server is configured."
msgstr "下面我们将总结最重要的部分。在展示 A2A Agent 服务器配置的最重要部分之前，我们将介绍如何设置一切并运行示例。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
msgid "Prerequisites"
msgstr "先决条件"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "To run the example, you need to install the following:"
msgstr "要运行示例，需要安装以下程序："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "*Java*: Version 17 or higher"
msgstr "*Java* 版本 17 或更高"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "*Container runtime*: We have tested with Docker and Podman"
msgstr "*容器运行时* ：我们使用 Docker 和 Podman 进行了测试"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "*Maven*: 3.8.x or higher"
msgstr "*Maven* ： 3.8.x 或更高版本"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"*Kind*: For Kubernetes support. Note the example will only work with Kind. "
"Other implementations, such as Minikube, need other tweaks than Kind."
msgstr "*种类* 用于 Kubernetes 支持。请注意，该示例仅适用于 Kind。其他实现（如 Minikube）需要 Kind 以外的调整。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "*kubectl*: Kind does not automatically install a kubectl for you."
msgstr "*kubectl* ：Kind 不会自动为你安装 kubectl。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Deploying and running the example"
msgstr "部署和运行示例"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"From the https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/examples/"
"cloud-deployment/scripts[`scripts\\`] folder, run either:"
msgstr ""
"从 link:https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/examples/"
"cloud-deployment/scripts[scripts\\] 文件夹中，运行"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "`./deploy.sh`: if you use Docker"
msgstr "`./deploy.sh` ：如果您使用 Docker"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "`./deploy.sh --container-tool podman`: if you use Podman"
msgstr "`./deploy.sh --container-tool podman` 如果您使用 Podman"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/examples/cloud-"
"deployment/scripts/deploy.sh[`deploy.sh`] script will take care of "
"everything for you, and deploy your application. This includes"
msgstr ""
"该 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/examples/"
"cloud-deployment/scripts/deploy.sh[deploy.sh] 脚本将为您处理一切事务，并部署您的应用程序。其中包括"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Creating the Kind cluster with fully configured local registry support"
msgstr "创建支持完全配置本地注册表的 Kind 集群"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Building the A2A Agent application image and pushing it to the registry"
msgstr "构建 A2A Agent 应用程序映像并将其推送至注册表"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Install the Strimzi operator from https://strimzi.io/install/"
"latest?namespace=kafka"
msgstr "从 https://strimzi.io/install/latest?namespace=kafka 安装 Strimzi 操作器"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Deploy the files in the https://github.com/a2aproject/a2a-java/tree/v0.3.1."
"Final/examples/cloud-deployment/k8s[k8s/] directory ordered by their "
"numerical prefix. These:"
msgstr ""
"部署 link:https://github.com/a2aproject/a2a-java/tree/v0.3.1.Final/examples/"
"cloud-deployment/k8s[k8s/] 目录中按数字前缀排序的文件。这些文件"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Configure the `a2a-demo` namespace for our application"
msgstr "为我们的应用程序配置 `a2a-demo` 命名空间"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Installs PostgreSQL needed for our `JPADatabaseTaskStore`"
msgstr "安装我们的 `JPADatabaseTaskStore`"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Installs Kafka, using the Strimzi operator"
msgstr "使用 Strimzi 操作符安装 Kafka"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Creates the Kafka topic our A2A Agent applications will use to replicate "
"`EventQueue` events"
msgstr "创建我们的 A2A Agent 应用程序将用于复制 `EventQueue` 事件的 Kafka 主题"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Creates a `ConfigMap` containing database connection properties, kafka "
"bootstrap servers and the URL of the Agent"
msgstr "创建 `ConfigMap` ，其中包含数据库连接属性、kafka 引导服务器和代理的 URL"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Deploys our A2A Agent application"
msgstr "部署我们的 A2A Agent 应用程序"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Some of these steps take several minutes, so you need to be patient!"
msgstr "其中有些步骤需要几分钟时间，因此您需要耐心等待！"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Once everything is up and running you will see a message like this:"
msgstr "当一切就绪并开始运行后，你会看到这样一条信息："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"=========================================\n"
"Deployment completed successfully!\n"
"=========================================\n"
"\n"
"To verify the deployment, run:\n"
"  ./verify.sh\n"
"\n"
"To access the agent (via NodePort):\n"
"  curl http://localhost:8080/.well-known/agent-card.json\n"
"\n"
"To run the test client (demonstrating load balancing):\n"
"  cd ../server\n"
"  mvn test-compile exec:java -Dexec.classpathScope=test \\\n"
"    -Dexec.mainClass=\"io.a2a.examples.cloud.A2ACloudExampleClient\" \\\n"
"    -Dagent.url=\"http://localhost:8080\""
msgstr "\n"
" 部署成功完成！\n"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Now that everything is deployed, simply copy the above command and run it:"
msgstr "现在一切都已部署完毕，只需复制并运行上述命令即可："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "You should now see output like the following"
msgstr "现在应该可以看到如下输出"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"=============================================\n"
"A2A Cloud Deployment Example Client\n"
"=============================================\n"
"\n"
"Agent URL: http://localhost:8080\n"
"Process messages: 8\n"
"Message interval: 1500ms\n"
"\n"
"Fetching agent card...\n"
"✓ Agent: Cloud Deployment Demo Agent\n"
"✓ Description: Demonstrates A2A multi-pod deployment with Kafka event "
"replication, PostgreSQL persistence, and round-robin load balancing across "
"Kubernetes pods\n"
"\n"
"Client task ID: cloud-test-1761754920509\n"
"\n"
"Creating streaming client for subscription...\n"
"Creating non-streaming client for sending messages...\n"
"✓ Clients created\n"
"\n"
"Step 1: Sending 'start' to create task...\n"
"✓ Task created: 2b525ae8-0b2a-43c9-b2fa-007a8b618240\n"
"  State: SUBMITTED\n"
"\n"
"Step 2: Subscribing to task for streaming updates...\n"
"✓ Subscribed to task updates\n"
"\n"
"Step 3: Sending 8 'process' messages (interval: 1500ms)...\n"
"--------------------------------------------\n"
"  Artifact #1: Processed by a2a-agent-cb7fd769-5wr8g\n"
"    → Pod: a2a-agent-cb7fd769-5wr8g (Total unique pods: 1)\n"
"  Artifact #2: Processed by a2a-agent-cb7fd769-5wr8g\n"
"    → Pod: a2a-agent-cb7fd769-5wr8g (Total unique pods: 1)\n"
"✓ Process message 1 sent\n"
"✓ Process message 2 sent\n"
"  Artifact #3: Processed by a2a-agent-cb7fd769-x9tdm\n"
"    → Pod: a2a-agent-cb7fd769-x9tdm (Total unique pods: 2)\n"
"...\n"
"✓ Process message 8 sent\n"
"  Artifact #13: Processed by a2a-agent-cb7fd769-5wr8g\n"
"    → Pod: a2a-agent-cb7fd769-5wr8g (Total unique pods: 2)\n"
"\n"
"Waiting for process artifacts to arrive...\n"
"\n"
"Step 4: Sending 'complete' to finalize task...\n"
"  Artifact #14: Completed by a2a-agent-cb7fd769-5wr8g\n"
"    → Pod: a2a-agent-cb7fd769-5wr8g (Total unique pods: 2)\n"
"ℹ Subscription stream closed (expected after task completion)\n"
"✓ Complete message sent, task state: WORKING\n"
"\n"
"Waiting for task to complete...\n"
"⚠ Timeout waiting for task completion\n"
"\n"
"=============================================\n"
"Test Results\n"
"=============================================\n"
"Total artifacts received: 14\n"
"Unique pods observed: 2\n"
"Pod names and counts: {a2a-agent-cb7fd769-x9tdm=3, a2a-agent-cb7fd769-5wr8g="
"11}\n"
"\n"
"✓ TEST PASSED - Successfully demonstrated multi-pod processing!\n"
"  Messages were handled by 2 different pods.\n"
"  This proves that:\n"
"    - Load balancing is working (round-robin across pods)\n"
"    - Event replication is working (subscriber sees events from all pods)\n"
"    - Database persistence is working (task state shared across pods)"
msgstr "\n"
" A2A 云部署示例客户端\n"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The source code for the client can be found in https://github.com/a2aproject/"
"a2a-java/blob/v0.3.1.Final/examples/cloud-deployment/server/src/test/java/io/"
"a2a/examples/cloud/A2ACloudExampleClient.java[`A2ACloudExampleClient`]."
msgstr ""
"客户端的源代码可在 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"examples/cloud-deployment/server/src/test/java/io/a2a/examples/cloud/"
"A2ACloudExampleClient.java[A2ACloudExampleClient] ."

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We will not show the full source code here, but in a nutshell what the "
"client does is:"
msgstr "我们不会在这里展示完整的源代码，但简而言之，客户端的工作就是"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Fetch the `AgentCard` of our A2A Agent."
msgstr "获取 A2A 代理的 `AgentCard` 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Send an initial `Message` containing a `TextPart` with the text `create`. We "
"will see in the next section how the server uses this to create a new `Task`."
" This `Task` is then returned to the client, and on the server side the A2A "
"Java SDK will create an entry in the `JPADatabaseTaskStore` for the `Task`, "
"and also `ReplicatedQueueManager` makes sure that the `EventQueue` for the "
"`Task` remains open since the `Task` is in a non-final state."
msgstr ""
"发送一个包含 `TextPart` 的初始 `Message` ，文本为 `create` 。我们将在下一节中看到服务器如何使用它来创建一个新的 "
"`Task` 。然后，该 `Task` 将返回给客户端，在服务器端，A2A Java SDK 将在 `JPADatabaseTaskStore` 中为 "
"`Task` 创建一个条目，同时 `ReplicatedQueueManager` 将确保 `Task` 的 `EventQueue` "
"保持打开状态，因为 `Task` 处于非最终状态。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Calls `resubscribe()` for events to the `Task` we just created. The "
"resulting subscription is kept open until the end TODO step. It does not "
"matter if this call is handled on the same, or a different, node as in the "
"previous step since the `TaskStore` is backed by a database, and "
"`QueueManager` is replicated."
msgstr ""
"向我们刚刚创建的 `Task` 调用 `resubscribe()` 事件。由此产生的订阅将保持开放状态，直到 TODO 步骤结束。由于 "
"`TaskStore` 是由数据库支持的，而 `QueueManager` "
"是复制的，因此该调用是在与上一步相同的节点上处理还是在不同的节点上处理并不重要。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The client then sends several `process` `Message` s to the server. It "
"creates a new connection each time. Since there are two pods, it is not "
"deterministic which pod will handle the request. During the course of the "
"full run, both pods should get invoked. Again, updates to the `Task` should "
"be reflected in the database-backed `TaskStore` and all `Events` are "
"replicated to all nodes.  On the server-side, an `Artifact` is added to the "
"`Task` containing the name of the pod that processed the `Message`."
msgstr ""
"然后，客户端向服务器发送数个 `process` `Message` s。每次都会创建一个新连接。由于有两个 pod，因此无法确定哪个 pod "
"将处理请求。在整个运行过程中，两个 pod 都会被调用。同样，对 `Task` 的更新应反映在数据库支持的 `TaskStore` 中，并且所有 "
"`Events` 都会复制到所有节点。在服务器端，会在 `Task` 中添加一个 `Artifact` ，其中包含处理 `Message` 的 pod "
"的名称。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The subscriber from 3. outputs the messages as they come in, and keeps track "
"of which nodes have been involved in processing `Message` s. The information "
"about which node processed the message, is contained in the `Task` "
"artifacts, as mentioned in the last point."
msgstr ""
"3.中的订阅器在收到信息时将其输出，并记录哪些节点参与了 `Message` s 的处理。关于哪个节点处理了信息的信息，包含在 `Task` "
"的工件中，如上一点所述。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Finally, we send a `complete` `Message` to the A2A Agent, which puts the "
"`Task` in a final state. This causes the `EventQueue` to be closed, which in "
"turn causes the closure of the stream the client subscriber is subscribed to."
" Note that we receive the `Task` with this `completed` artifact from the "
"server before the stream and subscription end."
msgstr ""
"最后，我们向 A2A Agent 发送 `complete` `Message` ，使 `Task` 处于最终状态。这将导致 `EventQueue` "
"关闭，进而导致客户端订阅者订阅的流关闭。请注意，在流和订阅结束之前，我们会从服务器收到带有此 `completed` 工具的 `Task` 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The important thing to note, is that it does not matter which node the "
"client subscription happens on, nor which nodes the messages are sent on. "
"Since the `TaskStore` is persistent, and the `Event` s replicated, "
"everything is received by the client as if there was only one A2A Agent node "
"involved."
msgstr ""
"需要注意的是，客户端订阅发生在哪个节点上并不重要，信息发送到哪个节点也不重要。由于 `TaskStore` 是持久的，而 `Event` "
"是复制的，因此客户端接收到的所有信息都如同只有一个 A2A Agent 节点参与其中一样。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "The Server Part of the Application"
msgstr "应用程序的服务器部分"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"First let us look briefly at how the application has been written. As usual "
"in an A2A application, you provide implementations of `AgentCard` and "
"`AgentExecutor` via CDI."
msgstr ""
"首先，让我们简单了解一下应用程序的编写过程。在 A2A 应用程序中，您通常通过 CDI 提供 `AgentCard` 和 `AgentExecutor` "
"的实现。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Our `AgentCard` is provided by https://github.com/a2aproject/a2a-java/blob/"
"v0.3.1.Final/examples/cloud-deployment/server/src/main/java/io/a2a/examples/"
"cloud/CloudAgentCardProducer.java[`CloudAgentCardProducer`]. The most "
"important parts are highlighted:"
msgstr ""
"我们的 `AgentCard` 由 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/examples/cloud-deployment/server/src/main/java/io/a2a/examples/cloud/"
"CloudAgentCardProducer.java[CloudAgentCardProducer] .最重要的部分突出显示："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The agent url is configurable, and is set by https://github.com/a2aproject/"
"a2a-java/blob/v0.3.1.Final/examples/cloud-deployment/k8s/05-agent-deployment."
"yaml#L53[`k8s/05-agent-deployment.yaml`] referencing a value from the "
"ConfigMap configured in https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/examples/cloud-deployment/k8s/04-agent-configmap.yaml#L11[`k8s/04-"
"agent-configmap.yaml`]"
msgstr ""
"代理网址是可配置的，其设置方法是 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/examples/cloud-deployment/k8s/05-agent-deployment.yaml#L53[k8s/05-"
"agent-deployment.yaml] 中配置的配置表中的值来设置。 link:https://github.com/a2aproject/a2a-"
"java/blob/v0.3.1.Final/examples/cloud-deployment/k8s/04-agent-configmap."
"yaml#L11[k8s/04-agent-configmap.yaml]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We have enabled streaming, since this is needed for the `resubscribe()` call "
"done by the client"
msgstr "我们启用了流媒体功能，因为客户端在 `resubscribe()` 调用时需要它"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Then we have a brief description of the `start`, `process` and `complete` "
"'commands' we saw the client send"
msgstr "然后，我们简要介绍一下我们看到的客户端发送的 `start` 、 `process` 和 `complete` \"命令\"。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The `AgentExecutor` is provided by https://github.com/a2aproject/a2a-java/"
"blob/v0.3.1.Final/examples/cloud-deployment/server/src/main/java/io/a2a/"
"examples/cloud/CloudAgentExecutorProducer.java[`CloudAgentExecutorProducer`] "
"(some code has been removed to keep the example manageable):"
msgstr ""
"`AgentExecutor` 由 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1."
"Final/examples/cloud-deployment/server/src/main/java/io/a2a/examples/cloud/"
"CloudAgentExecutorProducer.java[CloudAgentExecutorProducer] "
"(为使示例易于管理，删除了部分代码）："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"A TaskUpdater is created with the `RequestContext` and the `EventQueue`. "
"Note that even for new `Task`s, the framework will have created the "
"`EventQueue` for us."
msgstr ""
"通过 `RequestContext` 和 `EventQueue` 创建了一个 TaskUpdater。请注意，即使对我们来说是新的 `Task`s, "
"the framework will have created the `EventQueue` 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We get the name of the pod, as configured in https://github.com/a2aproject/"
"a2a-java/blob/v0.3.1.Final/examples/cloud-deployment/k8s/05-agent-deployment."
"yaml#L29[`k8s/05-agent-deployment.yaml`]"
msgstr ""
"我们会得到在 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"examples/cloud-deployment/k8s/05-agent-deployment.yaml#L29[k8s/05-agent-"
"deployment.yaml]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The `start` command sent by the client ends up in this block. This makes a "
"few calls to update the state of the `Task` using the `TaskUpdater`, and "
"adds an `Artifact` indicating which pod started the `Task`. The "
"`TaskUpdater` internally puts `Events` on the `EventQueue` after each of the "
"calls on it, and the A2A Java SDK framework 'listens' to the queue, "
"resulting in updates to the `Task` in the `TaskStore`, and sending results "
"to any clients subscribed to the `Task` (or involved in making triggering "
"this request). Since the `EventQueue` is replicated, the events are also "
"pushed to other nodes in the cluster."
msgstr ""
"客户端发送的 `start` 命令最终会进入该代码块。这将进行几次调用，以使用 `TaskUpdater` 更新 `Task` 的状态，并添加一个 "
"`Artifact` ，说明是哪个 pod 启动了 `Task` 。 `TaskUpdater` 在每次调用后都会在 `EventQueue` 上放置 "
"`Events` ，A2A Java SDK 框架会 \"监听 \"队列，从而更新 `TaskStore` 中的 `Task` ，并将结果发送给订阅了 "
"`Task` 的任何客户端（或参与触发此请求的客户端）。由于 `EventQueue` 是复制的，因此事件也会被推送到集群中的其他节点。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The `process` messages end up in this block, which again add an `Artifact` "
"to the `Task` via the `TaskUpdater`, which adds an `Event` to the queue. The "
"`Event` is handled in the same way as in the above point."
msgstr ""
"`process` 报文最终会进入这个区块，并再次通过 `TaskUpdater` 向 `Task` 添加 `Artifact` ，然后再向队列添加 "
"`Event` 。 `Event` 的处理方法与上一点相同。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"When a `complete` message is received, we add an `Artifact` to the `Task` "
"using the `TaskUpdater`, indicating which pod is completing the `Task`, and "
"finally use the `TaskUpdater` to set the `Task` state to `completed`. This "
"again results in events on the `EventQueue`, which are handled as before. "
"However, the update to a final state causes the `EventQueue` to be closed, "
"which is also replicated to the other nodes."
msgstr ""
"当收到 `complete` 消息时，我们会使用 `TaskUpdater` 向 `Task` 添加 `Artifact` ，指出哪个 pod 正在完成 "
"`Task` ，最后使用 `TaskUpdater` 将 `Task` 状态设置为 `completed` 。这将再次导致 `EventQueue` "
"上的事件，这些事件的处理与之前一样。不过，更新到最终状态会导致 `EventQueue` 关闭，这也会复制到其他节点。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Configuring Quarkus for A2A with `ReplicatedQueueManager` and "
"`JPADatabaseTaskStore`"
msgstr "通过 `ReplicatedQueueManager` 和 `JPADatabaseTaskStore`"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The two main parts involved in configuring our application, are adding "
"dependencies to the POM, and adding configuration via `application."
"properties.` We will look at the POM first, and then look at the "
"configuration."
msgstr ""
"配置应用程序涉及两个主要部分，即在 POM 中添加依赖关系，以及通过 `application.properties.` 添加配置。我们将首先查看 "
"POM，然后查看配置。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Pom Dependencies"
msgstr "Pom 依赖项"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The full POM for the example can be found https://github.com/a2aproject/a2a-"
"java/blob/v0.3.1.Final/examples/cloud-deployment/server/pom.xml[here]. We "
"will talk about the most important dependencies below, step-by-step."
msgstr ""
"该示例的完整 POM 可在 link:https://github.com/a2aproject/a2a-java/blob/v0.3.1.Final/"
"examples/cloud-deployment/server/pom.xml[此处] 找到。下面我们将逐步介绍最重要的依赖关系。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Since we are building a Quarkus based server, and for this case we only want "
"the JSONRPC transport, we can include the following dependency which "
"transitively includes everything else we need for our base A2A Agent server:"
msgstr ""
"由于我们正在构建一个基于 Quarkus 的服务器，而且在这种情况下，我们只需要 JSONRPC 传输，因此我们可以加入以下依赖关系，其中包括我们的基础 "
"A2A Agent 服务器所需的其他一切："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Then to override the standard `InMemoryTaskStore` with the "
"`JpaDatabaseTaskStore`, and `InMemoryQueueManager` with "
"`ReplicatedQueueManager` we include their modules"
msgstr ""
"然后，为了用 `JpaDatabaseTaskStore` 覆盖标准 `InMemoryTaskStore` ，用 "
"`ReplicatedQueueManager` 覆盖 `InMemoryQueueManager` ，我们将它们的模块包括在内"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The `ReplicatedQueueManager` needs a `ReplicationStrategy`. Our "
"`ReactiveMessagingReplicationStrategy` is implemented by this module:"
msgstr ""
"`ReplicatedQueueManager` 需要一个 `ReplicationStrategy` 。我们的 "
"`ReactiveMessagingReplicationStrategy` 由该模块实现："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"We will configure the `ReactiveMessagingReplicationStrategy` to use Kafka "
"later, so we need the dependency to use Kafka with MicroProfile Reactive "
"Messaging:"
msgstr ""
"我们稍后将配置 `ReactiveMessagingReplicationStrategy` 以使用 Kafka，因此我们需要将 Kafka 与 "
"MicroProfile Reactive Messaging 相关联："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"For the `JpaDatabaseTaskStore`, we need to add Hibernate, which provides the "
"JPA functionality. Since our example uses PostgreSQL, we include its driver:"
msgstr ""
"对于 `JpaDatabaseTaskStore` ，我们需要添加提供 JPA 功能的 Hibernate。由于我们的示例使用的是 "
"PostgreSQL，所以我们也要添加它的驱动程序："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Finally, since we will be deploying our A2A agent in Kubernetes, which uses "
"readiness and liveness probes, we add the following dependency:"
msgstr ""
"最后，由于我们将在 Kubernetes 中部署 A2A 代理，而 Kubernetes 会使用就绪性和有效性探针，因此我们添加了以下依赖关系："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "That's it for the POM dependencies!"
msgstr "这就是 POM 依赖项！"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Additionally, the POM contains the `quarkus-maven-plugin`, used to build the "
"Quarkus server. This has no special configuration, so see the POM for more "
"details."
msgstr ""
"此外，POM 还包含用于构建 Quarkus 服务器的 `quarkus-maven-plugin` 。它没有特殊配置，详情请参见 POM。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Configuration in application.properties"
msgstr "应用程序属性中的配置"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The final piece of the puzzle is configuring the A2A Agent Quarkus "
"application in its https://github.com/a2aproject/a2a-java/blob/main/examples/"
"cloud-deployment/server/src/main/resources/application."
"properties[`application.properties`]. Again, let's discuss the contents in "
"chunks."
msgstr ""
"最后一块拼图是在 A2A Agent Quarkus 应用程序的 link:https://github.com/a2aproject/a2a-java/"
"blob/main/examples/cloud-deployment/server/src/main/resources/application."
"properties[application.properties] .让我们再次分块讨论这些内容。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"First we have some simple properties, setting the `agent.url` to use in the "
"`CloudAgentCardProducer`. We also define the location of the health endpoint."
""
msgstr ""
"首先，我们有一些简单的属性，在 `CloudAgentCardProducer` 中设置要使用的 `agent.url` 。我们还定义了健康终点的位置。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"`AGENT_URL` comes from https://github.com/a2aproject/a2a-java/blob/main/"
"examples/cloud-deployment/k8s/05-agent-deployment.yaml#L53[`05-agent-"
"deployment.yaml`], which in turn references the value defined in https://"
"github.com/a2aproject/a2a-java/blob/main/examples/cloud-deployment/k8s/04-"
"agent-configmap.yaml#L11[`04-agent-configmap.yaml`]."
msgstr ""
"`AGENT_URL` 来自 link:https://github.com/a2aproject/a2a-java/blob/main/"
"examples/cloud-deployment/k8s/05-agent-deployment.yaml#L53[05-agent-"
"deployment.yaml] 中定义的值。 link:https://github.com/a2aproject/a2a-java/blob/"
"main/examples/cloud-deployment/k8s/04-agent-configmap.yaml#L11[04-agent-"
"configmap.yaml] ."

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The endpoint matches what is expected by the readiness and liveness probes "
"in https://github.com/a2aproject/a2a-java/blob/main/examples/cloud-"
"deployment/k8s/05-agent-deployment.yaml#L65-L80[`05-agent-deployment.yaml`]."
msgstr ""
"该端点与 link:https://github.com/a2aproject/a2a-java/blob/main/examples/cloud-"
"deployment/k8s/05-agent-deployment.yaml#L65-L80[05-agent-deployment.yaml] ."

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Now we define the database used by our `JpaDatabaseTaskStore`:"
msgstr "现在，我们定义 `JpaDatabaseTaskStore` 所使用的数据库："

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The `DATABASE_URL`, `DATABASE_USER` and `DATABASE_PASSWORD` environment "
"variables used are defined in `04-agent-configmap.yaml` and exposed to the "
"application via `05-agent-deployment.yaml`."
msgstr ""
"使用的 `DATABASE_URL` 、 `DATABASE_USER` 和 `DATABASE_PASSWORD` 环境变量在 `04-agent-"
"configmap.yaml` 中定义，并通过 `05-agent-deployment.yaml` 向应用程序公开。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Next we have the configuration of the `a2a-java` JPA persistence unit, which "
"is used by `JpaDatabaseTaskStore` and `JpaPushNotificationConfigStore`."
msgstr ""
"接下来是 `a2a-java` JPA 持久化单元的配置，该单元由 `JpaDatabaseTaskStore` 和 "
"`JpaPushNotificationConfigStore` 使用。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Finally, we have the MicroProfile Reactive Messaging configuration, which "
"maps our channels to Kafka. For more information about how MicroProfile "
"Reactive Messaging works in Quarkus, see this https://quarkus.io/guides/"
"kafka-getting-started[guide]."
msgstr ""
"最后，我们有 MicroProfile Reactive Messaging 配置，它将我们的通道映射到 Kafka。有关 MicroProfile "
"Reactive Messaging 如何在 Quarkus 中工作的更多信息，请参阅本 link:https://quarkus.io/guides/"
"kafka-getting-started[指南] 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Under the hood, the `ReactiveMessagingReplicationStrategy` uses MicroProfile "
"Reactive Messaging. It uses an `Emitter` writing to a channel called "
"`replicated-events-out`, and has an `@Incoming` annotated method receiving "
"events from a channel called `replicated-events-in`."
msgstr ""
"在引擎盖下， `ReactiveMessagingReplicationStrategy` 使用 MicroProfile Reactive "
"Messaging。它使用 `Emitter` 写入名为 `replicated-events-out` 的通道，并使用 `@Incoming` "
"注释的方法从名为 `replicated-events-in` 的通道接收事件。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"`KAFKA_BOOTSTRAP_SERVERS` is defined in `04-agent-configmap.yaml` and "
"exposed to the application via `05-agent-deployment.yaml`."
msgstr ""
"`KAFKA_BOOTSTRAP_SERVERS` 在 `04-agent-configmap.yaml` 中定义，并通过 `05-agent-"
"deployment.yaml` 暴露给应用程序。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"Both the `replicated-events-out` and `replicated-events-in` channels use the "
"Kafka connector, send/receive on the same Kafka topic, and (de)serialize "
"`String`."
msgstr ""
"`replicated-events-out` 和 `replicated-events-in` 两个通道都使用 Kafka 连接器，在同一个 "
"Kafka 主题上发送/接收，并（去）序列化 `String` 。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"`POD_NAME` is exposed to the application in `05-agent-deployment.yaml`, "
"which obtains it from the Kubernetes metadata. This has the effect of "
"setting a unique groupId, so that all pods in the cluster receive the "
"replicated events."
msgstr ""
"`POD_NAME` 会暴露给 `05-agent-deployment.yaml` 中的应用程序，应用程序会从 Kubernetes "
"元数据中获取它。这样做的效果是设置一个唯一的 groupId，以便集群中的所有 pod 都能接收到复制的事件。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
msgid "Conclusion"
msgstr "解决方案"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"The simple in-memory of the components shown are great for getting up and "
"running fast. However, to work in an enterprise, distributed, or cloud "
"environment we need to replace these components to use shared state, in "
"order to survive server reboots and have replication between A2A Agent "
"instances."
msgstr ""
"图中所示的简单内存组件非常适合快速启动和运行。但是，为了在企业、分布式或云环境中运行，我们需要替换这些组件，使用共享状态，以便在服务器重启后继续运行，并在 "
"A2A Agent 实例之间进行复制。"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "Further Reading"
msgstr "更多阅读"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://quarkus.io/blog/quarkus-a2a-java-0-3-0-alpha-release/[Getting "
"Started with Quarkus and A2A Java SDK 0.3.0]"
msgstr ""
"link:https://quarkus.io/blog/quarkus-a2a-java-0-3-0-alpha-release/[Quarkus 和 "
"A2A Java SDK 0.3.0 入门]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://quarkus.io/blog/quarkus-a2a-java-0-3-0-beta-release/[A2A Java SDK: "
"Support for the REST Transport is Now Here]"
msgstr ""
"link:https://quarkus.io/blog/quarkus-a2a-java-0-3-0-beta-release/[A2A Java "
"SDK：支持 REST 传输]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://quarkus.io/blog/quarkus-a2a-java-grpc/[Getting Started with A2A Java "
"SDK and gRPC]"
msgstr ""
"link:https://quarkus.io/blog/quarkus-a2a-java-grpc/[A2A Java SDK 和 gRPC 入门]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-samples/tree/main/samples/java/agents[A2A "
"Java SDK Samples]"
msgstr ""
"link:https://github.com/a2aproject/a2a-samples/tree/main/samples/java/"
"agents[A2A Java SDK 示例]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid ""
"https://github.com/a2aproject/a2a-java/blob/main/README.md[A2A Java SDK "
"Documentation]"
msgstr ""
"link:https://github.com/a2aproject/a2a-java/blob/main/README.md[A2A Java SDK "
"文档]"

#: _posts/2025-10-31-quarkus-a2a-cloud-enhancements.adoc
#, fuzzy
msgid "https://a2a-protocol.org/latest/specification/[A2A Specification]"
msgstr "link:https://a2a-protocol.org/latest/specification/[A2A 规格]"
