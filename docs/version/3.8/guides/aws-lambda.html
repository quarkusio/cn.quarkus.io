<!DOCTYPE html>
<html lang="cn">







<head>
  <title>AWS Lambda - 3.8 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.8/guides/aws-lambda" />
  <meta property="og:title" content="AWS Lambda - 3.8" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/aws-lambda">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.8/guides/aws-lambda" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.8/guides/aws-lambda" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.8/guides/aws-lambda" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.8/guides/aws-lambda" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.8/guides/aws-lambda" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/version/3.8/guides/aws-lambda">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUS是什么？</a></li>
          <li><a href="/developer-joy" class="">开发者的乐趣 </a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES 原生</a></li>
          <li><a href="/standards" class="">标准</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">容器优先 </a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入门</a></li>
          <li><a href="/guides" class="active" >指南</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP视频</a></li>          
          <li><a href="/books" class="">书籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">浏览扩展</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">使用扩展</a></li>
          <li><a href="/guides/writing-extensions" class="" >创建扩展</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">支持</a></li>
          <li><a href="/blog" class="" >博客</a></li>
          <li><a href="/discussion" class="">讨论</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="" >播客</a></li>
          <li><a href="/events" class="">活动</a></li>
          <li><a href="/newsletter" class="">新闻</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">路线图</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">开始编码</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.8/guides/aws-lambda" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.8/guides/aws-lambda">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.8/guides/aws-lambda">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.8/guides/aws-lambda">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.8/guides/aws-lambda">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    





<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.8/guides/">返回指南目录</a>
    </div>
    <div class="flexlabel">
      <label>选择指南版本</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.28.5 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" selected>3.8</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      <h1 class="text-caps">AWS Lambda </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><code>quarkus-amazon-lambda</code> 扩展允许你使用Quarkus来构建你的AWS Lambdas。你的Lambdas可以根据需要使用来自CDI或Spring的注入注解，以及其他Quarkus设施。</p>
</div>
<div class="paragraph">
<p>Quarkus lambdas可以使用Amazon Java Runtime进行部署，如果你想要更小的内存占用和更快的冷启动启动时间，你也可以构建一个本地可执行文件，并使用Amazon的Custom Runtime。</p>
</div>
<div class="paragraph">
<p>Quarkus&#8217;s integration with lambdas also supports Quarkus&#8217;s Live Coding development cycle.  You can
bring up your Quarkus lambda project in dev or test mode and code on your project live.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>先决条件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要完成这个指南，你需要：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>大概30 minutes</p>
</li>
<li>
<p>编辑器</p>
</li>
<li>
<p>JDK 17+ installed with <code>JAVA_HOME</code> configured appropriately</p>
</li>
<li>
<p>Apache Maven 3.9.6</p>
</li>
<li>
<p>如果你愿意的话，还可以选择使用<a href="cli-tooling">Quarkus CLI</a></p>
</li>
<li>
<p>如果你想构建原生可执行程序，可以选择安装Mandrel或者GraalVM，并<a href="building-native-image#configuring-graalvm">正确配置</a>(或者使用Docker在容器中进行构建)</p>
</li>
<li>
<p><a href="https://aws.amazon.com">An Amazon AWS account</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html">AWS CLI</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html">AWS SAM CLI</a> ，用于本地测试</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
对于Gradle项目，请 <a href="#gradle">见下文</a> ，或进一步参考 <a href="gradle-tooling.html">Gradle设置页面</a>中 的指南。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>入门指南</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本指南将指导你通过一个maven原型生成一个Java项目的例子，并将其部署到AWS。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-aws-bits"><a class="anchor" href="#installing-aws-bits"></a>安装AWS位</h2>
<div class="sectionbody">
<div class="paragraph">
<p>安装所有AWS位可能是本指南中最困难的事情。请确保你遵循安装AWS CLI的所有步骤。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-maven-deployment-project"><a class="anchor" href="#creating-the-maven-deployment-project"></a>创建Maven部署项目</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用我们的Maven Archetype创建Quarkus AWS Lambda maven项目。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn archetype:generate \
       -DarchetypeGroupId=io.quarkus \
       -DarchetypeArtifactId=quarkus-amazon-lambda-archetype \
       -DarchetypeVersion=3.8.6.1</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果你喜欢使用Gradle，你可以通过 <a href="https://code.quarkus.io/">code.quarkus.io</a> 将 <code>quarkus-amazon-lambda</code> 扩展添加为依赖项，来快速而轻松地生成一个Gradle项目。</p>
</div>
<div class="paragraph">
<p>Copy the build.gradle, gradle.properties and settings.gradle into the above-generated Maven archetype project, to follow along with this guide.</p>
</div>
<div class="paragraph">
<p>Execute: gradle wrapper to set up the gradle wrapper (recommended).</p>
</div>
<div class="paragraph">
<p>For full Gradle details, see the <a href="#gradle">Gradle build</a> section below.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="choose"><a class="anchor" href="#choose"></a>选择你的Lambda</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>quarkus-amazon-lambda</code> extension scans your project for a class that directly implements the Amazon <code>RequestHandler&lt;?, ?&gt;</code> or <code>RequestStreamHandler</code> interface.
It must find a class in your project that implements this interface, or it will throw a build time failure.
If it finds more than one handler class, a build time exception will also be thrown.</p>
</div>
<div class="paragraph">
<p>但有时，你可能会有几个共享代码的相关lambdas，创建多个maven模块是你不想做的开销。 <code>quarkus-amazon-lambda</code> 扩展允许你在一个项目中捆绑多个lambdas，并使用配置或环境变量来选择你要部署的处理程序。</p>
</div>
<div class="paragraph">
<p>生成的项目里有三个lambdas。两个实现 <code>RequestHandler&lt;?, ?&gt;</code> 接口，一个实现 <code>RequestStreamHandler</code> 接口。使用了一个，另两个未使用。如果你打开 <code>src/main/resources/application.properties</code> ，你会看到：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.lambda.handler=test</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>quarkus.lambda.handler</code> 属性告诉Quarkus要部署哪个lambda处理程序。这也可以用一个环境变量来覆盖。</p>
</div>
<div class="paragraph">
<p>如果你查看项目中生成的三个处理程序类，你会发现它们的 <code>@Named</code> 不同。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Named("test")
public class TestLambda implements RequestHandler&lt;InputObject, OutputObject&gt; {
}

@Named("unused")
public class UnusedLambda implements RequestHandler&lt;InputObject, OutputObject&gt; {
}

@Named("stream")
public class StreamLambda implements RequestStreamHandler {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>处理程序类的CDI名称必须与 <code>quarkus.lambda.handler</code> 属性中指定的值匹配。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy-to-aws-lambda-java-runtime"><a class="anchor" href="#deploy-to-aws-lambda-java-runtime"></a>部署到AWS Lambda Java Runtime</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有几个步骤可以让lambda在AWS上运行。生成的maven项目包含一个有用的脚本，来为纯Java和原生部署创建、更新、删除和调用你的lambda。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-and-deploy"><a class="anchor" href="#build-and-deploy"></a>构建和部署</h2>
<div class="sectionbody">
<div class="paragraph">
<p>构建项目。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build</code></pre>
</div>
</div>
<div class="paragraph">
<p>这将对你的代码进行编译和打包。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-an-execution-role"><a class="anchor" href="#create-an-execution-role"></a>创建一个执行角色</h2>
<div class="sectionbody">
<div class="paragraph">
<p>查看使用AWS CLI部署lambda的 <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-awscli.html">入门指南</a> 。具体来说，确保你已经创建了一个 <code>Execution Role</code> 。你需要在你的配置文件或控制台窗口中定义一个 <code>LAMBDA_ROLE_ARN</code> 环境变量，或者，你可以编辑由构建生成的 <code>manage.sh</code> 脚本，并把角色值直接放在那里：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">LAMBDA_ROLE_ARN="arn:aws:iam::1234567890:role/lambda-role"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extra-build-generated-files"><a class="anchor" href="#extra-build-generated-files"></a>构建额外生成的文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you run the build, there are a few extra files generated by the <code>quarkus-amazon-lambda</code> extension.  These files
are in the build directory:  <code>target/</code> for maven, <code>build/</code> for gradle.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>function.zip</code> - lambda deployment file</p>
</li>
<li>
<p><code>manage.sh</code> - wrapper around aws lambda cli calls</p>
</li>
<li>
<p> <code>bootstrap-example.sh</code> - 用于原生部署的bootstrap脚本示例</p>
</li>
<li>
<p> <code>sam.jvm.yaml</code> - (可选)用于sam cli和本地测试</p>
</li>
<li>
<p> <code>sam.native.yaml</code> - (可选)，用于Sam cli和原生本地测试</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-the-function"><a class="anchor" href="#create-the-function"></a>创建函数</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>target/manage.sh</code> 脚本是用于使用AWS Lambda Java runtime管理你的lambda。此脚本只是为了方便你而提供。如果你想了解执行哪些aws命令来创建、删除和更新你的lambdas，请检查 <code>manage.sh</code> 脚本的输出。</p>
</div>
<div class="paragraph">
<p><code>manage.sh</code> 支持四种操作： <code>create</code>， <code>delete</code>， <code>update</code> 和 <code>invoke</code> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To verify your setup, that you have the AWS CLI installed, executed aws configure for the AWS access keys,
and set up the <code>LAMBDA_ROLE_ARN</code> environment variable (as described above), please execute <code>manage.sh</code> without any parameters.
A usage statement will be printed to guide you accordingly.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果使用Gradle， <code>manage.sh</code> 中二进制文件的路径必须从 <code>target</code> 变为 <code>build</code> 
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>要查看  <code>用法</code>  声明，并验证AWS配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>你可以使用以下命令 <code>创建</code> 你的函数：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh create</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者如果在这个shell中没有定义 <code>LAMBDA_ROLE_ARN</code> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">LAMBDA_ROLE_ARN="arn:aws:iam::1234567890:role/lambda-role" sh target/manage.sh create</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
不要改变处理程序的开关。这必须被硬编码为 <code>io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest</code> 。这个处理程序引导Quarkus，并包装你实际的处理程序，以便可以执行注入。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>如果在创建函数时有任何问题，你必须在重新运行 <code>create</code> 命令之前使用 <code>delete</code> 函数来删除它。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh delete</code></pre>
</div>
</div>
<div class="paragraph">
<p>命令也可以是叠加的：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh delete create</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="invoke-the-lambda"><a class="anchor" href="#invoke-the-lambda"></a>调用Lambda</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 <code>invoke</code> 命令来调用你的函数。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh invoke</code></pre>
</div>
</div>
<div class="paragraph">
<p>这个lambda示例接受通过 <code>--payload</code> 开关传入的输入，该开关指向项目根目录中的一个json文件。</p>
</div>
<div class="paragraph">
<p>这个lambda也可以使用SAM CLI在本地调用，如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sam local invoke --template target/sam.jvm.yaml --event payload.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果你正在使用原生镜像构建，只需将模板名称替换为原生版本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sam local invoke --template target/sam.native.yaml --event payload.json</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-lambda"><a class="anchor" href="#update-the-lambda"></a>更新Lambda</h2>
<div class="sectionbody">
<div class="paragraph">
<p>你可以在你认为合适的时候更新Java代码。一旦你重建了，你可以通过执行 <code>update</code> 命令来重新部署你的lambda。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh update</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy-to-aws-lambda-custom-native-runtime"><a class="anchor" href="#deploy-to-aws-lambda-custom-native-runtime"></a>部署到AWS Lambda Custom (native) Runtime</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want a lower memory footprint and faster initialization times for your lambda, you can compile your Java
code to a native executable.  Just make sure to rebuild your project with the <code>-Dnative</code> switch.</p>
</div>
<div class="paragraph">
<p>对于Linux主机，执行。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install -Dnative</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.package.type=native</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果你在非Linux系统上构建，你还需要传入一个属性，指示Quarkus使用docker构建，因为Amazon Lambda需要linux二进制文件。你可以通过向你的构建传递这个属性来实现： <code>-Dquarkus.native.container-build=true</code> 。不过，这需要你在本地安装了Docker。
</td>
</tr>
</table>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native --no-tests -Dquarkus.native.container-build=true
# The --no-tests flag is required only on Windows and macOS.</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install -Dnative -DskipTests -Dquarkus.native.container-build=true</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.package.type=native -Dquarkus.native.container-build=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>这两个命令中的任何一个都会编译并创建一个本地可执行镜像。它还会生成一个zip文件 <code>target/function.zip</code> 。这个zip文件包含已重命名为 <code>bootstrap</code> 的本地可执行镜像，。这是AWS Lambda Custom (Provided) Runtime的要求。</p>
</div>
<div class="paragraph">
<p>这里的说明与上面的完全一样，但有一个变化：你需要将 <code>native</code> 作为第一个参数添加到 <code>manage.sh</code> 脚本中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh target/manage.sh native create</code></pre>
</div>
</div>
<div class="paragraph">
<p>如上所述，命令可以叠加。如果你想使用原生镜像构建，唯一的要求是 <code>native</code> 是第一个参数。该脚本将处理管理你原生镜像功能部署所需的其余细节。</p>
</div>
<div class="paragraph">
<p>如果你想了解执行了哪些aws命令来创建、删除和更新lambdas，请检查 <code>manage.sh</code> 脚本的输出。</p>
</div>
<div class="paragraph">
<p>对于原生的创建命令，需要注意的一点是， <code>aws lambda create-function</code> 调用必须设置一个特定的环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">--environment 'Variables={DISABLE_SIGNAL_HANDLERS=true}'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examine-the-pom-and-gradle-build"><a class="anchor" href="#examine-the-pom-and-gradle-build"></a>检查POM和Gradle构建</h2>
<div class="sectionbody">
<div class="paragraph">
<p>除了将 <code>quarkus-amazon-lambda</code> 扩展作为一个依赖项之外，POM并没有什么特别之处。该扩展会为你的lambda部署自动生成可能需要的一切。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In previous versions of this extension, you had to set up your pom or gradle
to zip up your executable for native deployments, but this is not the case anymore.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gradle"><a class="anchor" href="#gradle"></a>Gradle build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Similarly, for Gradle projects, you also just have to add the <code>quarkus-amazon-lambda</code> dependency.  The extension automatically generates everything you might need
for your lambda deployment.</p>
</div>
<div class="paragraph">
<p>Gradle依赖项示例：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    implementation enforcedPlatform("${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}")
    implementation 'io.quarkus:quarkus-resteasy'
    implementation 'io.quarkus:quarkus-amazon-lambda'

    testImplementation 'io.quarkus:quarkus-junit5'
    testImplementation 'io.rest-assured:rest-assured'
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="live-coding-and-unitintegration-testing"><a class="anchor" href="#live-coding-and-unitintegration-testing"></a>实时编码和单元/集成测试</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To mirror the AWS Lambda environment as closely as possible in a dev environment,
the Quarkus AWS Lambda extension boots up a mock AWS Lambda event server in Quarkus Dev and Test mode.
This mock event server simulates a true AWS Lambda environment.</p>
</div>
<div class="paragraph">
<p>当在Quarkus开发模式下运行时，你可以对  <code>&lt;a href="http://localhost:8080" class="bare"&gt;<a href="http://localhost:8080&lt;/a&gt" class="bare">http://localhost:8080&lt;/a&gt</a>;</code>  执行HTTP POST来向它提供事件。模拟事件服务器将接收事件，你的lambda将被调用。你可以在你的lambda上执行实时编码，所做的修改将自动被重新编译，并在下次调用时可用。下面是一个例子：</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew --console=plain quarkusDev</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl -d "{\"name\":\"John\"}" -X POST http://localhost:8080</code></pre>
</div>
</div>
<div class="paragraph">
<p>For your unit tests, you can also invoke on the mock event server using any HTTP client you want.  Here&#8217;s an example
using rest-assured.  Quarkus starts up a separate Mock Event server under port 8081.
The default port for Rest Assured is automatically set to 8081 by Quarkus, so you can invoke
on this endpoint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.junit.jupiter.api.Test;

import io.quarkus.test.junit.QuarkusTest;

import static io.restassured.RestAssured.given;
import static org.hamcrest.CoreMatchers.containsString;

@QuarkusTest
public class LambdaHandlerTest {

    @Test
    public void testSimpleLambdaSuccess() throws Exception {
        Person in = new Person();
        in.setName("Stu");
        given()
                .contentType("application/json")
                .accept("application/json")
                .body(in)
                .when()
                .post()
                .then()
                .statusCode(200)
                .body(containsString("Hello Stu"));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The mock event server is also started for <code>@QuarkusIntegrationTest</code> tests so will work
with native binaries too.  All this provides similar functionality to the SAM CLI local testing, without the overhead of Docker.</p>
</div>
<div class="paragraph">
<p>最后，如果端口8080或端口8081在你的电脑上不可用，你可以使用application.properties修改开发和测试模式的端口</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">quarkus.lambda.mock-event-server.dev-port=8082
quarkus.lambda.mock-event-server.test-port=8083</code></pre>
</div>
</div>
<div class="paragraph">
<p>端口值为零将导致随机分配端口。</p>
</div>
<div class="paragraph">
<p>To turn off the mock event server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">quarkus.lambda.mock-event-server.enabled=false</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-with-the-sam-cli"><a class="anchor" href="#testing-with-the-sam-cli"></a>使用SAM CLI进行测试</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果你不想使用模拟事件服务器，你可以用SAM CLI测试lambdas。</p>
</div>
<div class="paragraph">
<p><a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html">AWS SAM CLI</a> 允许你在模拟的Lambda环境中在你的笔记本电脑上本地运行lambdas。这需要安装 <a href="https://www.docker.com/products/docker-desktop">docker</a> 。如果你选择使用它，这是一个可选的方法。否则，Quarkus的JUnit集成应该足以满足你的大部分需求。</p>
</div>
<div class="paragraph">
<p>已经为JVM和原生执行模式生成了一个启动模板。</p>
</div>
<div class="paragraph">
<p>运行下面的SAM CLI命令来本地测试你的lambda函数，传递合适的SAM <code>模板</code> 。 <code>event</code> 参数使用任何JSON文件，在本例中是样本 <code>payload.json</code> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果使用Gradle，YAML模板中的二进制文件的路径必须从 <code>target</code> 改为 <code>build</code> 
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sam local invoke --template target/sam.jvm.yaml --event payload.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>本地镜像也可以使用  <code>sam.native.yaml</code>  模板进行本地测试：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sam local invoke --template target/sam.native.yaml --event payload.json</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="modifying-function-zip"><a class="anchor" href="#modifying-function-zip"></a>修改 <code>function.zip</code> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are times when you may have to add some additions to the <code>function.zip</code> lambda deployment that is generated
by the build.  To do this, create a <code>zip.jvm</code> or <code>zip.native</code> directory within <code>src/main</code>.
Create <code>zip.jvm/</code> if you are doing a pure Java lambda.  <code>zip.native/</code> if you are doing a native deployment.</p>
</div>
<div class="paragraph">
<p>你在zip目录下创建的任何文件和目录都将包括在 <code>function.zip</code> 内</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-bootstrap-script"><a class="anchor" href="#custom-bootstrap-script"></a>自定义 <code>bootstrap</code> 脚本</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有些时候你可能想在lambda调用你的原生quarkus lambda部署时设置特定的系统属性或其他参数。如果你在 <code>zip.native</code> 中包含一个 <code>bootstrap</code> 脚本文件，quarkus 扩展会在 <code>function.zip</code> 中自动将可执行文件重命名为 <code>runner</code> ，并将 <code>bootstrap</code> 脚本的 unix 模式设置为可执行。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果你包含一个自定义的 <code>bootstrap</code> 脚本，那么本地可执行文件必须被引用为 <code>runner</code> 。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>扩展会在 <code>target/bootstrap-example.sh</code> 中生成了一个示例脚本。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tracing-with-aws-xray-and-graalvm"><a class="anchor" href="#tracing-with-aws-xray-and-graalvm"></a>使用AWS XRay和GraalVM进行追踪</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果你正在构建原生镜像，并希望在你的lambda中使用 <a href="https://aws.amazon.com/xray">AWS X-Ray 追踪</a> ，你将需要在你的pom中把 <code>quarkus-amazon-lambda-xray</code> 作为一个依赖项来包括。AWS X-Ray库与GraalVM并不完全兼容，因此我们不得不做一些整合工作来使其可以正常工作。</p>
</div>
<div class="paragraph">
<p>此外，记得在 <code>manage.sh</code> ， <code>cmd_create()</code> 函数中启用AWS X-Ray追踪参数。这也可以在AWS管理控制台中进行设置。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">    --tracing-config Mode=Active</code></pre>
</div>
</div>
<div class="paragraph">
<p>对于Sam模板文件，将以下内容添加到YAML函数属性中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">    Tracing: Active</code></pre>
</div>
</div>
<div class="paragraph">
<p>AWS X-Ray确实在你的发行版中添加了许多类，确保你至少使用了256MB的AWS Lambda内存大小。这在 <code>manage.sh</code> <code>cmd_create()</code> 中进行了明确的设置。虽然原生镜像可能总是使用较低的内存设置，但建议保持设置不变，特别是为了帮助比较性能。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="https"><a class="anchor" href="#https"></a>使用HTTPS或SSL/TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your code makes HTTPS calls (e.g. to a microservice, to an AWS service), you will need to add configuration to the native image,
as GraalVM will only include the dependencies when explicitly declared.  Quarkus, by default enables this functionality on extensions that implicitly require it.
For further information, please consult the <a href="native-and-ssl">Quarkus SSL guide</a></p>
</div>
<div class="paragraph">
<p>打开src/main/resources/application.properties，并在你的原生镜像中添加以下行来启用SSL。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.ssl.native=true</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aws-sdk-v2"><a class="anchor" href="#aws-sdk-v2"></a>使用AWS Java SDK v2</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Quarkus现在有DynamoDB、S3、SNS和SQS的扩展（还会有更多）。请查看 <a href="https://quarkiverse.github.io/quarkiverse-docs/quarkus-amazon-services/dev/index.html">那些指南</a> 关于如何使用带有Quarkus的各种AWS服务 ，而不是像下面这样手动连接。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>通过最小的整合，可以利用AWS Java SDK v2，其可以用来调用诸如SQS、SNS、S3和DynamoDB等服务。</p>
</div>
<div class="paragraph">
<p>For native image, however, the URL Connection client must be preferred over the Apache HTTP Client
when using synchronous mode, due to issues in the GraalVM compilation (at present).</p>
</div>
<div class="paragraph">
<p>把 <code>quarkus-jaxb</code> 作为一个依赖项添加到你的Maven <code>pom.xml</code> ，或Gradle <code>build.gradle</code> 文件中。</p>
</div>
<div class="paragraph">
<p>You must also force your AWS service client for SQS, SNS, S3 et al., to use the URL Connection client,
which connects to AWS services over HTTPS, hence the inclusion of the SSL enabled property, as described in the <a href="#https">使用HTTPS或SSL/TLS</a> section above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// select the appropriate client, in this case SQS, and
// insert your region, instead of XXXX, which also improves startup time over the default client
  client = SqsClient.builder().region(Region.XXXX).httpClient(software.amazon.awssdk.http.urlconnection.UrlConnectionHttpClient.builder().build()).build();</code></pre>
</div>
</div>
<div class="paragraph">
<p>对于Maven，在你的 <code>pom.xml</code> 中添加以下内容。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">    &lt;properties&gt;
        &lt;aws.sdk2.version&gt;2.10.69&lt;/aws.sdk2.version&gt;
    &lt;/properties&gt;

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
                &lt;artifactId&gt;bom&lt;/artifactId&gt;
                &lt;version&gt;${aws.sdk2.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;

        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;
    &lt;dependencies&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
            &lt;artifactId&gt;apache-client&lt;/artifactId&gt;
            &lt;exclusions&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;
                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
            &lt;!-- sqs/sns/s3 etc --&gt;
            &lt;artifactId&gt;sqs&lt;/artifactId&gt;
            &lt;exclusions&gt;
                &lt;!-- exclude the apache-client and netty client --&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;
                &lt;/exclusion&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;
                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;
                &lt;/exclusion&gt;
                &lt;exclusion&gt;
                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;
                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
                &lt;/exclusion&gt;
            &lt;/exclusions&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;
            &lt;artifactId&gt;commons-logging-jboss-logging&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果你看到 <code>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty</code> 或类似的SSL错误，由于GraalVM的当前状态，有一些额外的工作来捆绑 <code>function.zip</code> ，如下所示。更多信息，请参见 <a href="native-and-ssl.html">Quarkus Native SSL指南</a> 。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-requirements-for-client-ssl"><a class="anchor" href="#additional-requirements-for-client-ssl"></a>对客户端SSL的额外要求</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本地可执行文件需要一些额外的步骤来启用S3和其他AWS库需要的客户端SSL。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>一个自定义的 <code>bootstrap</code> 脚本</p>
</li>
<li>
<p>必须将 <code>libsunec.so</code> 添加到 <code>function.zip</code> 中</p>
</li>
<li>
<p>必须将 <code>cacerts</code> 添加到 <code>function.zip</code> 中</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To do this, first create a directory <code>src/main/zip.native/</code> with your build.  Next create a shell script file called <code>bootstrap</code>
within <code>src/main/zip.native/</code>, like below. An example is created automatically in your build folder (target or build), called <code>bootstrap-example.sh</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/usr/bin/env bash

./runner -Djava.library.path=./ -Djavax.net.ssl.trustStore=./cacerts</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果你的 <code>cacerts</code> 文件有密码保护，则额外设置 <code>-Djavax.net.ssl.trustStorePassword=changeit</code> 。</p>
</div>
<div class="paragraph">
<p>接下来，你必须将GraalVM发行版中的一些文件复制到 <code>src/main/zip.native/</code> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
GraalVM versions can have different paths for these files whether you are using the Java 8 or 11 version. Adjust accordingly.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cp $GRAALVM_HOME/lib/libsunec.so $PROJECT_DIR/src/main/zip.native/
cp $GRAALVM_HOME/lib/security/cacerts $PROJECT_DIR/src/main/zip.native/</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在，当你运行原生构建时，所有这些文件都将包含在 <code>function.zip</code> 中</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果你使用Docker镜像来进行构建，那么你必须从这个镜像中提取这些文件。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>要提取所需的ssl，你必须在后台启动一个Docker容器，并附加到该容器来复制工件。</p>
</div>
<div class="paragraph">
<p>首先，让我们启动GraalVM容器，注意容器ID的输出。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker run -it -d --entrypoint bash quay.io/quarkus/ubi-quarkus-mandrel-builder-image:jdk-21

# This will output a container id, like 6304eea6179522aff69acb38eca90bedfd4b970a5475aa37ccda3585bc2abdde
# Note this value as we will need it for the commands below</code></pre>
</div>
</div>
<div class="paragraph">
<p>First, <code>libsunec.so</code>, the C library used for the SSL implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker cp {container-id-from-above}:/opt/graalvm/lib/libsunec.so src/main/zip.native/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Second, <code>cacerts</code>, the certificate store.  You may need to periodically obtain an updated copy, also.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker cp {container-id-from-above}:/opt/graalvm/lib/security/cacerts src/main/zip.native/</code></pre>
</div>
</div>
<div class="paragraph">
<p>你的最终档案将看起来像这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">jar tvf target/function.zip

    bootstrap
    runner
    cacerts
    libsunec.so</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy-to-aws-lambda-using-a-container-image"><a class="anchor" href="#deploy-to-aws-lambda-using-a-container-image"></a>使用容器镜像部署到AWS Lambda</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AWS Lambda supports creating your lambdas by referencing <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-images.html">container images</a> rather than uploading ZIP files. This can have some benefits such as bypassing the size limit of the uploaded ZIP files. You can define lambda functions for both native builds and regular JVM builds.</p>
</div>
<div class="sect2">
<h3 id="jvm-container-image"><a class="anchor" href="#jvm-container-image"></a>JVM container image</h3>
<div class="paragraph">
<p>对于正常的JVM发行版，你需要在官方AWS Java基础镜像之上建立你的镜像。下面是一个Dockerfile的例子，它将从你的Quarkus Lambda项目创建一个容器镜像。它假设已经执行了 <code>mvn package</code> ，并且二进制文件已存在于 <code>target/</code> 目录中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Dockerfile hljs" data-lang="Dockerfile">FROM  public.ecr.aws/lambda/java:11

ADD target/my-service-0.0.1-SNAPSHOT-runner.jar /var/task/lib/my-service.jar
ADD target/lib/  /var/task/lib/

CMD ["io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest"]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="native-executable-container-image"><a class="anchor" href="#native-executable-container-image"></a>本地可执行的容器镜像</h3>
<div class="paragraph">
<p>To create a lambda container image that uses the native executable we&#8217;ll need to do things a little differently. In this case, we won&#8217;t need to use the <code>java:11</code> base image from AWS, but instead we&#8217;ll use a special image that assumes that the runtime environment for the lambda is provided. The example below creates such a container. It assumes that a Maven build has been executed (such as <code>mvn package -Dnative=true</code>) and has generated the native binary into the <code>target/</code> directory. The binary needs to be named <code>bootstrap</code> and be placed in <code>/var/runtime/</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Dockerfile hljs" data-lang="Dockerfile">FROM  public.ecr.aws/lambda/provided

ADD target/my-service-0.0.1-SNAPSHOT-runner /var/runtime/bootstrap
RUN chmod ugo+x /var/runtime/bootstrap

CMD ["io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest"]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deploying-a-container-image-lambda"><a class="anchor" href="#deploying-a-container-image-lambda"></a>部署一个容器镜像lambda</h3>
<div class="paragraph">
<p>下面，你可以看到如何使用 <code>docker</code> 和 <code>aws</code> 命令行工具将上面创建的容器镜像构建并部署到AWS中。这些指令对原生和jvm容器镜像都适用，并假设已经登录到 <code>aws</code> 命令行工具。</p>
</div>
<div class="sect3">
<h4 id="build-the-docker-image"><a class="anchor" href="#build-the-docker-image"></a>构建Docker镜像</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Assuming we are located in the root directory of the project and created a Dockerfile there
docker build .
   [output omitted]
    =&gt; exporting to image                    0.0s
    =&gt; =&gt; exporting layers                   0.0s
    =&gt; =&gt; writing image sha256:[SOME SHA]    0.0s</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-an-ecr-repository-in-the-users-aws-account"><a class="anchor" href="#create-an-ecr-repository-in-the-users-aws-account"></a>在用户的AWS账户中创建一个ECR存储库</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">aws ecr create-repository --repository-name my/test/quarkus-lambda</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tag-the-image-using-your-ecr-registry-information"><a class="anchor" href="#tag-the-image-using-your-ecr-registry-information"></a>使用你的ECR注册信息给镜像打上标签</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker tag [SOME SHA] [YOUR AWS ACCOUNT ID].dkr.ecr.[YOUR AWS ACCOUNT REGION].amazonaws.com/my/test/quarkus-lambda:v1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="log-docker-into-your-ecr-registry-and-push-the-docker-image-to-it"><a class="anchor" href="#log-docker-into-your-ecr-registry-and-push-the-docker-image-to-it"></a>将Docker记录到你的ECR注册表中，并将Docker镜像推送到其中</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">aws ecr get-login-password --region region | docker login --username AWS --password-stdin [YOUR AWS ACCOUNT ID].dkr.ecr.[YOUR AWS ACCOUNT REGION].amazonaws.com
docker push [YOUR AWS ACCOUNT ID].dkr.ecr.[YOUR AWS ACCOUNT REGION].amazonaws.com/my/test/quarkus-lambda:v1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="create-the-aws-lambda-function-with-the-aws-cli-tool"><a class="anchor" href="#create-the-aws-lambda-function-with-the-aws-cli-tool"></a>用AWS CLI工具创建AWS lambda函数</h4>
<div class="paragraph">
<p>请确保你引用了之前上传的镜像（假设存在一个可以用来运行lambda的角色）。请注意，对于JVM lambda函数来说，默认的 <code>128Mb</code> 内存限制不足以运行该函数，这不是不可能的。在这种情况下，你可以在创建函数时通过向 <code>aws lambda create-function</code> 命令提供 <code>--memory-size 256</code> 参数来增加内存限制。你也可以在创建函数后，在AWS控制台中调整该函数。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">aws lambda create-function --function-name my-test-quarkus-lambda-function --package-type Image --code ImageUri=[YOUR AWS ACCOUNT ID].dkr.ecr.[YOUR AWS ACCOUNT REGION].amazonaws.com/my/test/quarkus-lambda:v1 --role arn:aws:iam::[YOUR AWS ACCOUNT ID]:role/[SOME ROLE]</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在你可以使用AWS控制台来查看和测试你的新lambda函数。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="amazon-alexa-integration"><a class="anchor" href="#amazon-alexa-integration"></a>亚马逊Alexa整合</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要使用带有Quarkus原生的Alexa ，你需要使用<a href="https://github.com/quarkiverse/quarkus-amazon-alexa">托管在Quarkiverse Hub上的Quarkus Amazon Alexa扩展</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkiverse.alexa&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-amazon-alexa&lt;/artifactId&gt;
    &lt;version&gt;${quarkus-amazon-alexa.version}&lt;/version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define the latest version of the extension in your POM file.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Create your Alexa handler, as normal, by sub-classing the abstract <code>com.amazon.ask.SkillStreamHandler</code>, and add your request handler implementation.</p>
</div>
<div class="paragraph">
<p>That&#8217;s all there is to it!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="snapstart"><a class="anchor" href="#snapstart"></a>SnapStart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To optimize your application for Lambda SnapStart, check <a href="aws-lambda-snapstart">the SnapStart Configuration Documentation</a>.</p>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#prerequisites">先决条件</a></li>
<li><a href="#getting-started">入门指南</a></li>
<li><a href="#installing-aws-bits">安装AWS位</a></li>
<li><a href="#creating-the-maven-deployment-project">创建Maven部署项目</a></li>
<li><a href="#choose">选择你的Lambda</a></li>
<li><a href="#deploy-to-aws-lambda-java-runtime">部署到AWS Lambda Java Runtime</a></li>
<li><a href="#build-and-deploy">构建和部署</a></li>
<li><a href="#create-an-execution-role">创建一个执行角色</a></li>
<li><a href="#extra-build-generated-files">构建额外生成的文件</a></li>
<li><a href="#create-the-function">创建函数</a></li>
<li><a href="#invoke-the-lambda">调用Lambda</a></li>
<li><a href="#update-the-lambda">更新Lambda</a></li>
<li><a href="#deploy-to-aws-lambda-custom-native-runtime">部署到AWS Lambda Custom (native) Runtime</a></li>
<li><a href="#examine-the-pom-and-gradle-build">检查POM和Gradle构建</a></li>
<li><a href="#gradle">Gradle build</a></li>
<li><a href="#live-coding-and-unitintegration-testing">实时编码和单元/集成测试</a></li>
<li><a href="#testing-with-the-sam-cli">使用SAM CLI进行测试</a></li>
<li><a href="#modifying-function-zip">修改 <code>function.zip</code> </a></li>
<li><a href="#custom-bootstrap-script">自定义 <code>bootstrap</code> 脚本</a></li>
<li><a href="#tracing-with-aws-xray-and-graalvm">使用AWS XRay和GraalVM进行追踪</a></li>
<li><a href="#https">使用HTTPS或SSL/TLS</a></li>
<li><a href="#aws-sdk-v2">使用AWS Java SDK v2</a></li>
<li><a href="#additional-requirements-for-client-ssl">对客户端SSL的额外要求</a></li>
<li><a href="#deploy-to-aws-lambda-using-a-container-image">使用容器镜像部署到AWS Lambda</a>
<ul class="sectlevel2">
<li><a href="#jvm-container-image">JVM container image</a></li>
<li><a href="#native-executable-container-image">本地可执行的容器镜像</a></li>
<li><a href="#deploying-a-container-image-lambda">部署一个容器镜像lambda</a></li>
</ul>
</li>
<li><a href="#amazon-alexa-integration">亚马逊Alexa整合</a></li>
<li><a href="#snapstart">SnapStart</a></li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same extensions</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.8/guides/aws-lambda-http">AWS Lambda with RESTEasy Reactive, Undertow, or Reactive Routes</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.8/guides/aws-lambda-snapstart">AWS Lambda SnapStart Configuration</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/aws-lambda-http">AWS Lambda with RESTEasy Reactive, Undertow, or Reactive Routes</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-aws-lambda">Funqy AWS Lambda Binding</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-aws-lambda-http">Funqy HTTP Binding with AWS Lambda</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/azure-functions">Azure Functions</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/azure-functions-http">Azure Functions with RESTEasy Reactive, Undertow, or Reactive Routes</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy">Funqy</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-gcp-functions">Funqy Google Cloud Functions</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-http">Funqy HTTP Binding (Standalone)</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-azure-functions-http">Funqy HTTP Binding with Azure Functions</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-gcp-functions-http">Funqy HTTP Binding with Google Cloud Functions</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/funqy-knative-events">Funqy Knative Events Binding</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/gcp-functions">Google Cloud Functions (Serverless)</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/gcp-functions-http">Google Cloud Functions (Serverless) with RESTEasy Reactive, Undertow, or Reactive Routes</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/appcds">AppCDS</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/container-image">Container Images</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/deploying-to-openshift">Deploying on OpenShift</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/deploying-to-google-cloud">Deploying to Google Cloud Platform (GCP)</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/deploying-to-heroku">部署到Heroku</a></li>
      
        
        <li class="guide"><a href="/version/3.8/guides/deploying-to-azure-cloud">部署到微软Azure云</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">博客</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">活动</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">新闻</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">路线图</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">开始体验</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
