<!DOCTYPE html>
<html lang="cn">







<head>
  <title>响应式消息AMQP 1.0连接器参考文档 - 3.15 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.15/guides/amqp-reference" />
  <meta property="og:title" content="响应式消息AMQP 1.0连接器参考文档 - 3.15" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/amqp-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.15/guides/amqp-reference" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.15/guides/amqp-reference" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.15/guides/amqp-reference" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.15/guides/amqp-reference" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.15/guides/amqp-reference" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/version/3.15/guides/amqp-reference">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUS是什么？</a></li>
          <li><a href="/developer-joy" class="">开发者的乐趣 </a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES 原生</a></li>
          <li><a href="/standards" class="">标准</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">容器优先 </a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入门</a></li>
          <li><a href="/guides" class="active" >指南</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP视频</a></li>          
          <li><a href="/books" class="">书籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">浏览扩展</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">使用扩展</a></li>
          <li><a href="/guides/writing-extensions" class="" >创建扩展</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">支持</a></li>
          <li><a href="/blog" class="" >博客</a></li>
          <li><a href="/discussion" class="">讨论</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="" >播客</a></li>
          <li><a href="/events" class="">活动</a></li>
          <li><a href="/newsletter" class="">新闻</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">路线图</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">开始编码</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.15/guides/amqp-reference" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.15/guides/amqp-reference">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.15/guides/amqp-reference">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.15/guides/amqp-reference">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.15/guides/amqp-reference">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    





<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.15/guides/">返回指南目录</a>
    </div>
    <div class="flexlabel">
      <label>选择指南版本</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.28.5 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" selected>3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      <h1 class="text-caps">响应式消息AMQP 1.0连接器参考文档 </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>本指南是 <a href="amqp">AMQP 1.0入门</a>的配套指南。它更详细地解释了响应式消息AMQP连接器的配置和使用。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
本文档并没有涵盖连接器的所有细节。请参考 <a href="https://smallrye.io/smallrye-reactive-messaging">SmallRye 响应式消息网站</a> ，来了解更多细节。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The AMQP connector allows Quarkus applications to send and receive messages using the AMQP 1.0 protocol.
More details about the protocol can be found in <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-overview-v1.0-os.html">the AMQP 1.0 specification</a>.
It&#8217;s important to note that AMQP 1.0 and AMQP 0.9.1 (implemented by RabbitMQ) are incompatible.
Check <a href="#using-rabbitmq">Using RabbitMQ</a> to get more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="amqp-connector-extension"><a class="anchor" href="#amqp-connector-extension"></a>AMQP连接器扩展</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the connector, you need to add the <code>quarkus-messaging-amqp</code> extension.</p>
</div>
<div class="paragraph">
<p>你可以用以下方法将扩展添加到你的项目中：</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add quarkus-messaging-amqp</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='quarkus-messaging-amqp'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='quarkus-messaging-amqp'</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者只需在你的项目中添加以下依赖项：</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-messaging-amqp&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-messaging-amqp")</code></pre>
</div>
</div>
<div class="paragraph">
<p>一旦添加到你的项目中，你就可以通过配置 <code>connector</code> 属性将 <em>channels</em> 映射到AMQP地址:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Inbound
mp.messaging.incoming.[channel-name].connector=smallrye-amqp

# Outbound
mp.messaging.outgoing.[channel-name].connector=smallrye-amqp</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">连接器自动连接</div>
<div class="paragraph">
<p>如果在你的classpath上有一个连接器，你可以省略 <code>connector</code> 属性配置。Quarkus会自动将 <em>orphan</em> 通道与classpath上找到的（唯一的）连接器联系起来。 <em>Orphans</em> 通道是没有下游消费者的传出通道或没有上游生产者的传入通道。</p>
</div>
<div class="paragraph">
<p>可以用以下方法禁用这种自动连接功能：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.messaging.auto-connector-attachment=false</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-amqp-broker-access"><a class="anchor" href="#configuring-the-amqp-broker-access"></a>配置AMQP代理访问</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AMQP连接器连接到AMQP 1.0代理，如Apache ActiveMQ或Artemis。要配置代理的位置和凭证，请在 <code>application.properties</code> 中添加以下属性：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">amqp-host=amqp <i class="conum" data-value="1"></i><b>(1)</b>
amqp-port=5672 <i class="conum" data-value="2"></i><b>(2)</b>
amqp-username=my-username <i class="conum" data-value="3"></i><b>(3)</b>
amqp-password=my-password <i class="conum" data-value="4"></i><b>(4)</b>

mp.messaging.incoming.prices.connector=smallrye-amqp <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>配置代理/路由器的主机名。你可以按通道进行配置（使用 <code>host</code> 属性），或使用 <code>amqp-host</code> 进行全局配置</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>配置代理/路由器的端口。你可以按通道（使用 <code>port</code> 属性）进行配置，或使用 <code>amqp-port</code> 进行全局配置。默认是 <code>5672</code> 。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>如果需要，请配置代理/路由器的用户名。你可以按通道（使用 <code>username</code> 属性）进行配置，或使用 <code>amqp-username</code> 进行全局配置。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>如果需要，请配置代理/路由器的密码。你可以按通道（使用 <code>password</code> 属性）进行配置，或使用 <code>amqp-password</code> 进行全局配置。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>指示将由AMQP连接器管理的价格通道。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>在开发模式下，当运行测试时，<a href="amqp-dev-services.html">AMQP的开发服务</a> 会自动启动一个AMQP代理。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="receiving-amqp-messages"><a class="anchor" href="#receiving-amqp-messages"></a>接收AMQP消息</h2>
<div class="sectionbody">
<div class="paragraph">
<p>让我们想象一下你的应用程序接收 <code>Message&lt;Double&gt;</code> 。你可以直接消费该有效载荷：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package inbound;

import org.eclipse.microprofile.reactive.messaging.Incoming;

import jakarta.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class AmqpPriceConsumer {

    @Incoming("prices")
    public void consume(double price) {
        // process your price.
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者，你可以检索Message&lt;Double&gt;。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package inbound;

import org.eclipse.microprofile.reactive.messaging.Incoming;
import org.eclipse.microprofile.reactive.messaging.Message;

import jakarta.enterprise.context.ApplicationScoped;
import java.util.concurrent.CompletionStage;

@ApplicationScoped
public class AmqpPriceMessageConsumer {

    @Incoming("prices")
    public CompletionStage&lt;Void&gt; consume(Message&lt;Double&gt; price) {
        // process your price.

        // Acknowledge the incoming message, marking the AMQP message as `accepted`.
        return price.ack();
    }

}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="inbound-metadata"><a class="anchor" href="#inbound-metadata"></a>入站元数据</h3>
<div class="paragraph">
<p>来自AMQP的消息在元数据中包含一个 <code>IncomingAmqpMetadata</code> 的实例。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Optional&lt;IncomingAmqpMetadata&gt; metadata = incoming.getMetadata(IncomingAmqpMetadata.class);
metadata.ifPresent(meta -&gt; {
    String address = meta.getAddress();
    String subject = meta.getSubject();
    boolean durable = meta.isDurable();
    // Use io.vertx.core.json.JsonObject
    JsonObject properties = meta.getProperties();
    // ...
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deserialization"><a class="anchor" href="#deserialization"></a>反序列化</h3>
<div class="paragraph">
<p>连接器将传入的AMQP消息转换为响应式消息 <code>Message&lt;T&gt;</code> 实例。 <code>T</code> 取决于收到的AMQP消息的 <em>body</em> 。</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-types-v1.0-os.html">AMQP Type System</a> defines the supported types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">AMQP主体类型</th>
<th class="tableblock halign-left valign-top"><code>&lt;T&gt;</code> </th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP Value containing a <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-types-v1.0-os.html#section-primitive-type-definitions">AMQP Primitive Type</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">对应的Java类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用 <code>Binary</code> 类型的AMQP值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP 序列</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP数据（有二进制内容），并且 <code>content-type</code> 被设为 <code>application/json</code> </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html"><code>JsonObject</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">带有不同 <code>content-type</code> 的AMQP数据</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>如果你用这个AMQP连接器（出站连接器）发送对象，它会被编码为JSON，并以二进制形式发送。 <code>content-type</code> 被设置为 <code>application/json</code> 。因此，你可以按以下方式重建对象。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.vertx.core.json.JsonObject;
//
@ApplicationScoped
public static class Consumer {

    List&lt;Price&gt; prices = new CopyOnWriteArrayList&lt;&gt;();

    @Incoming("from-amqp") <i class="conum" data-value="1"></i><b>(1)</b>
    public void consume(JsonObject p) {   <i class="conum" data-value="2"></i><b>(2)</b>
        Price price = p.mapTo(Price.class);  <i class="conum" data-value="3"></i><b>(3)</b>
        prices.add(price);
    }

    public List&lt;Price&gt; list() {
        return prices;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>Price</code> 实例被连接器自动编码为JSON。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>你可以使用 <code>JsonObject</code> 接收它</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>然后，你可以使用 <code>mapTo</code> 方法重新构建该实例</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>mapTo</code> 方法使用Quarkus Jackson 映射器。请查看 <a href="rest-json.html#json">本指南</a> 以了解更多关于映射器的配置。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement"><a class="anchor" href="#acknowledgement"></a>消息确认</h3>
<div class="paragraph">
<p>When a Reactive Messaging Message associated with an AMQP Message is acknowledged, it informs the broker that the message has been <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-accepted">accepted</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="failure-management"><a class="anchor" href="#failure-management"></a>失败管理</h3>
<div class="paragraph">
<p>如果一个由AMQP消息产生的消息是 <em>nacked</em> ，就会应用一个失败策略。AMQP连接器支持六种策略：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fail</code> - 使应用失败；不再处理AMQP消息（默认）。AMQP消息被标记为拒绝。</p>
</li>
<li>
<p><code>accept</code> - this strategy marks the AMQP message as <em>accepted</em>. The processing continues ignoring the failure.
Refer to the <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-accepted">accepted delivery state documentation</a>.</p>
</li>
<li>
<p><code>release</code> - this strategy marks the AMQP message as <em>released</em>. The processing continues with the next message. The broker can redeliver the message.
Refer to the <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-released">released delivery state documentation</a>.</p>
</li>
<li>
<p><code>reject</code> - this strategy marks the AMQP message as rejected. The processing continues with the next message.
Refer to the <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-rejected">rejected delivery state documentation</a>.</p>
</li>
<li>
<p><code>modified-failed</code> - this strategy marks the AMQP
message as <em>modified</em> and indicates that it failed (with the <code>delivery-failed</code> attribute). The processing continues with the next message, but the broker may attempt to redeliver the message.
Refer to the <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-modified">modified delivery state documentation</a></p>
</li>
<li>
<p><code>modified-failed-undeliverable-here</code> - this strategy marks the AMQP message as <em>modified</em> and indicates that it failed (with the <code>delivery-failed</code> attribute). It also indicates that the application cannot process the message, meaning that the broker will not attempt to redeliver the message to this node. The processing continues with the next message.
Refer to the <a href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-modified">modified delivery state documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sending-amqp-messages"><a class="anchor" href="#sending-amqp-messages"></a>发送AMQP消息</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="serialization"><a class="anchor" href="#serialization"></a>序列化</h3>
<div class="paragraph">
<p>当发送一个 <code>Message&lt;T&gt;</code> 时，连接器将消息转换为AMQP消息。有效载荷被转换为AMQP消息 <em>body</em> 。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>T</code> </th>
<th class="tableblock halign-left valign-top">AMQP消息主体</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">原始类型或 <code>String</code> </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">带有有效载荷的AMQP值</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Instant</code> 或 <code>UUID</code> </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用相应的AMQP类型的AMQP值</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html"><code>JsonObject</code></a> 或 <a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonArray.html"><code>JsonArray</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用二进制内容的AMQP数据。 <code>content-type</code> 被设置为 <code>application/json</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.vertx.mutiny.core.buffer.Buffer</code> </p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用二进制内容的AMQP数据。没有设置 <code>content-type</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">任何其他类</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">有效载荷被转换为JSON（使用Json Mapper）。结果被包装成使用 <strong>二进制</strong> 内容的AMQP数据。 <code>content-type</code> 被设置为 <code>application/json</code> </p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>如果消息的有效载荷不能被序列化为JSON，那么该消息是 <em>nacked</em> 。</p>
</div>
</div>
<div class="sect2">
<h3 id="outbound-metadata"><a class="anchor" href="#outbound-metadata"></a>出站元数据</h3>
<div class="paragraph">
<p>当发送 <code>Messages</code> 时，你可以添加一个 <code>OutgoingAmqpMetadata</code> 的实例来影响消息是如何被发送到AMQP的。例如，你可以配置主题、属性。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> OutgoingAmqpMetadata metadata = OutgoingAmqpMetadata.builder()
    .withDurable(true)
    .withSubject("my-subject")
    .build();

// Create a new message from the `incoming` message
// Add `metadata` to the metadata from the `incoming` message.
return incoming.addMetadata(metadata);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dynamic-address-names"><a class="anchor" href="#dynamic-address-names"></a>动态地址名称</h3>
<div class="paragraph">
<p>有时，需要动态选择消息的目的地。在这种情况下，你不应该在你的应用程序配置文件中配置地址，而应该使用出站元数据来设置地址。</p>
</div>
<div class="paragraph">
<p>例如，你可以根据传入的消息发送至一个动态地址。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String addressName = selectAddressFromIncommingMessage(incoming);
OutgoingAmqpMetadata metadata = OutgoingAmqpMetadata.builder()
    .withAddress(addressName)
    .withDurable(true)
    .build();

// Create a new message from the `incoming` message
// Add `metadata` to the metadata from the `incoming` message.
return incoming.addMetadata(metadata);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
为了能够按消息设置地址，连接器使用了一个 <em>anonymous sender</em> 。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement-2"><a class="anchor" href="#acknowledgement-2"></a>消息确认</h3>
<div class="paragraph">
<p>默认情况下，当代理确认消息时，响应式消息 <code>Message</code> 也会被确认。当使用路由器时，这种确认可能不会被启用。在这种情况下，配置 <code>auto-acknowledgement</code> 属性，以便在消息被发送到路由器后立即确认。</p>
</div>
<div class="paragraph">
<p>如果一个AMQP消息被代理拒绝/释放/修改（或不能成功发送），那么该消息是不被认可的。</p>
</div>
</div>
<div class="sect2">
<h3 id="back-pressure-and-credits"><a class="anchor" href="#back-pressure-and-credits"></a>背压和信用</h3>
<div class="paragraph">
<p>背压力是由AMQP <em>credits</em> 来处理的。出站连接器只请求允许的信用额度。当信用额度达到0时，它就会等待（以非阻塞方式），直到代理授予AMQP发送者更多的信用额度。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-amqp-address"><a class="anchor" href="#configuring-the-amqp-address"></a>配置AMQP地址</h2>
<div class="sectionbody">
<div class="paragraph">
<p>你可以使用 <code>address</code> 属性配置AMQP地址：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.connector=smallrye-amqp
mp.messaging.incoming.prices.address=my-queue

mp.messaging.outgoing.orders.connector=smallrye-amqp
mp.messaging.outgoing.orders.address=my-order-queue</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果没有设置 <code>address</code> 属性，连接器将使用通道名称。</p>
</div>
<div class="paragraph">
<p>要使用一个现有的队列，你需要配置 <code>address</code> , <code>container-id</code> 及可选的 <code>link-name</code> 属性。例如，如果你有一个Apache Artemis代理，使用以下方式配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;queues&gt;
    &lt;queue name="people"&gt;
        &lt;address&gt;people&lt;/address&gt;
        &lt;durable&gt;true&lt;/durable&gt;
        &lt;user&gt;artemis&lt;/user&gt;
    &lt;/queue&gt;
&lt;/queues&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>你需要以下配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.people.connector=smallrye-amqp
mp.messaging.outgoing.people.durable=true
mp.messaging.outgoing.people.address=people
mp.messaging.outgoing.people.container-id=people</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果队列名称不是通道名称，你可能需要配置 <code>link-name</code> 属性：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.people-out.connector=smallrye-amqp
mp.messaging.outgoing.people-out.durable=true
mp.messaging.outgoing.people-out.address=people
mp.messaging.outgoing.people-out.container-id=people
mp.messaging.outgoing.people-out.link-name=people</code></pre>
</div>
</div>
<div class="paragraph">
<p>要使用 <code>MULTICAST</code> 队列，你需要提供 <em>FQQN</em> （完全限定队列名称），而不仅仅是队列的名称:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.people-out.connector=smallrye-amqp
mp.messaging.outgoing.people-out.durable=true
mp.messaging.outgoing.people-out.address=foo
mp.messaging.outgoing.people-out.container-id=foo

mp.messaging.incoming.people-out.connector=smallrye-amqp
mp.messaging.incoming.people-out.durable=true
mp.messaging.incoming.people-out.address=foo::bar # Note the syntax: address-name::queue-name
mp.messaging.incoming.people-out.container-id=bar
mp.messaging.incoming.people-out.link-name=people</code></pre>
</div>
</div>
<div class="paragraph">
<p>关于AMQP地址模型的更多详情，请参阅 <a href="https://activemq.apache.org/components/artemis/documentation/2.0.0/address-model.html">Artemis文档</a> 。</p>
</div>
<div class="sect2">
<h3 id="blocking-processing"><a class="anchor" href="#blocking-processing"></a>执行模型和阻塞处理</h3>
<div class="paragraph">
<p>Reactive Messaging会在一个I/O线程中调用您的方法。关于这个话题的更多细节，请看  <a href="quarkus-reactive-architecture">Quarkus Reactive Architecture documentation</a>  。但是您可能需要经常将Reactive Messaging 与阻塞式处理相结合使用，比如与数据库通信。为此，您需要使用 <code>@Blocking</code> 注解来表该明处理是 <em>阻塞的</em> ，并且不在调用者线程中运行。</p>
</div>
<div class="paragraph">
<p>例如，下面的代码演示了如何使用Hibernate与Panache将接收到的payload存储到数据库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.smallrye.reactive.messaging.annotations.Blocking;
import org.eclipse.microprofile.reactive.messaging.Incoming;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.transaction.Transactional;

@ApplicationScoped
public class PriceStorage {

    @Incoming("prices")
    @Transactional
    public void store(int priceInUsd) {
        Price price = new Price();
        price.value = priceInUsd;
        price.persist();
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>有2种 <code>@Blocking</code> 注解：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>io.smallrye.reactive.messaging.annotations.Blocking</code></p>
</li>
<li>
<p><code>io.smallrye.common.annotation.Blocking</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>它们效果相同。因此，您可以随意使用。第一个提供了更精细的配置，比如worker pool以及是否保留顺序。第二种，同其他的Quarkus Reactive功能类似，使用默认的worker pool并且保留了顺序。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">@RunOnVirtualThread</div>
<div class="paragraph">
<p>For running the blocking processing on Java <em>virtual threads</em>, see the <a href="messaging-virtual-threads">Quarkus Virtual Thread support with Reactive Messaging documentation</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">@Transactional</div>
<div class="paragraph">
<p>如果你的方法被注释为 <code>@Transactional</code> ，它将被自动视为 <em>blocking</em> ，即使该方法没有被注释为 <code>@Blocking</code> 。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-the-underlying-amqp-client"><a class="anchor" href="#customizing-the-underlying-amqp-client"></a>定制底层AMQP客户端</h2>
<div class="sectionbody">
<div class="paragraph">
<p>连接器在下面使用Vert.x AMQP客户端。关于这个客户端的更多详情，请参阅 <a href="https://vertx.io/docs/vertx-amqp-client/java/">Vert.x网站</a> 。</p>
</div>
<div class="paragraph">
<p>你可以通过产生一个 <code>AmqpClientOptions</code> 的实例来定制底层的客户端配置，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Produces
@Identifier("my-named-options")
public AmqpClientOptions getNamedOptions() {
  // You can use the produced options to configure the TLS connection
  PemKeyCertOptions keycert = new PemKeyCertOptions()
    .addCertPath("./tls/tls.crt")
    .addKeyPath("./tls/tls.key");
  PemTrustOptions trust = new PemTrustOptions().addCertPath("./tlc/ca.crt");
  return new AmqpClientOptions()
        .setSsl(true)
        .setPemKeyCertOptions(keycert)
        .setPemTrustOptions(trust)
        .addEnabledSaslMechanism("EXTERNAL")
        .setHostnameVerificationAlgorithm("") // Disables the hostname verification. Defaults is "HTTPS"
        .setConnectTimeout(30000)
        .setReconnectInterval(5000)
        .setContainerId("my-container");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>这个实例被检索，并用于配置连接器使用的客户端。你需要使用 <code>client-options-name</code> 属性指定客户端的名称。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.client-options-name=my-named-options</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you experience frequent disconnections from the broker, the <code>AmqpClientOptions</code> can also be used to set a heartbeat if you need to keep the AMQP connection permanently.
Some brokers might terminate the AMQP connection after a certain idle timeout.
You can provide a heartbeat value which will be used by the Vert.x proton client to advertise the idle timeout when opening transport to a remote peer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Produces
@Identifier("my-named-options")
public AmqpClientOptions getNamedOptions() {
  // set a heartbeat of 30s (in milliseconds)
  return new AmqpClientOptions()
        .setHeartbeat(30000);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tls-configuration"><a class="anchor" href="#tls-configuration"></a>TLS Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AMQP 1.0 Messaging extension integrates with the <a href="./tls-registry-reference">Quarkus TLS registry</a> to configure the Vert.x AMQP client.</p>
</div>
<div class="paragraph">
<p>To configure the TLS for an AMQP 1.0 channel, you need to provide a named TLS configuration in the <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.your-tls-config.trust-store.pem.certs=ca.crt,ca2.pem
# ...
mp.messaging.incoming.prices.tls-configuration-name=your-tls-config</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="health-reporting"><a class="anchor" href="#health-reporting"></a>健康报告</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果你将AMQP连接器与 <code>quarkus-smallrye-health</code> 扩展一起使用，它将有助于就绪性和活跃度探测。AMQP连接器报告连接器所管理的每个通道的就绪性和活跃度。目前，AMQP连接器对就绪性和活跃度检查使用同样的逻辑。</p>
</div>
<div class="paragraph">
<p>要禁用健康报告，请将通道的 <code>health-enabled</code> 属性设为false。在入站端（接收来自AMQP的消息），检查会验证接收者是否连接到代理。在出站端（向AMQP发送记录），检查会验证发送者是否连接到代理。</p>
</div>
<div class="paragraph">
<p>请注意，消息处理失败会不认可消息，其然后由 <code>failure-strategy</code> 进行处理。报告失败并影响检查的结果是 <code>failure-strategy</code> 的责任。 <code>fail</code> 失败策略报告失败，因此检查将报告故障。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-rabbitmq"><a class="anchor" href="#using-rabbitmq"></a>使用RabbitMQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>此连接器用于 AMQP 1.0. RabbitMQ 实现 AMQP 0.9.1。RabbitMQ 默认不提供 AMQP 1.0，但有一个插件。要将此连接器与RabbitMQ一起使用，请启用并配置 AMQP 1.0 插件。</p>
</div>
<div class="paragraph">
<p>尽管存在插件，但少数 AMQP 1.0 特性并不能与 RabbitMQ 一起工作。因此，我们建议采用以下配置。</p>
</div>
<div class="paragraph">
<p>要接收来自 RabbitMQ 的消息：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>将durable设为false</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.connector=smallrye-amqp
mp.messaging.incoming.prices.durable=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>要向 RabbitMQ 发送消息：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>设置目的地地址（不支持匿名发送者）。</p>
</li>
<li>
<p>将 <code>use-anonymous-sender</code> 设为false</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.outgoing.generated-price.connector=smallrye-amqp
mp.messaging.outgoing.generated-price.address=prices
mp.messaging.outgoing.generated-price.use-anonymous-sender=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>因此，在使用 RabbitMQ 时，不可能动态改变目的地（使用消息元数据）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="receiving-cloud-events"><a class="anchor" href="#receiving-cloud-events"></a>接收云事件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AMQP连接器支持 <a href="https://cloudevents.io/">云事件</a> 。当连接器检测到一个 <em>structured</em> 或 <em>binary</em> 云事件时，它会向 <code>Message</code> 的元数据中添加一个 <code>IncomingCloudEventMetadata&lt;T&gt;</code> 。 <code>IncomingCloudEventMetadata</code> 包含对强制和可选云事件属性的访问器。</p>
</div>
<div class="paragraph">
<p>如果连接器不能提取云事件元数据，它将发送没有元数据的消息。</p>
</div>
<div class="paragraph">
<p>关于接收云事件的更多信息，请参阅SmallRye响应式消息文档中的 <a href="https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.12/amqp/amqp.html#_receiving_cloud_events">接收云事件</a> 。</p>
</div>
<div class="sect2">
<h3 id="sending-cloud-events"><a class="anchor" href="#sending-cloud-events"></a>发送云事件</h3>
<div class="paragraph">
<p>AMQP连接器支持 <a href="https://cloudevents.io/">云事件</a> 。连接器会将出站记录作为云事件发送，如果：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>消息元数据包含一个 <code>io.smallrye.reactive.messaging.ce.OutgoingCloudEventMetadata</code> 实例。</p>
</li>
<li>
<p>通道配置定义了 <code>cloud-events-type</code> 和 <code>cloud-events-source</code> 属性。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>关于发送云事件的更多信息，请参阅SmallRye响应式消息文档中的 <a href="https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.12/amqp/amqp.html#_sending_cloud_events">发送云事件</a> 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>AMQP连接器配置参考</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="quarkus-specific-configuration"><a class="anchor" href="#quarkus-specific-configuration"></a>Quarkus的特定配置</h3>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">类型</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">默认</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-messaging-amqp_section_quarkus-amqp-devservices"></a> <span class="section-name section-level0"><a href="#quarkus-messaging-amqp_section_quarkus-amqp-devservices">Dev Services</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">类型</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">默认</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-enabled"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-enabled"><code>quarkus.amqp.devservices.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If Dev Services for AMQP has been explicitly enabled or disabled. Dev Services are generally enabled by default, unless there is an existing configuration present. For AMQP, Dev Services starts a broker unless <code>amqp-host</code> or <code>amqp-port</code> are set or if all the Reactive Messaging AMQP channel are configured with <code>host</code> or <code>port</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27257">QUARKUS_AMQP_DEVSERVICES_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27257" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-port"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-port"><code>quarkus.amqp.devservices.port</code></a></span></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Optional fixed port the dev service will listen to.</p>
</div>
<div class="paragraph">
<p>If not defined, the port will be chosen randomly.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27258">QUARKUS_AMQP_DEVSERVICES_PORT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27258" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-image-name"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-image-name"><code>quarkus.amqp.devservices.image-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The image to use. Note that only ActiveMQ Artemis images are supported. Specifically, the image repository must end with <code>artemiscloud/activemq-artemis-broker</code>.</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://quay.io/repository/artemiscloud/activemq-artemis-broker">activemq-artemis-broker on Quay page</a> to find the available versions.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27259">QUARKUS_AMQP_DEVSERVICES_IMAGE_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27259" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>quay.io/artemiscloud/activemq-artemis-broker:1.0.25</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-extra-args"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-extra-args"><code>quarkus.amqp.devservices.extra-args</code></a></span></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The value of the <code>AMQ_EXTRA_ARGS</code> environment variable to pass to the container. For ActiveMQ Artemis Broker &#8656; 1.0.21, set this property to <code>--no-autotune --mapped --no-fsync --relax-jolokia --http-host 0.0.0.0</code></p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27260">QUARKUS_AMQP_DEVSERVICES_EXTRA_ARGS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27260" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>--no-autotune --mapped --no-fsync --relax-jolokia</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-shared"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-shared"><code>quarkus.amqp.devservices.shared</code></a></span></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Indicates if the AMQP broker managed by Quarkus Dev Services is shared. When shared, Quarkus looks for running containers using label-based service discovery. If a matching container is found, it is used, and so a second one is not started. Otherwise, Dev Services for AMQP starts a new container.</p>
</div>
<div class="paragraph">
<p>The discovery uses the <code>quarkus-dev-service-amqp</code> label. The value is configured using the <code>service-name</code> property.</p>
</div>
<div class="paragraph">
<p>Container sharing is only used in dev mode.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27261">QUARKUS_AMQP_DEVSERVICES_SHARED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27261" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-service-name"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-service-name"><code>quarkus.amqp.devservices.service-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The value of the <code>quarkus-dev-service-aqmp</code> label attached to the started container. This property is used when <code>shared</code> is set to <code>true</code>. In this case, before starting a container, Dev Services for AMQP looks for a container with the <code>quarkus-dev-service-amqp</code> label set to the configured value. If found, it will use this container instead of starting a new one. Otherwise, it starts a new container with the <code>quarkus-dev-service-amqp</code> label set to the specified value.</p>
</div>
<div class="paragraph">
<p>This property is used when you need multiple shared AMQP brokers.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27262">QUARKUS_AMQP_DEVSERVICES_SERVICE_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27262" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>amqp</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-messaging-amqp_quarkus-amqp-devservices-container-env-environment-variable-name"></a> <span class="property-path"><a href="#quarkus-messaging-amqp_quarkus-amqp-devservices-container-env-environment-variable-name"><code>quarkus.amqp.devservices.container-env."environment-variable-name"</code></a></span></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Environment variables that are passed to the container.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-27263">QUARKUS_AMQP_DEVSERVICES_CONTAINER_ENV__ENVIRONMENT_VARIABLE_NAME_</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-27263" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Map&lt;String,String&gt;</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="incoming-channel-configuration"><a class="anchor" href="#incoming-channel-configuration"></a>传入通道配置</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.7777%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 22.2224%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">描述</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
<th class="tableblock halign-left valign-top">默认</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>address</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP地址。如果没有设置，则使用通道名称</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>auto-acknowledgement</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">收到的AMQP消息是否必须在收到时被确认
类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>broadcast</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">收到的AMQP消息是否必须派发给多个 <em>subscribers</em> </p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>capabilities</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of capabilities proposed by the sender or receiver client.</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>client-options-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-client-options-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于定制AMQP客户端配置的AMQP客户端选项bean的名称</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">启用（默认）或禁用云事件支持。如果在 <em>incoming</em> 通道上启用了，则连接器会分析传入记录并尝试创建云事件元数据。如果在 <em>outgoing</em> 通道上启用了，如果消息包括云事件元数据，则连接器会将传出消息作为云事件发送。</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>connect-timeout</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-connect-timeout)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接超时以毫秒为单位</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>container-id</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP容器的id</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>durable</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP订阅是否是durable</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>failure-strategy</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">当从AMQP消息中产生的消息为不被认可时，指定要应用的失败策略。可接受的值是 <code>fail</code> （默认）， <code>accept</code> ， <code>release</code> ， <code>reject</code> ， <code>modified-failed</code> ， <code>modified-failed-undeliverable-here</code> </p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fail</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>health-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">等待的最大秒数，以确定用于就绪检查的与代理的连接是否仍在建立。在该阈值之后，检查被认为是失败的。</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">代理的主机名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>link-name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">链接的名称。如果没有设置，则使用通道名称。</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于对代理进行身份验证的密码</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>port</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-port)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">代理端口</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5672</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-attempts</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-reconnect-attempts)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">尝试重新连接的次数</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-interval</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-reconnect-interval)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">两次尝试重新连接之间的间隔（秒）</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>sni-server-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-sni-server-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果设置了，明确地覆盖用于TLS SNI服务器名称的主机名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>selector</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets a message selector. This attribute is used to define an <code>apache.org:selector-filter:string</code> filter on the source terminus, using SQL-based syntax to request the server filters which messages are delivered to the receiver (if supported by the server in question). Precise functionality supported and syntax needed can vary depending on the server.</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing-enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">是否启用（默认）或禁用了追踪</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>use-ssl</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-use-ssl)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP连接是否使用了SSL/TLS</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>username</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-username)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于对代理进行身份验证的用户名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>virtual-host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-virtual-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果设置了，配置用于连接AMQP开放框架和TLS SNI服务器名称的主机名值（如果正在使用TLS）</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="outgoing-channel-configuration"><a class="anchor" href="#outgoing-channel-configuration"></a>传出通道配置</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.7777%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 22.2224%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">描述</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
<th class="tableblock halign-left valign-top">默认</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>address</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP地址。如果没有设置，则使用通道名称</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>capabilities</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of capabilities proposed by the sender or receiver client.</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>client-options-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-client-options-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于定制AMQP客户端配置的AMQP客户端选项bean的名称</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">启用（默认）或禁用云事件支持。如果在 <em>incoming</em> 通道上启用了，则连接器会分析传入记录并尝试创建云事件元数据。如果在 <em>outgoing</em> 通道上启用了，如果消息包括云事件元数据，则连接器会将传出消息作为云事件发送。</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-data-content-type</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-data-content-type)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配置传出的云事件的默认 <code>datacontenttype</code> 属性。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>datacontenttype</code> 属性，则使用此值</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-data-schema</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-data-schema)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配置传出的云事件的默认 <code>dataschema</code> 属性。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>dataschema</code> 属性，则使用此值</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-insert-timestamp</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-timestamp)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接器是否应将 <code>time</code> 属性自动插入到传出的云事件中。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>time</code> 属性，则使用此值</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-mode</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">云事件模式（ <code>structured</code> 或 <code>binary</code> （默认））。表示如何在传出的记录中写入云事件</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>binary</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-source</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-source)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配置传出的云事件的默认 <code>source</code> 属性。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>source</code> 属性，则使用此值</p>
<p class="tableblock">类型: _string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-subject</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-subject)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配置传出的云事件的默认 <code>subject</code> 属性。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>subject</code> 属性，则使用此值</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>cloud-events-type</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(cloud-events-default-type)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配置传出的云事件的默认 <code>type</code> 属性。要求将 <code>cloud-events</code> 设为 <code>true</code> 。如果消息本身没有配置 <code>type</code> 属性，则使用此值</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>connect-timeout</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-connect-timeout)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接超时以毫秒为单位</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>container-id</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP容器的id</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>credit-retrieval-period</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">两次尝试检索代理授予的信用额度之间的时间段（以毫秒为单位）。当发送者用完信用额度的时候使用这个时间。</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2000</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>durable</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">发送的AMQP消息是否被标记为durable</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>health-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">等待的最大秒数，以确定用于就绪检查的与代理的连接是否仍在建立。在该阈值之后，检查被认为是失败的。</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">代理的主机名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>link-name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">链接的名称。如果没有设置，则使用通道名称。</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>merge</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接器是否应允许多个上游</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于对代理进行身份验证的密码</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>port</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-port)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">代理端口</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5672</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-attempts</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-reconnect-attempts)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">尝试重新连接的次数</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-interval</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-reconnect-interval)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">两次尝试重新连接之间的间隔（秒）</p>
<p class="tableblock">类型: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>sni-server-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-sni-server-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果设置了，明确地覆盖用于TLS SNI服务器名称的主机名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing-enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">是否启用（默认）或禁用了追踪</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>ttl</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">发送的AMQP消息的生存时间。0表示禁用TTL</p>
<p class="tableblock">类型: <em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>use-anonymous-sender</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接器是否应使用匿名发送者。如果代理支持，则默认值为 <code>true</code> ，否则为 <code>false</code> 。如果不支持，则无法动态更改目的地地址。</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>use-ssl</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-use-ssl)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP连接是否使用了SSL/TLS</p>
<p class="tableblock">类型: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code> </p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>username</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-username)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">用于对代理进行身份验证的用户名</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>virtual-host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(amqp-virtual-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果设置了，配置用于连接AMQP开放框架和TLS SNI服务器名称的主机名值（如果正在使用TLS）</p>
<p class="tableblock">类型: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="conditionally-configure-channels"><a class="anchor" href="#conditionally-configure-channels"></a>Conditionally configure channels</h3>
<div class="paragraph">
<p>You can configure the channels using a specific profile.
Thus, the channels are only configured (and added to the application) when the specified profile is enabled.</p>
</div>
<div class="paragraph">
<p>To achieve this, you need:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prefix the <code>mp.messaging.[incoming|outgoing].$channel</code> entries with <code>%my-profile</code> such as <code>%my-profile.mp.messaging.[incoming|outgoing].$channel.key=value</code></p>
</li>
<li>
<p>Use the <code>@IfBuildProfile("my-profile")</code> on the CDI beans containing <code>@Incoming(channel)</code> and <code>@Outgoing(channel)</code> annotations that need only to be enabled when the profile is enabled.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note that reactive messaging verifies that the graph is complete.
So, when using such a conditional configuration, ensure the application works with and without the profile enabled.</p>
</div>
<div class="paragraph">
<p>Note that this approach can also be used to change the channel configuration based on a profile.</p>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#amqp-connector-extension">AMQP连接器扩展</a></li>
<li><a href="#configuring-the-amqp-broker-access">配置AMQP代理访问</a></li>
<li><a href="#receiving-amqp-messages">接收AMQP消息</a>
<ul class="sectlevel2">
<li><a href="#inbound-metadata">入站元数据</a></li>
<li><a href="#deserialization">反序列化</a></li>
<li><a href="#acknowledgement">消息确认</a></li>
<li><a href="#failure-management">失败管理</a></li>
</ul>
</li>
<li><a href="#sending-amqp-messages">发送AMQP消息</a>
<ul class="sectlevel2">
<li><a href="#serialization">序列化</a></li>
<li><a href="#outbound-metadata">出站元数据</a></li>
<li><a href="#dynamic-address-names">动态地址名称</a></li>
<li><a href="#acknowledgement-2">消息确认</a></li>
<li><a href="#back-pressure-and-credits">背压和信用</a></li>
</ul>
</li>
<li><a href="#configuring-the-amqp-address">配置AMQP地址</a>
<ul class="sectlevel2">
<li><a href="#blocking-processing">执行模型和阻塞处理</a></li>
</ul>
</li>
<li><a href="#customizing-the-underlying-amqp-client">定制底层AMQP客户端</a></li>
<li><a href="#tls-configuration">TLS Configuration</a></li>
<li><a href="#health-reporting">健康报告</a></li>
<li><a href="#using-rabbitmq">使用RabbitMQ</a></li>
<li><a href="#receiving-cloud-events">接收云事件</a>
<ul class="sectlevel2">
<li><a href="#sending-cloud-events">发送云事件</a></li>
</ul>
</li>
<li><a href="#configuration-reference">AMQP连接器配置参考</a>
<ul class="sectlevel2">
<li><a href="#quarkus-specific-configuration">Quarkus的特定配置</a></li>
<li><a href="#incoming-channel-configuration">传入通道配置</a></li>
<li><a href="#outgoing-channel-configuration">传出通道配置</a></li>
<li><a href="#conditionally-configure-channels">Conditionally configure channels</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same extensions</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/amqp-dev-services">AMQP的开发服务</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/amqp">Getting Started to Quarkus Messaging with AMQP 1.0</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/amqp-dev-services">AMQP的开发服务</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/amqp">Getting Started to Quarkus Messaging with AMQP 1.0</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka">Apache Kafka参考指南</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/pulsar">Apache Pulsar Reference Guide</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/apicurio-registry-dev-services">Apicurio注册表的开发服务</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-dev-services">Kafka开发服务（Dev Services）</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/pulsar-dev-services">Dev Services for Pulsar</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/rabbitmq-dev-services">Dev Services for RabbitMQ</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-getting-started">Getting Started to Quarkus Messaging with Apache Kafka</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/pulsar-getting-started">Getting Started to Quarkus Messaging with Apache Pulsar</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/rabbitmq">Getting Started to Quarkus Messaging with RabbitMQ</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-dev-ui">Kafka Dev UI</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/messaging">Quarkus Messaging Extensions</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/messaging-virtual-threads">Quarkus Virtual Thread support with Reactive Messaging</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/rabbitmq-reference">Reactive Messaging RabbitMQ Connector Reference Documentation</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-streams">使用Apache Kafka Streams</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-schema-registry-avro">使用Apache Kafka与模式仓库和Avro</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-schema-registry-json-schema">Using Apache Kafka with Schema Registry and JSON Schema</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/jms">使用JMS</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/reactive-event-bus">使用事件总线</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">博客</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">活动</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">新闻</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">路线图</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">开始体验</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
